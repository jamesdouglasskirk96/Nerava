2025-11-20 08:50:50,635 [DEBUG] asyncio - Using selector: KqueueSelector
2025-11-20 08:50:50,635 [INFO] seed_city - Starting seed for Austin with bbox (30.0, -98.0, 30.5, -97.5)
2025-11-20 08:50:50,635 [INFO] seed_city - Fetching chargers from NREL API...
2025-11-20 08:50:50,635 [INFO] app.integrations.nrel_client - [WhileYouCharge] NREL API call: lat=30.25, lng=-97.75, radius=41.4mi
2025-11-20 08:50:50,682 [DEBUG] httpcore.connection - connect_tcp.started host='developer.nrel.gov' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:50:50,967 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1039a4ca0>
2025-11-20 08:50:50,968 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x10398e350> server_hostname='developer.nrel.gov' timeout=10.0
2025-11-20 08:50:51,145 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10398bdf0>
2025-11-20 08:50:51,146 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:50:51,147 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:50:51,147 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:50:51,147 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:50:51,147 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:50:51,317 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 20 Nov 2025 14:50:51 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Max-Age', b'86400'), (b'Age', b'0'), (b'Cache-Control', b'max-age=0, private, must-revalidate'), (b'Content-Encoding', b'gzip'), (b'Last-Modified', b'Thu, 20 Nov 2025 14:50:51 GMT'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'Vary', b'Accept-Encoding,Origin'), (b'Via', b'https/1.1 api-umbrella (ApacheTrafficServer [cMsSf ])'), (b'X-Api-Umbrella-Request-Id', b'cqk6vijvjd8dm2kgphg0'), (b'X-Cache', b'MISS'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Permitted-Cross-Domain-Policies', b'none'), (b'X-Ratelimit-Limit', b'1000'), (b'X-Ratelimit-Remaining', b'999'), (b'X-Request-Id', b'ef5d0f8c265b791082b0557cd3a44c6c'), (b'X-Runtime', b'0.019610'), (b'X-Vcap-Request-Id', b'8a4499aa-978d-418b-4a66-b9500cf153f3'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Frame-Options', b'SAMEORIGIN')])
2025-11-20 08:50:51,319 [INFO] httpx - HTTP Request: GET https://developer.nrel.gov/api/alt-fuel-stations/v1/nearest.json?api_key=rBv6VXOAQbJemI6xw2QbqjceK5QdNUta8MpT50mY&fuel_type=ELEC&latitude=30.25&longitude=-97.75&radius=41.4&limit=100&format=json "HTTP/1.1 200 OK"
2025-11-20 08:50:51,320 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:50:51,439 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:50:51,440 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:50:51,440 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:50:51,441 [DEBUG] app.integrations.nrel_client - [WhileYouCharge] NREL API response status: 200
2025-11-20 08:50:51,448 [DEBUG] httpcore.connection - close.started
2025-11-20 08:50:51,448 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:50:51,449 [INFO] seed_city - Found 100 chargers from NREL
2025-11-20 08:50:51,507 [INFO] seed_city - Saved 100 chargers to DB
2025-11-20 08:50:51,507 [INFO] seed_city - Processing 100 chargers for merchant discovery
2025-11-20 08:50:51,509 [INFO] seed_city - [SeedCity] Charger ch_3813819ecd0d: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 08:50:51,509 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.250541 lng=-97.749422 type=cafe radius=1000
2025-11-20 08:50:51,513 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:50:51,596 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b690d0>
2025-11-20 08:50:51,596 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e040> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:50:51,681 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b56280>
2025-11-20 08:50:51,681 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:50:51,682 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:50:51,682 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:50:51,682 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:50:51,682 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:50:52,324 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:50:52 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:55:52 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50059'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=597'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:50:52,326 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.250541%2C-97.749422&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 08:50:52,326 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:50:52,385 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:50:52,386 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:50:52,386 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:50:52,387 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.250541,-97.749422', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 08:50:52,388 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5WpxDIVDSVowgM1td8TGlqcEATf2bRRn-GdPPybJUKPuJnz5tQ2K4w_5yWU-lDBHgtiv6o5XmJNgWQ_PWNS9xPUVCiqh9cybQCx6sFZEaNIbSgl9lJj8Zo-8LLKSWZ7hhLbSYc2W3A27_4oHcEStUvBFOYNZZQhYSP2H8F8TTk0I7ofEBXP37gsNcTio8uP-g4SDp29wlsbcCZdUwmFOT9p0yhBCAbxRe-9GCg3XUAvisGfy0v4ZoGaGpDpkmVROumsyGEAiS71KHLeuZvJvVT-GWyfdC2jTCcP7wWAq_Rnw__wgLGvg5be4L8SmOEAkP2UmS8BHLO10JmDzOLe6X1XbsqkPqNXRyvxGh0UyhWPiVqJ15giJcBSROm5hOBlF3NqA_kPVkLJehnTH5xQtUzatib-srssq3ug3D1e76NWcQZ92Nbdwa8PXqGEwVk0Q
2025-11-20 08:50:52,388 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:50:52,388 [DEBUG] httpcore.connection - close.started
2025-11-20 08:50:52,389 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:50:52,389 [INFO] seed_city - [SeedCity] Charger ch_3813819ecd0d category 'coffee': Found 10 places
2025-11-20 08:50:52,399 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:50:52,449 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b4d550>
2025-11-20 08:50:52,449 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e120> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:50:52,550 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b4d400>
2025-11-20 08:50:52,551 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:50:52,552 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:50:52,552 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:50:52,552 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:50:52,552 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:50:52,757 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:50:52 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4008'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=151'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:50:52,758 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.250541%2C-97.749422&destinations=30.2510458%2C-97.74937170000001%7C30.24482649999999%2C-97.75694%7C30.24218479999999%2C-97.7589562%7C30.25224%2C-97.7636%7C30.2612339%2C-97.75786389999999%7C30.26447%2C-97.74377%7C30.26587%2C-97.74643999999999%7C30.26546%2C-97.74043999999999%7C30.26554%2C-97.73837999999999%7C30.23371%2C-97.74239999999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:50:52,759 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:50:52,760 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:50:52,760 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:50:52,760 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:50:52,761 [DEBUG] httpcore.connection - close.started
2025-11-20 08:50:52,761 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:50:52,765 [ERROR] seed_city - Error processing category coffee for charger ch_3813819ecd0d: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJ1S_Bov20RIYRe7MiR8tYawY', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJ1S_Bov20RIYRe7MiR8tYawY', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:50:52,774 [INFO] seed_city - [SeedCity] Charger ch_3813819ecd0d: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 08:50:52,774 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.250541 lng=-97.749422 type=restaurant radius=1000
2025-11-20 08:50:52,778 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:50:52,835 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103a7ab50>
2025-11-20 08:50:52,836 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e040> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:50:52,939 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b560a0>
2025-11-20 08:50:52,940 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:50:52,941 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:50:52,941 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:50:52,942 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:50:52,942 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:50:53,793 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:50:53 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:55:53 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'46742'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=793'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:50:53,794 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.250541%2C-97.749422&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 08:50:53,794 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:50:53,876 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:50:53,876 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:50:53,877 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:50:53,878 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.250541,-97.749422', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 08:50:53,879 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5NxwdK4WbNk4gXcWfRgHD0cmuvMMjlHdYLIT0HGtigGE7doYcEocqg4uzRkhMKUx_iUb4uUTUAyuHIRV3MGGE0-xnFK7y35g_hGNrtvqfnboqIy_u6lDBqUmT1_HBTQVfAhfQ_B9VW2j5N3QS4bQVIwRxfSAtTMaMH4pelKcz5OTO5xGmrtLwAAMAL_2XeaQmsMaSBFgy_nkkp0xHZlb93NvrotTJjGcb5MUrshzT2ewVIfsGVqz7azS1pKoihtpnUQw1IPszn6PQDd0yekRHKMGWECif6_sEfysCUlqFAGL2tXYhMmetDDSfFZPV4dPhkdCrjp5OSunbDFRzYuPglNdhm42Hy7velhsnGayNBPBMZy9rvY8OkOgtFkI4wgZiRYfqgqV1RWBDSsOTwk3_oFX1F8klgkmg8q5ws_DqaaHKeneAQCb9x_6w5KIvRv0
2025-11-20 08:50:53,879 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:50:53,880 [DEBUG] httpcore.connection - close.started
2025-11-20 08:50:53,880 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:50:53,880 [INFO] seed_city - [SeedCity] Charger ch_3813819ecd0d category 'food': Found 10 places
2025-11-20 08:50:53,886 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:50:53,935 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b69fd0>
2025-11-20 08:50:53,935 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103bc2270> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:50:54,037 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b69340>
2025-11-20 08:50:54,038 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:50:54,039 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:50:54,039 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:50:54,040 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:50:54,040 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:50:54,221 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:50:54 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4051'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=127'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:50:54,222 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.250541%2C-97.749422&destinations=30.24995849999999%2C-97.7500913%7C30.2526168%2C-97.7476959%7C30.25331539999999%2C-97.74802439999999%7C30.2534769%2C-97.74788769999999%7C30.247111%2C-97.750424%7C30.2494868%2C-97.7555656%7C30.24445649999999%2C-97.7519537%7C30.2465449%2C-97.7567582%7C30.2410896%2C-97.7529007%7C30.2546975%2C-97.7626693&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:50:54,223 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:50:54,224 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:50:54,224 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:50:54,224 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:50:54,225 [DEBUG] httpcore.connection - close.started
2025-11-20 08:50:54,225 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:50:54,227 [ERROR] seed_city - Error processing category food for charger ch_3813819ecd0d: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJb7byD_20RIYRT9uoSeSUvzY', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJb7byD_20RIYRT9uoSeSUvzY', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:50:54,229 [INFO] seed_city - [SeedCity] Charger ch_3813819ecd0d: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 08:50:54,229 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.250541 lng=-97.749422 type=supermarket radius=1000
2025-11-20 08:50:54,235 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:50:54,253 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d61820>
2025-11-20 08:50:54,253 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e190> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:50:54,310 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4feb0>
2025-11-20 08:50:54,310 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:50:54,311 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:50:54,311 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:50:54,311 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:50:54,311 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:50:54,738 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:50:54 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:55:54 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=401'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:50:54,739 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.250541%2C-97.749422&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 08:50:54,739 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:50:54,758 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:50:54,759 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:50:54,759 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:50:54,760 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.250541,-97.749422', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 08:50:54,760 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2643126, "lng": -97.7340971}, "viewport": {"northeast": {"lat": 30.26576902989272, "lng": -97.73269037010728}, "southwest": {"lat": 30.26306937010727, "lng": -97.73539002989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcar
2025-11-20 08:50:54,761 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 08:50:54,761 [DEBUG] httpcore.connection - close.started
2025-11-20 08:50:54,761 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:50:54,761 [INFO] seed_city - [SeedCity] Charger ch_3813819ecd0d category 'groceries': Found 7 places
2025-11-20 08:50:54,770 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:50:54,806 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d62c10>
2025-11-20 08:50:54,806 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b4af90> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:50:54,883 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d629a0>
2025-11-20 08:50:54,884 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:50:54,885 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:50:54,885 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:50:54,885 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:50:54,885 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:50:55,043 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:50:55 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3007'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=113'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:50:55,044 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.250541%2C-97.749422&destinations=30.2643126%2C-97.7340971%7C30.2706339%2C-97.753587%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:50:55,044 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:50:55,045 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:50:55,045 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:50:55,045 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:50:55,046 [DEBUG] httpcore.connection - close.started
2025-11-20 08:50:55,046 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:50:55,148 [INFO] seed_city - [SeedCity] Charger ch_3813819ecd0d: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 08:50:55,148 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.250541 lng=-97.749422 type=gym radius=1000
2025-11-20 08:50:55,160 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:50:55,200 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d631c0>
2025-11-20 08:50:55,200 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49970> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:50:55,278 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b713d0>
2025-11-20 08:50:55,279 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:50:55,280 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:50:55,280 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:50:55,280 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:50:55,280 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:50:55,825 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:50:55 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:55:55 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47105'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=471'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:50:55,827 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.250541%2C-97.749422&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 08:50:55,827 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:50:55,887 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:50:55,888 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:50:55,888 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:50:55,898 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.250541,-97.749422', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 08:50:55,899 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7aEt_Nq76l3KzGpafaQxllsc6uuPoVzMb97iSPmx9udxR3Gw4qgmW4XOOgxEegjZRs3VDxCPLywDP2XTWTEvGdPL6P6sD5R3nV7J666WZfoAxIA-uNeerpEyGHMdblnn8TTi6ZO2NHj3TWvdre5ZgpnzQnw5iNMXquaTxdhtnXeGJcIerwIYuIx35vs4oeeubkQ3-Qk_8D8PuWjUSxihOUit4R1nIPqk4VQybK3Dh48Z-MnCzE1Rca1DTd6cPAC5T62WM1DTusxFWXJL8SAZKlAkEvrwK6p8K2z2bSoE33935HbtFcBtmG4CJxKbXmtWFK2eNBmTGqTyR0V39KQ7_9Ns3oWhFy4tlnQEB9REbLuMOF5Nt9wO3up9jBft-q_cx4AShxwvmpHZOgCPZ2_nlOYd4wWpLrUhVIsGrZJBVvv0ZKatGmEEXLnbSkDLIM63
2025-11-20 08:50:55,899 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:50:55,900 [DEBUG] httpcore.connection - close.started
2025-11-20 08:50:55,900 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:50:55,900 [INFO] seed_city - [SeedCity] Charger ch_3813819ecd0d category 'gym': Found 10 places
2025-11-20 08:50:55,909 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:50:55,946 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d62d30>
2025-11-20 08:50:55,947 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b4af90> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:50:56,023 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d54250>
2025-11-20 08:50:56,024 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:50:56,024 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:50:56,025 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:50:56,025 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:50:56,025 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:50:56,177 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:50:56 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4059'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=115'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:50:56,178 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.250541%2C-97.749422&destinations=30.2527893%2C-97.7470176%7C30.2539864%2C-97.74764719999999%7C30.2491111%2C-97.754976%7C30.2488772%2C-97.755692%7C30.243991%2C-97.758557%7C30.2549179%2C-97.7608004%7C30.2569738%2C-97.7604266%7C30.260628%2C-97.741897%7C30.2531154%2C-97.76364720000001%7C30.2374709%2C-97.7420734&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:50:56,179 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:50:56,179 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:50:56,179 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:50:56,180 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:50:56,180 [DEBUG] httpcore.connection - close.started
2025-11-20 08:50:56,180 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:50:56,184 [ERROR] seed_city - Error processing category gym for charger ch_3813819ecd0d: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJRyA9Prm1RIYRkcXgiptky_U', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJRyA9Prm1RIYRkcXgiptky_U', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:50:56,185 [WARNING] seed_city - No merchants found for charger Hotel San Jose - Tesla Destination
2025-11-20 08:50:56,187 [INFO] seed_city - [SeedCity] Charger ch_f397bd21cae7: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 08:50:56,187 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.250091 lng=-97.74843 type=cafe radius=1000
2025-11-20 08:50:56,197 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:50:56,219 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b69f70>
2025-11-20 08:50:56,220 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e120> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:50:56,292 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d62160>
2025-11-20 08:50:56,293 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:50:56,293 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:50:56,293 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:50:56,294 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:50:56,294 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:50:56,947 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:50:56 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:55:56 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50059'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=573'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:50:56,947 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.250091%2C-97.74843&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 08:50:56,948 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:50:56,990 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:50:56,991 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:50:56,991 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:50:56,992 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.250091,-97.74843', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 08:50:56,993 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU6ti12r-qulseRbdt80Zn_lMFgSH83ftAN3uMqhx077D98ON7dnx0iBGN43i3NlKEIl3RoANW6Mj8AH0rH7oIG2AZCzJkddfL7rI_GVuM1UjD5TR0gcet3QiwmRwMviGlYzulu2hdmr2ypSuCKkQzlHlWEob1vCWuP-gvfV7wZoPmzmRVd-Ni-Eluwp-fmfR3by3nuCCKu66wtJsoGS9rs-uXoCJCV2RTa1UDuEa7UrMU8gJo-_9Vu5hORswbNSO-s-pS7i0Ima-BjGBjnnJFqpAjGEnBBaX-i-a7762VM5pBwIVKYVqGhPA48qrr8WhahJ2uRbBe3vq8BRHE2iB0Y3mX--SYMJBO0Af0u9FRSXbsQrKLnhp5TjC51XDJVzPQlL85zLf-Dk2Q8WbHyBv1zZ6rWcScc_5EC0sZDhCNchoGchdUcblNJO3G6OWkAmbI
2025-11-20 08:50:56,993 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:50:56,993 [DEBUG] httpcore.connection - close.started
2025-11-20 08:50:56,994 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:50:56,994 [INFO] seed_city - [SeedCity] Charger ch_f397bd21cae7 category 'coffee': Found 10 places
2025-11-20 08:50:57,004 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:50:57,035 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b7c970>
2025-11-20 08:50:57,035 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e190> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:50:57,115 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4f0d0>
2025-11-20 08:50:57,116 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:50:57,117 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:50:57,117 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:50:57,117 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:50:57,117 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:50:57,260 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:50:57 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4005'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=100'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:50:57,261 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.250091%2C-97.74843&destinations=30.2510458%2C-97.74937170000001%7C30.24482649999999%2C-97.75694%7C30.24218479999999%2C-97.7589562%7C30.25224%2C-97.7636%7C30.2612339%2C-97.75786389999999%7C30.26447%2C-97.74377%7C30.26587%2C-97.74643999999999%7C30.26546%2C-97.74043999999999%7C30.23371%2C-97.74239999999999%7C30.26554%2C-97.73837999999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:50:57,261 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:50:57,262 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:50:57,262 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:50:57,263 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:50:57,263 [DEBUG] httpcore.connection - close.started
2025-11-20 08:50:57,264 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:50:57,266 [ERROR] seed_city - Error processing category coffee for charger ch_f397bd21cae7: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJ1S_Bov20RIYRe7MiR8tYawY', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJ1S_Bov20RIYRe7MiR8tYawY', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:50:57,267 [INFO] seed_city - [SeedCity] Charger ch_f397bd21cae7: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 08:50:57,268 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.250091 lng=-97.74843 type=restaurant radius=1000
2025-11-20 08:50:57,278 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:50:57,297 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d68640>
2025-11-20 08:50:57,297 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d495f0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:50:57,343 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b710a0>
2025-11-20 08:50:57,344 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:50:57,344 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:50:57,345 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:50:57,345 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:50:57,345 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:50:58,074 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:50:58 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:55:58 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49622'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=593'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:50:58,076 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.250091%2C-97.74843&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 08:50:58,076 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:50:58,111 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:50:58,112 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:50:58,112 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:50:58,117 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.250091,-97.74843', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 08:50:58,119 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU637RA_LW7OjqKfNMzspJZtJmOC9NJXsloa76tX9bxPbF4S2Mrg9wSYeHSKlRqubHBUfCb3PgHGheCpJ_NsDQxB4s96t1tGcE_eeMFdS98zVye4UfiX0ep-DX-8Bv7ViZPbFTgwe7FVY0hS8iQ8kqDgKUqr_btSJsJHEavSEnS6moHfBvFgP_PT081rLiX4f05aZjoCasciSzt3F7diNRGgImreMjwOXI_NOk9IQwJhok_ch78fnhokeS2iT3hy3YxznDADWGyZ-nTO0h9m9cY-ooVQYk1X-K-2sy-bUFXx6erFlTp-AUQjrrbuHiSPWFTInVZDz2VC_CY7oAxUBDHb3U2AZD137SIqJi00hynVnvjNLWwXwijQh4bvN3g9vp2g6XddpDEqZNsYIgoy9pHUBy9058uiizrS__Qs9yIYbola-GPQrRVUw3bJUKHzeW
2025-11-20 08:50:58,119 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:50:58,119 [DEBUG] httpcore.connection - close.started
2025-11-20 08:50:58,119 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:50:58,119 [INFO] seed_city - [SeedCity] Charger ch_f397bd21cae7 category 'food': Found 10 places
2025-11-20 08:50:58,129 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:50:58,145 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b7cfd0>
2025-11-20 08:50:58,146 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e040> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:50:58,197 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b7c820>
2025-11-20 08:50:58,198 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:50:58,198 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:50:58,198 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:50:58,198 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:50:58,199 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:50:58,367 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:50:58 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4051'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=137'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:50:58,368 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.250091%2C-97.74843&destinations=30.24995849999999%2C-97.7500913%7C30.2526168%2C-97.7476959%7C30.25331539999999%2C-97.74802439999999%7C30.2534769%2C-97.74788769999999%7C30.247111%2C-97.750424%7C30.2494868%2C-97.7555656%7C30.24445649999999%2C-97.7519537%7C30.2465449%2C-97.7567582%7C30.2410896%2C-97.7529007%7C30.2415242%2C-97.75929479999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:50:58,368 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:50:58,369 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:50:58,369 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:50:58,370 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:50:58,370 [DEBUG] httpcore.connection - close.started
2025-11-20 08:50:58,371 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:50:58,372 [ERROR] seed_city - Error processing category food for charger ch_f397bd21cae7: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJb7byD_20RIYRT9uoSeSUvzY', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJb7byD_20RIYRT9uoSeSUvzY', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:50:58,373 [INFO] seed_city - [SeedCity] Charger ch_f397bd21cae7: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 08:50:58,374 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.250091 lng=-97.74843 type=supermarket radius=1000
2025-11-20 08:50:58,384 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:50:58,421 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b69430>
2025-11-20 08:50:58,421 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e190> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:50:58,506 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4f7f0>
2025-11-20 08:50:58,507 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:50:58,508 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:50:58,509 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:50:58,509 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:50:58,509 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:50:58,915 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:50:58 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:55:58 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=369'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:50:58,916 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.250091%2C-97.74843&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 08:50:58,916 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:50:58,950 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:50:58,951 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:50:58,951 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:50:58,952 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.250091,-97.74843', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 08:50:58,952 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2643126, "lng": -97.7340971}, "viewport": {"northeast": {"lat": 30.26576902989272, "lng": -97.73269037010728}, "southwest": {"lat": 30.26306937010727, "lng": -97.73539002989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcar
2025-11-20 08:50:58,952 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 08:50:58,953 [DEBUG] httpcore.connection - close.started
2025-11-20 08:50:58,953 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:50:58,953 [INFO] seed_city - [SeedCity] Charger ch_f397bd21cae7 category 'groceries': Found 7 places
2025-11-20 08:50:58,967 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:50:59,003 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6f520>
2025-11-20 08:50:59,003 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e120> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:50:59,060 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d540d0>
2025-11-20 08:50:59,061 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:50:59,062 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:50:59,062 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:50:59,062 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:50:59,062 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:50:59,171 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:50:59 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3000'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=74'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:50:59,173 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.250091%2C-97.74843&destinations=30.2643126%2C-97.7340971%7C30.2706339%2C-97.753587%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:50:59,173 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:50:59,174 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:50:59,174 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:50:59,174 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:50:59,175 [DEBUG] httpcore.connection - close.started
2025-11-20 08:50:59,175 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:50:59,277 [INFO] seed_city - [SeedCity] Charger ch_f397bd21cae7: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 08:50:59,277 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.250091 lng=-97.74843 type=gym radius=1000
2025-11-20 08:50:59,288 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:50:59,323 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d668b0>
2025-11-20 08:50:59,323 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103c23d60> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:50:59,406 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d54400>
2025-11-20 08:50:59,408 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:50:59,409 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:50:59,409 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:50:59,409 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:50:59,410 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:50:59,912 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:50:59 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:55:59 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47633'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=461'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:50:59,913 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.250091%2C-97.74843&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 08:50:59,913 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:50:59,971 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:50:59,971 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:50:59,972 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:50:59,973 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.250091,-97.74843', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 08:50:59,974 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4sl1ql2MPBubHrT1sv5dMa_74tL8oVEh4vP7NsUdF7UYDbei__sHUR1lo8TSeRCy7QPo4wOuGI2V-I6G59UgFTJixHBA98prWCxrvEzs55whWQCr5p1bGJpnlJid-Csxs6Gi6Yi9YWPeHuKLc9uf93yx8dkA6eO60sd0AVba9sYMpQyLUIab4u8hSQFY6eset6FniQi0YO5fKQJ9600g7SPHizKeUialjf0yVEpOGSX-LqH4B-9A1uIofDlMoIoWBQd17g0cFFcWoBXcF96jJF-NQNmE5TL2eppJh3XZBDt0-MBRkpvJlfi-OkGXiwr9IU_Tu_9kmcEPmBAMXzapaIFMr6Xlqdr63OSVZXntjL1PMp0XY8p1oEcHxKm4opK-RUZeuA-o1I77ggeLWHHNFh03rgU4Z9LNIC5hrG-9wedi2cjmwXOT4pejTpJAwCoz
2025-11-20 08:50:59,974 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:50:59,975 [DEBUG] httpcore.connection - close.started
2025-11-20 08:50:59,975 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:50:59,975 [INFO] seed_city - [SeedCity] Charger ch_f397bd21cae7 category 'gym': Found 10 places
2025-11-20 08:50:59,985 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:00,004 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d64df0>
2025-11-20 08:51:00,004 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49dd0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:00,057 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d64b80>
2025-11-20 08:51:00,057 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:00,058 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:00,058 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:00,058 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:00,058 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:00,195 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:00 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4033'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=112'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:00,196 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.250091%2C-97.74843&destinations=30.2527893%2C-97.7470176%7C30.2539864%2C-97.74764719999999%7C30.2491111%2C-97.754976%7C30.243991%2C-97.758557%7C30.2569738%2C-97.7604266%7C30.2374709%2C-97.7420734%7C30.2523341%2C-97.73199509999999%7C30.2628555%2C-97.7585568%7C30.2655709%2C-97.7479626%7C30.267006%2C-97.7416592&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:00,196 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:00,197 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:00,197 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:00,198 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:00,198 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:00,199 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:00,201 [ERROR] seed_city - Error processing category gym for charger ch_f397bd21cae7: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJRyA9Prm1RIYRkcXgiptky_U', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJRyA9Prm1RIYRkcXgiptky_U', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:51:00,202 [WARNING] seed_city - No merchants found for charger Kimber Modern - Tesla Destination
2025-11-20 08:51:00,210 [INFO] seed_city - [SeedCity] Charger ch_f43b6acd52f9: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 08:51:00,210 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.2472116 lng=-97.750005 type=cafe radius=1000
2025-11-20 08:51:00,219 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:00,257 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d62040>
2025-11-20 08:51:00,258 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103c23d60> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:00,354 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d62820>
2025-11-20 08:51:00,355 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:00,356 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:00,357 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:00,357 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:00,357 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:00,966 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:00 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:00 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50020'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=504'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:00,967 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.2472116%2C-97.750005&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 08:51:00,967 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:01,029 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:01,030 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:01,030 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:01,031 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.2472116,-97.750005', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 08:51:01,032 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU70N_-0PZxv1WrPWWzJd5KxIJHvKkU7mjBubsl3NkCD5n-E7IfMYZv4YzsEZbmOofFAZ3uMOSc5Gg7u3Y0XOJTWmuMXlkhY6X8IOkrRrRePI0Emzn1CB4F9g-97rnO63rl1kCWDsb15OSB1bjxpewrZBNyessmUI4CovXTD51HMyMH-tmuY_maLemHqW62pfZxnaS67teAX2s_FfTNOZYK_TwKsbVjWsNDF5FwHxckhd7AQK6BrD1Y6Z8X8gobrkFAFkbKBqpHhGyMqq44KPrQ4Y9gGtALbsHhCvvI7xQedfYF0R9qlSYUUIW-a3PAKLNoy0mtBW1sfOdel7q1-xmMa-sYoMQCAvoDBVq9aLf_ZuOBT6EPwq9tuaOU5MK4LsMeyymTyXJj1jM5zs1QPxtmhR5FEoClxYfzmH7RlmKdl37f09f6UiXUGxhFC7t6Bg-
2025-11-20 08:51:01,032 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:01,033 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:01,033 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:01,033 [INFO] seed_city - [SeedCity] Charger ch_f43b6acd52f9 category 'coffee': Found 10 places
2025-11-20 08:51:01,043 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:01,155 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66bb0>
2025-11-20 08:51:01,155 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103bc2270> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:01,234 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d641f0>
2025-11-20 08:51:01,235 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:01,235 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:01,235 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:01,236 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:01,236 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:01,394 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:01 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4010'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=114'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:01,395 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.2472116%2C-97.750005&destinations=30.24218479999999%2C-97.7589562%7C30.25224%2C-97.7636%7C30.23371%2C-97.74239999999999%7C30.2612339%2C-97.75786389999999%7C30.26447%2C-97.74377%7C30.26587%2C-97.74643999999999%7C30.26546%2C-97.74043999999999%7C30.2424%2C-97.72740999999999%7C30.26554%2C-97.73837999999999%7C30.26977999999999%2C-97.75390999999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:01,395 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:01,396 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:01,396 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:01,397 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:01,397 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:01,397 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:01,499 [INFO] seed_city - [SeedCity] Charger ch_f43b6acd52f9: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 08:51:01,499 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.2472116 lng=-97.750005 type=restaurant radius=1000
2025-11-20 08:51:01,511 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:01,534 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6f100>
2025-11-20 08:51:01,534 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e120> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:01,592 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d646d0>
2025-11-20 08:51:01,593 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:01,594 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:01,594 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:01,594 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:01,594 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:02,269 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:02 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:02 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49623'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=447'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:02,271 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.2472116%2C-97.750005&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 08:51:02,272 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:02,306 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:02,307 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:02,307 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:02,309 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.2472116,-97.750005', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 08:51:02,311 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4wwUU6Xd0yer7zyB1UGMQCg2lyRtm1AssAQkOi9mM_k62xAo87QISGRq0dNM3dD6OS1MRUNBslmRqJ8jInWxKY-9pLIOM60HvsxpNo2OphXKgEZDR2ozGenPgiULnNWrYJekJf31RjkkV2twdFqzrnAE2iDwICGg6HilT7FCqmSMliXYaPtFjQZjQ8dZx_rbcsoLHwlTkcBA52iTWELD6fwrAfRkiGvY8A1fF1U6UILbn9E8mWZ6E2xjn5g86Rphaq6cbZ5RBhoq4rmp8rOGSfZTir5dT7T2TUGCrl4wJbTj8YdJDUQjeLK1DnNcAjHPKGls87ZwMMDN-DYEonaaWOGV_k9w5y2Cm_KKmW-mBXuUWVTg1-a6Gs5ErSIbzEU0U6nj7JK3CLeOiw8tFHqVjXc6ogSKaoARO6qcYFc2t5noNvnJbFlBEmAYf-5TnYNd
2025-11-20 08:51:02,311 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:02,311 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:02,312 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:02,312 [INFO] seed_city - [SeedCity] Charger ch_f43b6acd52f9 category 'food': Found 10 places
2025-11-20 08:51:02,323 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:02,348 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b69130>
2025-11-20 08:51:02,348 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e190> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:02,404 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b4d550>
2025-11-20 08:51:02,405 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:02,406 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:02,406 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:02,406 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:02,406 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:02,540 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:02 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4048'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=95'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:02,541 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.2472116%2C-97.750005&destinations=30.247111%2C-97.750424%7C30.2462863%2C-97.751199%7C30.24995849999999%2C-97.7500913%7C30.24445649999999%2C-97.7519537%7C30.2494868%2C-97.7555656%7C30.2526168%2C-97.7476959%7C30.2465449%2C-97.7567582%7C30.25331539999999%2C-97.74802439999999%7C30.2534769%2C-97.74788769999999%7C30.2410896%2C-97.7529007&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:02,542 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:02,543 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:02,543 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:02,543 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:02,544 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:02,544 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:02,546 [ERROR] seed_city - Error processing category food for charger ch_f43b6acd52f9: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJh91qhvy0RIYRBzoQTNhuG-4', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJh91qhvy0RIYRBzoQTNhuG-4', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:51:02,546 [INFO] seed_city - [SeedCity] Charger ch_f43b6acd52f9: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 08:51:02,547 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.2472116 lng=-97.750005 type=supermarket radius=1000
2025-11-20 08:51:02,558 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:02,578 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b7cdf0>
2025-11-20 08:51:02,579 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49580> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:02,624 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4fd60>
2025-11-20 08:51:02,624 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:02,625 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:02,625 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:02,625 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:02,625 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:03,255 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:03 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:03 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=432'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:03,257 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.2472116%2C-97.750005&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 08:51:03,257 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:03,270 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:03,270 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:03,271 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:03,272 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.2472116,-97.750005', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 08:51:03,272 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2643126, "lng": -97.7340971}, "viewport": {"northeast": {"lat": 30.26576902989272, "lng": -97.73269037010728}, "southwest": {"lat": 30.26306937010727, "lng": -97.73539002989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcar
2025-11-20 08:51:03,272 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 08:51:03,272 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:03,273 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:03,273 [INFO] seed_city - [SeedCity] Charger ch_f43b6acd52f9 category 'groceries': Found 7 places
2025-11-20 08:51:03,284 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:03,309 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b71820>
2025-11-20 08:51:03,309 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d499e0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:03,378 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b71070>
2025-11-20 08:51:03,379 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:03,379 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:03,379 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:03,379 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:03,379 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:03,490 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:03 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3008'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=82'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:03,492 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.2472116%2C-97.750005&destinations=30.2643126%2C-97.7340971%7C30.2706339%2C-97.753587%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:03,492 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:03,493 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:03,493 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:03,493 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:03,494 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:03,494 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:03,596 [INFO] seed_city - [SeedCity] Charger ch_f43b6acd52f9: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 08:51:03,596 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.2472116 lng=-97.750005 type=gym radius=1000
2025-11-20 08:51:03,609 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:03,650 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d63f10>
2025-11-20 08:51:03,650 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b4af90> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:03,823 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b715b0>
2025-11-20 08:51:03,824 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:03,825 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:03,825 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:03,826 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:03,826 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:04,308 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:04 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:04 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47533'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=407'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:04,309 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.2472116%2C-97.750005&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 08:51:04,310 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:04,374 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:04,375 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:04,375 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:04,376 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.2472116,-97.750005', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 08:51:04,377 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU6CBp2hB0tTFfhoErEzYZ7zbrzclQQXkp-W6yIV683S01-5lsWRDhvRxBG5NvXUd6LTFurMbWoGnTU68QCKxBruJtoIMiPk73xvsXBqee5LSMKi3JgcW-q_EPLRjsvuxFf8dqfZIHIXHWufb84d9fIbp3dPmwu79aZlIt4OJU5FdULQt_zj8EvNxJkWR5loboeAQwQIeGppr7Yw1R4P3xzsT7CqEc3G6SaMDXxMIjU-nYhcIt2w8TsBvdgK4S3OFM_yV3ViQYGi09qsqad9yOahDMk1ocG2VPoZC0BmprNaojXO_Bfd4z4N4VcJ-OxTzJrL6-rJQjdoY9WXY-BCB7C9uxGisPB8j6my1-Cjp1lTVvAfE0hW5iU2fEJCyiyXzkhj3GB_VJcTfzY-wftFYKheo5pgb6IXdvPr5zsUUuCoDfZZbkGDRsNU4lKfN998ur
2025-11-20 08:51:04,378 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:04,378 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:04,378 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:04,378 [INFO] seed_city - [SeedCity] Charger ch_f43b6acd52f9 category 'gym': Found 10 places
2025-11-20 08:51:04,389 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:04,422 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d54880>
2025-11-20 08:51:04,423 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103c23d60> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:04,468 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b69cd0>
2025-11-20 08:51:04,469 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:04,470 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:04,470 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:04,470 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:04,470 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:04,531 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:04 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4049'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=39'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:04,532 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.2472116%2C-97.750005&destinations=30.2491111%2C-97.754976%7C30.2488772%2C-97.755692%7C30.2527893%2C-97.7470176%7C30.2539864%2C-97.74764719999999%7C30.243991%2C-97.758557%7C30.2374709%2C-97.7420734%7C30.2569738%2C-97.7604266%7C30.2523341%2C-97.73199509999999%7C30.2628555%2C-97.7585568%7C30.2655709%2C-97.7479626&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:04,533 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:04,534 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:04,534 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:04,534 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:04,535 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:04,535 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:04,538 [ERROR] seed_city - Error processing category gym for charger ch_f43b6acd52f9: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJL36hvAK1RIYRT3qbb-Nm5Ug', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJL36hvAK1RIYRT3qbb-Nm5Ug', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:51:04,539 [WARNING] seed_city - No merchants found for charger South Congress Hotel - Tesla Supercharger
2025-11-20 08:51:04,541 [INFO] seed_city - [SeedCity] Charger ch_1a704bdb4c7d: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 08:51:04,541 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.25196 lng=-97.746725 type=cafe radius=1000
2025-11-20 08:51:04,551 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:04,657 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66dc0>
2025-11-20 08:51:04,657 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49b30> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:04,731 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6ffd0>
2025-11-20 08:51:04,732 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:04,733 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:04,733 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:04,733 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:04,733 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:05,254 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:05 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:05 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50056'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=486'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:05,256 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.25196%2C-97.746725&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 08:51:05,256 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:05,388 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:05,389 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:05,390 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:05,391 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.25196,-97.746725', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 08:51:05,393 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4YaKpt37cInnY7sWEzXKVF4nSB2_FNvfjj1_5O44-MT1rFuUFt84dzbsA0_azdAQC0g3GwZl-3whjomy5REaVGztyEIkopzYWC05e2UjJ1bszqBYxa3k26x9DPLDL54J0uiwEqYhhSxsfs1xNUH-_9AuvuFVh_B10E5gIVLm4V3QuYeU36bwLD1Qpsp09CZP_Qvl6xKW4H5cuJf7Fer14P-TbM8z4iJk2wgkkcCkzeatrUqhhyag3Roj09XdKtlRQnyKjyWFXya0BujseDoc-I6uNkJ0afGgBJSbR_8IRyDAdCln9JyndNTnTs6y_39ofhYN19FXwbSOQkUiXa5xiQ_wnx75zFI_n4ao1qS_MuYMgehwgigni4Pd-L2loRWA2b6_j22tS188pDnVS3a3eKuA1-C4qsf994Ngp2MDOuunB3uaLQCRJmEZVZt2iTNq
2025-11-20 08:51:05,393 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:05,393 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:05,394 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:05,394 [INFO] seed_city - [SeedCity] Charger ch_1a704bdb4c7d category 'coffee': Found 10 places
2025-11-20 08:51:05,406 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:05,438 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d643d0>
2025-11-20 08:51:05,438 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d15970> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:05,523 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d64e80>
2025-11-20 08:51:05,524 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:05,525 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:05,525 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:05,525 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:05,525 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:05,684 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:05 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4005'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=97'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:05,685 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.25196%2C-97.746725&destinations=30.26447%2C-97.74377%7C30.2612339%2C-97.75786389999999%7C30.26587%2C-97.74643999999999%7C30.24218479999999%2C-97.7589562%7C30.26546%2C-97.74043999999999%7C30.25224%2C-97.7636%7C30.26554%2C-97.73837999999999%7C30.23371%2C-97.74239999999999%7C30.26977999999999%2C-97.75390999999999%7C30.2424%2C-97.72740999999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:05,686 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:05,686 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:05,687 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:05,687 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:05,688 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:05,688 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:05,790 [INFO] seed_city - [SeedCity] Charger ch_1a704bdb4c7d: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 08:51:05,791 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.25196 lng=-97.746725 type=restaurant radius=1000
2025-11-20 08:51:05,803 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:05,892 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d717f0>
2025-11-20 08:51:05,893 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49820> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:05,953 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4fbb0>
2025-11-20 08:51:05,954 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:05,955 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:05,955 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:05,956 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:05,956 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:06,519 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:06 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:06 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49647'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=535'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:06,521 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.25196%2C-97.746725&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 08:51:06,521 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:06,558 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:06,558 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:06,558 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:06,559 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.25196,-97.746725', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 08:51:06,560 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4R_mDwlmSWaB9RkNKfM8IrYBvzSCLY6ztHjMAzA_1YgMdvr4ZMYauCTWzJZcfefoojMmwVTlBadbM3qLIkpQmhNxGhjib-w6-_ZQnottWIYHD1rV3bWT6hUmVZqlm5ocLCi1B7Zv9mq_7DZ_TDpy4zGkq220prTHG9fecGp6hf4awx0Jeg6jVW_y1cvoZDV3qcnIk7jbers64ZJzxZFUO82XI7U3vd3TxaH3Yq-aKfaIP8LJ-ecJHupw4DV98sRe9cU21vHVyrTyWXLSErnFPPFgY9_PAdFL-Y1gSFuISLFssiBMJypv2rc4--wjzqEkuounVdHezO4M1RqE2VB13YX_R8NagiwBwfRROS8-8Jv8Joh3uDGWsy7g3qey_iXf6efZgG6C81w9aTK0BDIx8ilBom2lEbxEQllfc72JxtHsuXmgcryJ5JKAOAGFUq8s
2025-11-20 08:51:06,560 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:06,560 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:06,560 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:06,561 [INFO] seed_city - [SeedCity] Charger ch_1a704bdb4c7d category 'food': Found 10 places
2025-11-20 08:51:06,571 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:06,606 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b56430>
2025-11-20 08:51:06,606 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103bc2270> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:06,770 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d64460>
2025-11-20 08:51:06,771 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:06,772 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:06,772 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:06,772 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:06,772 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:06,925 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:06 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4060'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=109'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:06,926 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.25196%2C-97.746725&destinations=30.2526168%2C-97.7476959%7C30.25331539999999%2C-97.74802439999999%7C30.2534769%2C-97.74788769999999%7C30.24995849999999%2C-97.7500913%7C30.247111%2C-97.750424%7C30.2494868%2C-97.7555656%7C30.24445649999999%2C-97.7519537%7C30.2465449%2C-97.7567582%7C30.2627011%2C-97.74157629999999%7C30.2410896%2C-97.7529007&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:06,927 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:06,928 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:06,928 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:06,929 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:06,929 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:06,930 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:06,933 [ERROR] seed_city - Error processing category food for charger ch_1a704bdb4c7d: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJfXfxR921RIYRk5MtpU6Q4ws', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJfXfxR921RIYRk5MtpU6Q4ws', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:51:06,934 [INFO] seed_city - [SeedCity] Charger ch_1a704bdb4c7d: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 08:51:06,934 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.25196 lng=-97.746725 type=supermarket radius=1000
2025-11-20 08:51:06,945 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:06,982 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4fb80>
2025-11-20 08:51:06,982 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e040> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:07,059 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b693a0>
2025-11-20 08:51:07,060 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:07,061 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:07,062 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:07,062 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:07,062 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:07,449 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:07 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:07 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=343'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:07,450 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.25196%2C-97.746725&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 08:51:07,451 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:07,480 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:07,481 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:07,481 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:07,482 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.25196,-97.746725', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 08:51:07,482 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2643126, "lng": -97.7340971}, "viewport": {"northeast": {"lat": 30.26576902989272, "lng": -97.73269037010728}, "southwest": {"lat": 30.26306937010727, "lng": -97.73539002989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcar
2025-11-20 08:51:07,483 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 08:51:07,483 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:07,483 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:07,483 [INFO] seed_city - [SeedCity] Charger ch_1a704bdb4c7d category 'groceries': Found 7 places
2025-11-20 08:51:07,495 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:07,516 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66460>
2025-11-20 08:51:07,516 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e190> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:07,570 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d62190>
2025-11-20 08:51:07,571 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:07,572 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:07,572 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:07,572 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:07,572 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:07,683 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:07 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3003'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=80'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:07,684 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.25196%2C-97.746725&destinations=30.2643126%2C-97.7340971%7C30.2706339%2C-97.753587%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:07,685 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:07,686 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:07,686 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:07,686 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:07,687 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:07,687 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:07,789 [INFO] seed_city - [SeedCity] Charger ch_1a704bdb4c7d: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 08:51:07,790 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.25196 lng=-97.746725 type=gym radius=1000
2025-11-20 08:51:07,802 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:07,824 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6f580>
2025-11-20 08:51:07,824 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d15970> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:07,874 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d62580>
2025-11-20 08:51:07,875 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:07,876 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:07,876 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:07,876 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:07,876 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:08,313 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:08 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:08 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'46749'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=390'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:08,314 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.25196%2C-97.746725&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 08:51:08,314 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:08,354 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:08,354 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:08,354 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:08,355 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.25196,-97.746725', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 08:51:08,356 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU46x4RQLzFbKfTIxZnqHwT3fWs7UXZpWWd_uR2CjZG1SRBNuxvu_dkr5g-lmli9TKjjmNzwumPZdaORcZpBsK8iXFALku_3SPRHgtq6x0eVELI7UoXRhTNaTdHrWN0fR8bgJVV5knkj99GUC4N-jj9L73jFE4zLbdkFHnUAieu6h8Y84_NKb2b8bYCXOrrjV3GnhyX02kwg2KiSLR3lGzc2UHIxtEhk_ZFUwmHPN-A9DGgSmQ0oFTFKC9v-5d3M_E06xWNnjKQIQHQ6_txDiu4qIy0KVicmGRY4IztorUg4LeZriTBw4g1pT6rwpB70kqOkfRDLzUrRtTsZNxjiAR2klgDxxGEB7hly7m7bNL8sMfCzjGhdp941oFzZtF0sHEWBd1WNBYDsx6y4wuUY1_-VP7KsRJ4YJROVeagQzrMVxmlPc-Wy4RGQ2YHjuOeC9O
2025-11-20 08:51:08,356 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:08,357 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:08,357 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:08,358 [INFO] seed_city - [SeedCity] Charger ch_1a704bdb4c7d category 'gym': Found 10 places
2025-11-20 08:51:08,368 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:08,403 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d54040>
2025-11-20 08:51:08,403 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d497b0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:08,540 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d54370>
2025-11-20 08:51:08,542 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:08,543 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:08,543 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:08,543 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:08,543 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:08,627 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:08 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4037'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=41'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:08,628 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.25196%2C-97.746725&destinations=30.2527893%2C-97.7470176%7C30.2539864%2C-97.74764719999999%7C30.2491111%2C-97.754976%7C30.2523341%2C-97.73199509999999%7C30.2569738%2C-97.7604266%7C30.243991%2C-97.758557%7C30.2655709%2C-97.7479626%7C30.2628555%2C-97.7585568%7C30.2374709%2C-97.7420734%7C30.267006%2C-97.7416592&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:08,629 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:08,629 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:08,629 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:08,630 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:08,630 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:08,631 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:08,633 [ERROR] seed_city - Error processing category gym for charger ch_1a704bdb4c7d: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJRyA9Prm1RIYRkcXgiptky_U', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJRyA9Prm1RIYRkcXgiptky_U', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:51:08,634 [WARNING] seed_city - No merchants found for charger Hotel Saint Cecilia - Tesla Destination
2025-11-20 08:51:08,642 [INFO] seed_city - [SeedCity] Charger ch_6bf7d02f695d: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 08:51:08,642 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256815 lng=-97.748988 type=cafe radius=1000
2025-11-20 08:51:08,651 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:08,688 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d54700>
2025-11-20 08:51:08,688 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e120> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:08,873 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d54100>
2025-11-20 08:51:08,874 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:08,875 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:08,876 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:08,877 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:08,877 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:09,363 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:09 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:09 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50028'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=425'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:09,364 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256815%2C-97.748988&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 08:51:09,364 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:09,420 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:09,420 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:09,420 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:09,421 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256815,-97.748988', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 08:51:09,422 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7kpDvwcquVe5ilVgxZrm4AWrpt0Nhlmdnl4amAL_JX86lDYYfPpLUBmHxuuAed0enalysE9C45MJw9SMW7NfXYMyyBUhE6Lt5qTBfbZkbOjYrhHysZch_mKDjAkPHM3FNMG8Dn-64crGWl5TBbWbwmIAZ0hpDkm1hD1euyRZuQryicc2jQe6LJPioufVwwCIF_FkkDToAng7c2Gf0iCvhIN_YNkEGVEbe_MsAhdN4Aq9jG8fSDsTzdlivdLBxTZICSPnK27GOMhm_vThlKd8YeMbNHKUgIlPXldW5npNgDar4-U82mXktGq_zBnPCofQRYLZ4xL9CK8tBmKHXhEqCVYdAK9xeWA9_UwK-CbKbiMj7vRyVAcD__KW2mzfAhKYShf25eoKX-c0cqhcgVH_DRfuIe618Thz-85vf_zBCgqcxJwHNEpP1THe9MvsSzQn
2025-11-20 08:51:09,422 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:09,422 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:09,423 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:09,423 [INFO] seed_city - [SeedCity] Charger ch_6bf7d02f695d category 'coffee': Found 10 places
2025-11-20 08:51:09,427 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:09,543 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66580>
2025-11-20 08:51:09,544 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e040> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:09,641 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6f940>
2025-11-20 08:51:09,642 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:09,643 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:09,643 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:09,643 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:09,643 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:09,879 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:09 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4008'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=130'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:09,880 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256815%2C-97.748988&destinations=30.2612339%2C-97.75786389999999%7C30.26447%2C-97.74377%7C30.26587%2C-97.74643999999999%7C30.26546%2C-97.74043999999999%7C30.26554%2C-97.73837999999999%7C30.25224%2C-97.7636%7C30.26977999999999%2C-97.75390999999999%7C30.2691051%2C-97.74037589999999%7C30.24218479999999%2C-97.7589562%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:09,880 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:09,881 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:09,882 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:09,882 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:09,882 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:09,883 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:09,985 [INFO] seed_city - [SeedCity] Charger ch_6bf7d02f695d: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 08:51:09,985 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256815 lng=-97.748988 type=restaurant radius=1000
2025-11-20 08:51:09,994 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:10,090 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d62820>
2025-11-20 08:51:10,096 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e190> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:10,160 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6f880>
2025-11-20 08:51:10,161 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:10,161 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:10,161 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:10,161 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:10,161 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:10,775 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:10 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:10 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50136'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=582'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:10,776 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256815%2C-97.748988&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 08:51:10,777 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:10,809 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:10,810 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:10,810 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:10,811 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256815,-97.748988', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 08:51:10,812 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU6nhLRwyM6UjAGrgJmiPG-UzXzONf10gx8xDuIz_eskSYFj8ZrOkPEKPEuBcNWiW02yO-Uga8GVlQjg9iXHpPAtoO8AJGSr_eQXOsPR5e_qUkc6L8xb3_yIqC49qUDKJbtGdubDFWLbiG_Sy6HrrtcUhPBBDgxtI8HqfVh81V2zk23eKRjUwOAZrtWcHGB0VdS_H9SyCAERdNqZ0UgA8kfzdWWj_vOIPAMgsw8q21j7h-jJEoyhY8q6FMHp_nzAjIRTyolXi6vgAfhIOQTlL-VwkYCT1FPXKkpL-5IaObP_KhAgZmRq0YaFQ3P6SCAJT836gC-z3HBPtDfCXpWlxJzBTjhOyQs3K7oHAQiUTteME-tJmgsxeTdgxYuR3KJHIgi3lSXyWl5kXd9CDlqyjT6ie5Y93tNINsa-xnif6xbnv5q-gyqezJVOt8JL32gACw
2025-11-20 08:51:10,812 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:10,812 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:10,813 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:10,813 [INFO] seed_city - [SeedCity] Charger ch_6bf7d02f695d category 'food': Found 10 places
2025-11-20 08:51:10,819 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:10,926 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b69970>
2025-11-20 08:51:10,927 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103c23d60> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:11,012 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4f220>
2025-11-20 08:51:11,012 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:11,013 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:11,013 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:11,013 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:11,013 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:11,201 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:11 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4047'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=153'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:11,201 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256815%2C-97.748988&destinations=30.2534769%2C-97.74788769999999%7C30.25331539999999%2C-97.74802439999999%7C30.2526168%2C-97.7476959%7C30.24995849999999%2C-97.7500913%7C30.2635186%2C-97.74358%7C30.2627011%2C-97.74157629999999%7C30.2656068%2C-97.7483158%7C30.2656938%2C-97.7485706%7C30.2645913%2C-97.74389%7C30.26005739999999%2C-97.7392578&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:11,201 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:11,202 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:11,202 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:11,202 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:11,202 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:11,202 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:11,304 [INFO] seed_city - [SeedCity] Charger ch_6bf7d02f695d: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 08:51:11,304 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256815 lng=-97.748988 type=supermarket radius=1000
2025-11-20 08:51:11,314 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:11,330 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d64940>
2025-11-20 08:51:11,330 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d496d0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:11,472 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d68b50>
2025-11-20 08:51:11,472 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:11,473 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:11,473 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:11,473 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:11,473 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:12,000 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:11 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:11 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'21518'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=397'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:12,001 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256815%2C-97.748988&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 08:51:12,001 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:12,033 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:12,033 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:12,033 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:12,034 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256815,-97.748988', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 08:51:12,034 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 08:51:12,034 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=8
2025-11-20 08:51:12,034 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:12,034 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:12,035 [INFO] seed_city - [SeedCity] Charger ch_6bf7d02f695d category 'groceries': Found 8 places
2025-11-20 08:51:12,044 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:12,167 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6e760>
2025-11-20 08:51:12,167 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49a50> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:12,248 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6eb20>
2025-11-20 08:51:12,251 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:12,252 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:12,252 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:12,252 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:12,252 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:12,384 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:12 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3395'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=93'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:12,385 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256815%2C-97.748988&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2975583%2C-97.7410694%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:12,386 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:12,386 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:12,387 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:12,387 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:12,388 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:12,388 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:12,490 [INFO] seed_city - [SeedCity] Charger ch_6bf7d02f695d: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 08:51:12,491 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256815 lng=-97.748988 type=gym radius=1000
2025-11-20 08:51:12,501 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:12,531 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7b760>
2025-11-20 08:51:12,531 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49f20> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:12,588 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7b820>
2025-11-20 08:51:12,588 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:12,589 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:12,589 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:12,589 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:12,589 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:13,383 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:13 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:13 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'46614'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=624'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:13,390 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256815%2C-97.748988&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 08:51:13,392 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:13,437 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:13,438 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:13,438 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:13,440 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256815,-97.748988', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 08:51:13,441 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7mEOgFIrkhN3n55EjtK2fCoTrzX5G0xIb4CN0Yk7VqvoSbNMFSyIZP5Gb7jVYyAD7g9AYeCI-gyxp-MAMjQtsAX2VaV5hyeW7WA5KpJhGtNEiJds7FP75di8d-1KJnU1GOP8FQACF_jOVoZrrZuCi5gnWUlyvAmNQEJqUqe46k38dpSAdKrhF3d2wgKrtbO5nuv9KrlAScNpleS5uiH7WUCqaeSMVgrobX5S3szKJTnGwu0OeGBNL_cD8uaNNyRsTB1m5KVmljrDWh0FxV6jk965C1n-GMrt6B3bi4b0z_AbvB9hN6WQVJik6AVHEomfWVGSBVBOFPEZ7ZORhce6f61zBuP6LgBTS6-jcdEoXxjw5cmPEOzXKqbUSler4TzIWaviZhdJpTVZdbZZCIoWmlLTstU7TUGGTbSLk1jHNOZQReMc-k55s9b8f8oIZYu5
2025-11-20 08:51:13,442 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:13,442 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:13,443 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:13,444 [INFO] seed_city - [SeedCity] Charger ch_6bf7d02f695d category 'gym': Found 10 places
2025-11-20 08:51:13,469 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:13,564 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b7cbb0>
2025-11-20 08:51:13,564 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103bc2270> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:13,618 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6e6d0>
2025-11-20 08:51:13,619 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:13,619 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:13,619 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:13,620 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:13,620 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:13,756 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:13 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4018'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=104'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:13,757 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256815%2C-97.748988&destinations=30.2539864%2C-97.74764719999999%7C30.2527893%2C-97.7470176%7C30.260628%2C-97.741897%7C30.2655709%2C-97.7479626%7C30.2569738%2C-97.7604266%7C30.2628555%2C-97.7585568%7C30.267006%2C-97.7416592%7C30.2682716%2C-97.75482730000002%7C30.2692988%2C-97.7440922%7C30.269586%2C-97.75380860000001&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:13,758 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:13,758 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:13,758 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:13,759 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:13,759 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:13,759 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:13,861 [WARNING] seed_city - No merchants found for charger PIE AE OTC 3FL PKGSTA1
2025-11-20 08:51:13,867 [INFO] seed_city - [SeedCity] Charger ch_fd707fef47fc: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 08:51:13,867 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256863 lng=-97.748959 type=cafe radius=1000
2025-11-20 08:51:13,878 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:13,918 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b69880>
2025-11-20 08:51:13,918 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e120> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:14,107 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b7cd90>
2025-11-20 08:51:14,115 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:14,122 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:14,122 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:14,122 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:14,122 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:14,631 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:14 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:14 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50028'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=458'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:14,634 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256863%2C-97.748959&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 08:51:14,634 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:14,691 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:14,691 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:14,692 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:14,693 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256863,-97.748959', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 08:51:14,694 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU6Ru6NdvS4q3vRZyMAx0oY9iv3ZeADLIqHgPJZSnDAsLowFxOVSKdirJMeYUu6KgYghnpwXr3vIrup0d8uw759z3b9wJaDtPQwnQlG1IkU3bie7JwzV1Y8vjH-mCw2mXqVybYywizURTN9XOzcrrAb4TIX-myL4FU1DmgNSePjp9gXq2QsVUJGr01vrKkqtnpBRBNV4s7R0ej_zkcsbcgOloeDxYu9Uk4GkJHRKD5LhsP9Q-HaIq78s7G_o3ecIarBUoy9oK96GEwGHaoJ466MOxpuTyNe2C1N0ngBfpUpCseRgVTFxFQrFEkdGnesdYf7rsch5FpK8sAfnf2Np0lPIMFj4_S2HfzzhTyxIufI1IXs5uavIN0bTes4Bx-ESz-YgaX9JRPbM5kvx3R0T9OjhKFlJRlITUstXnEK5AG65v7csB7O_hCPUmlxyAIXtMp
2025-11-20 08:51:14,694 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:14,694 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:14,695 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:14,695 [INFO] seed_city - [SeedCity] Charger ch_fd707fef47fc category 'coffee': Found 10 places
2025-11-20 08:51:14,706 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:14,816 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4f9a0>
2025-11-20 08:51:14,816 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e190> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:14,906 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4f190>
2025-11-20 08:51:14,906 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:14,907 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:14,907 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:14,907 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:14,907 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:15,026 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:15 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4008'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=78'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:15,027 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256863%2C-97.748959&destinations=30.26447%2C-97.74377%7C30.2612339%2C-97.75786389999999%7C30.26587%2C-97.74643999999999%7C30.26546%2C-97.74043999999999%7C30.26554%2C-97.73837999999999%7C30.25224%2C-97.7636%7C30.26977999999999%2C-97.75390999999999%7C30.2691051%2C-97.74037589999999%7C30.24218479999999%2C-97.7589562%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:15,027 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:15,027 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:15,028 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:15,028 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:15,028 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:15,028 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:15,130 [INFO] seed_city - [SeedCity] Charger ch_fd707fef47fc: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 08:51:15,131 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256863 lng=-97.748959 type=restaurant radius=1000
2025-11-20 08:51:15,141 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:15,185 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66640>
2025-11-20 08:51:15,186 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103c23d60> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:15,348 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b7cee0>
2025-11-20 08:51:15,349 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:15,350 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:15,350 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:15,351 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:15,351 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:16,011 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:16 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:16 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49854'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=624'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:16,013 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256863%2C-97.748959&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 08:51:16,014 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:16,171 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:16,172 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:16,172 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:16,174 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256863,-97.748959', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 08:51:16,176 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU59Tu_T0YdcTP8_wEn2-lgOptCzDvl6SMkIOL4PlZqUPqITDF0Pkf0PVzwqE4wGAytNJJCRfTVFyQq17d6cpQUN0wai5cifItMMsF3Iyy0aQV77HyIK-wKSbIzyDMWscI-4x3bTe81nUmc59qDH2XndJe2Q0wxYe2XWBFGZh-0s_sxv36oBgFzb-z5qaBNoyWdySRahr7nEq_yojVPLfUkpZ90ChbdbCn48eOXFRmEBxMZ5OB7uPjAwLP0DruUacugJXtIfGuPZbyzeIbnmUNKrWhRVwEIG3OIifqwpH9GYQy7cHtU0yRbjTkFQTG41atgIlfuY_y6tq_T0pIVJWb7GnH2kaujPO62xHm2ztW5uVHKElduncHC1wL_UOI6Xmuvc1YNzsBHz_GSt_vGZxQIGllY2ugx--TGSjf4lQcumBrrgo87Zjm5rtt5up1B3fI
2025-11-20 08:51:16,176 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:16,176 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:16,177 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:16,177 [INFO] seed_city - [SeedCity] Charger ch_fd707fef47fc category 'food': Found 10 places
2025-11-20 08:51:16,191 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:16,218 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d711c0>
2025-11-20 08:51:16,218 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49ba0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:16,287 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6fbb0>
2025-11-20 08:51:16,287 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:16,288 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:16,288 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:16,288 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:16,288 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:16,369 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:16 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4047'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=50'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:16,370 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256863%2C-97.748959&destinations=30.2534769%2C-97.74788769999999%7C30.25331539999999%2C-97.74802439999999%7C30.2526168%2C-97.7476959%7C30.24995849999999%2C-97.7500913%7C30.2635186%2C-97.74358%7C30.2627011%2C-97.74157629999999%7C30.2656068%2C-97.7483158%7C30.2656938%2C-97.7485706%7C30.2645913%2C-97.74389%7C30.26005739999999%2C-97.7392578&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:16,371 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:16,372 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:16,372 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:16,372 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:16,373 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:16,373 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:16,475 [INFO] seed_city - [SeedCity] Charger ch_fd707fef47fc: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 08:51:16,475 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256863 lng=-97.748959 type=supermarket radius=1000
2025-11-20 08:51:16,491 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:16,534 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7a520>
2025-11-20 08:51:16,535 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49580> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:16,695 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b4d2b0>
2025-11-20 08:51:16,696 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:16,696 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:16,696 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:16,696 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:16,696 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:17,057 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:17 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:17 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=321'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:17,058 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256863%2C-97.748959&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 08:51:17,058 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:17,087 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:17,088 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:17,088 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:17,089 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256863,-97.748959', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 08:51:17,090 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 08:51:17,090 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 08:51:17,090 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:17,091 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:17,091 [INFO] seed_city - [SeedCity] Charger ch_fd707fef47fc category 'groceries': Found 7 places
2025-11-20 08:51:17,103 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:17,216 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d54910>
2025-11-20 08:51:17,216 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49eb0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:17,275 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d54280>
2025-11-20 08:51:17,276 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:17,276 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:17,276 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:17,276 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:17,276 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:17,374 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:17 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3009'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=67'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:17,375 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256863%2C-97.748959&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:17,375 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:17,375 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:17,376 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:17,376 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:17,376 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:17,376 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:17,477 [INFO] seed_city - [SeedCity] Charger ch_fd707fef47fc: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 08:51:17,478 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256863 lng=-97.748959 type=gym radius=1000
2025-11-20 08:51:17,486 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:17,528 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6f490>
2025-11-20 08:51:17,528 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103c23d60> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:17,611 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b71ca0>
2025-11-20 08:51:17,612 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:17,612 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:17,612 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:17,613 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:17,613 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:18,069 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:18 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:18 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'46614'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=412'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:18,070 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256863%2C-97.748959&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 08:51:18,071 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:18,117 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:18,117 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:18,117 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:18,119 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256863,-97.748959', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 08:51:18,120 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU6_FCWWMIodK8UBxfZmAQVmnm9X5ulMwdtYGdlLkcDC-ZQcONNyopoutKsyqg-fVIs6gA0Mkzuq32YMwR2Akpvq8tPqxDZUmkkJIjS5cONU-fIkxnijgb1CSQBLXhh3T03Ty5A26IbYwKIEwHtzEDarBpsDdRBVnGirsddKX8nY5FXcCjDhLP9_H8Pi3NbUc3PLw5LNIG-AdQS3M40ASg0t1p1BSixbgIyk139tsuqwzo3eeEj-4tm3WFXzwrB1kqem4DrcTE42oO7SYofUCjzHnGU9fmA0A_ta8KSwdu4_H-yNh5uVxOxT-TVQrrZNXfaSoO9SQDT9fXyVVv_w70eslSrKkMUoNuMCP9e_7zQIeflvQj41b_AnQ0c02DbB_KxGEczTLEzVu2G0Yl9910jMNmYp7KMY1A4PawstAErbkGznyEd4vKcGi3-qLyMGsI
2025-11-20 08:51:18,120 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:18,121 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:18,121 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:18,121 [INFO] seed_city - [SeedCity] Charger ch_fd707fef47fc category 'gym': Found 10 places
2025-11-20 08:51:18,132 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:18,166 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d64880>
2025-11-20 08:51:18,166 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e040> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:18,305 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b69af0>
2025-11-20 08:51:18,306 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:18,307 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:18,307 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:18,308 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:18,308 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:18,422 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:18 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4018'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=69'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:18,423 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256863%2C-97.748959&destinations=30.2539864%2C-97.74764719999999%7C30.2527893%2C-97.7470176%7C30.260628%2C-97.741897%7C30.2655709%2C-97.7479626%7C30.2569738%2C-97.7604266%7C30.2628555%2C-97.7585568%7C30.267006%2C-97.7416592%7C30.2682716%2C-97.75482730000002%7C30.2692988%2C-97.7440922%7C30.269586%2C-97.75380860000001&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:18,423 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:18,424 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:18,424 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:18,424 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:18,425 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:18,425 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:18,526 [WARNING] seed_city - No merchants found for charger PIE AE OTC 3FL PKGSTA2
2025-11-20 08:51:18,531 [INFO] seed_city - [SeedCity] Charger ch_31288606ab6a: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 08:51:18,531 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256917 lng=-97.749169 type=cafe radius=1000
2025-11-20 08:51:18,541 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:18,578 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d62580>
2025-11-20 08:51:18,578 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e120> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:18,637 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d68b50>
2025-11-20 08:51:18,638 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:18,639 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:18,639 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:18,639 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:18,639 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:19,253 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:19 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:19 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50028'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=586'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:19,254 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256917%2C-97.749169&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 08:51:19,254 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:19,283 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:19,283 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:19,284 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:19,285 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256917,-97.749169', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 08:51:19,286 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU68qyJihUWe98qikU5Rhjo3qkHrnq6Ga1wj1llAIw1sAc5U6WnGuE4TQk8Y32gmvnYROvFluUvMw1CtfHORbyEu16Qwntm75ywom0PT5G0NcYr-qtQ8vEnNFobrSc9GZLIrBvRZcm8E3O_jorVdavzbJHI5PdTAfcd7PV8cCGO2eoRh8O0sIutwl0IR-9kz5ZuBDQI1Y-8LQIT6StvVNdnYaqK9Ztayuz1VXk31OSz3wd0qhqLuAVJMq3SqcTBDfcF3Ix2p4HGtuR4elWwBuKNtKxDTjWPDae6jVAG5BVn4CR12-hywQLg5p5qaZMigFPMEuU9HzUqNLOmIULvXP5jcvBFWGn8Xh8WINbQc17F158g1AxWWys2Z-_zYXXlVWvT1x0Ce5zB0WClCeUrddNlPxMeOoWy89kW8i-KrFrggEx9gCKby0KNwAfOJBsiff6
2025-11-20 08:51:19,286 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:19,286 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:19,287 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:19,287 [INFO] seed_city - [SeedCity] Charger ch_31288606ab6a category 'coffee': Found 10 places
2025-11-20 08:51:19,299 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:19,332 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66ee0>
2025-11-20 08:51:19,332 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d499e0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:19,406 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d669d0>
2025-11-20 08:51:19,407 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:19,407 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:19,407 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:19,408 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:19,408 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:19,527 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:19 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4008'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=77'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:19,527 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256917%2C-97.749169&destinations=30.2612339%2C-97.75786389999999%7C30.26447%2C-97.74377%7C30.26587%2C-97.74643999999999%7C30.26546%2C-97.74043999999999%7C30.26554%2C-97.73837999999999%7C30.25224%2C-97.7636%7C30.26977999999999%2C-97.75390999999999%7C30.2691051%2C-97.74037589999999%7C30.24218479999999%2C-97.7589562%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:19,527 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:19,528 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:19,528 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:19,528 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:19,529 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:19,529 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:19,630 [INFO] seed_city - [SeedCity] Charger ch_31288606ab6a: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 08:51:19,631 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256917 lng=-97.749169 type=restaurant radius=1000
2025-11-20 08:51:19,649 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:19,678 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4f790>
2025-11-20 08:51:19,678 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d496d0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:19,746 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b71070>
2025-11-20 08:51:19,746 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:19,747 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:19,747 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:19,748 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:19,748 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:20,497 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:20 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:20 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49854'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=720'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:20,498 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256917%2C-97.749169&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 08:51:20,499 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:20,525 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:20,526 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:20,526 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:20,528 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256917,-97.749169', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 08:51:20,529 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU79DfDoRY5AqffkQ_kxk4wzXJj6sNVD_gjanRwWSSZKiUlAoP3i3QPIf9GT7SaZojY3TH5NLWeuT0w-5QQoJfT1HeefsoU3e2RrE7KWvC13JHai7lEbdyNZ4539-mctJkt3_nIhiERunKHgMI0akhYDVKsCebKWq7I3U46_DDf7vJwtWI8uBUjzxZGmKBr2jkeSrhyZThefAFnmI7AQJ6Gqh_lQL2E4kS7xnVnufGOFiMhe7lydUHdu0ypEkduUkWP7MgekBQQN5t_nPPF4eShX__V5QzMWiF6vEK3_hRzA4HpGI6Ys7FIKZHLsEIntrsoMGtMPD0lADbOGYFoGwRGkcWlmAxU4ks-9Uh6RYC7n7Nb9uT2ECZLV_gjK31ERftmIEtlZbF-2SbQ828NKHLHdqFKX7bkChBp61MaFd7-2OvZwmHq3ykVYoBDEWgxs6j
2025-11-20 08:51:20,530 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:20,540 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:20,540 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:20,541 [INFO] seed_city - [SeedCity] Charger ch_31288606ab6a category 'food': Found 10 places
2025-11-20 08:51:20,550 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:20,573 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6e6d0>
2025-11-20 08:51:20,573 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b4af90> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:20,628 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4f2b0>
2025-11-20 08:51:20,628 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:20,629 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:20,629 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:20,630 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:20,630 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:20,693 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:20 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4047'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=40'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:20,694 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256917%2C-97.749169&destinations=30.2534769%2C-97.74788769999999%7C30.25331539999999%2C-97.74802439999999%7C30.2526168%2C-97.7476959%7C30.24995849999999%2C-97.7500913%7C30.2635186%2C-97.74358%7C30.2656068%2C-97.7483158%7C30.2627011%2C-97.74157629999999%7C30.2656938%2C-97.7485706%7C30.2645913%2C-97.74389%7C30.26005739999999%2C-97.7392578&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:20,694 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:20,695 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:20,695 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:20,696 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:20,696 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:20,697 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:20,798 [INFO] seed_city - [SeedCity] Charger ch_31288606ab6a: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 08:51:20,799 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256917 lng=-97.749169 type=supermarket radius=1000
2025-11-20 08:51:20,817 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:20,849 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d64d90>
2025-11-20 08:51:20,849 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d15970> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:20,926 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6e640>
2025-11-20 08:51:20,926 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:20,927 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:20,928 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:20,928 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:20,929 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:21,284 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:21 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:21 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=310'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:21,284 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256917%2C-97.749169&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 08:51:21,285 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:21,316 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:21,317 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:21,317 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:21,318 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256917,-97.749169', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 08:51:21,319 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 08:51:21,319 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 08:51:21,319 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:21,320 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:21,320 [INFO] seed_city - [SeedCity] Charger ch_31288606ab6a category 'groceries': Found 7 places
2025-11-20 08:51:21,335 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:21,371 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66ac0>
2025-11-20 08:51:21,372 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e040> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:21,447 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66a00>
2025-11-20 08:51:21,447 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:21,448 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:21,448 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:21,448 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:21,449 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:21,550 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:21 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3009'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=63'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:21,551 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256917%2C-97.749169&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:21,551 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:21,552 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:21,552 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:21,553 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:21,553 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:21,554 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:21,655 [INFO] seed_city - [SeedCity] Charger ch_31288606ab6a: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 08:51:21,656 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256917 lng=-97.749169 type=gym radius=1000
2025-11-20 08:51:21,672 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:21,693 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d624c0>
2025-11-20 08:51:21,694 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103c23d60> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:21,743 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b4d9d0>
2025-11-20 08:51:21,744 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:21,744 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:21,745 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:21,745 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:21,745 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:22,164 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:22 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:22 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'46614'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=391'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:22,165 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256917%2C-97.749169&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 08:51:22,165 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:22,201 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:22,202 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:22,202 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:22,204 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256917,-97.749169', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 08:51:22,205 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4KaG6FH_Z-lomkCZ-kKQkuEuD4jWsMGJzdc3-ZbWGjpsh5UlA8oxIM5ywI7H1Gnf75OP7_GLPQ9g7qwyWJJomag7hjVOhkLepx8vQZEn4Y4ul-DkrHLHnRhgncxZQH4OcM5Ip4Dt-tkej619JBregX77APbLuEDmGyYa3PwdEWuJu1LbuIzteoB5ryE-HxIoiNbBHhJRfwgXV4tKkb6WJUx-98Qg1h67q553Bz5Z2IkvAOX2A-EO2AmO4czesCM4c-6oBLEgKuTg3Z4s214v98_rie5qSi2zj_crgvCDPifbJFiJVjL6CYsPIU8IboCHxNHz-e_HzBg3VQ80Nu4BxVBQW-dZEoWdzVT3gV4S8EXZ7__YB8akSFm8BpSIABiQVnPoBdQgdKuzCqSuUIbNFI_XVH3LX9Z90s57cQKJjJYMWDzatz08TM-y6y-rdysj
2025-11-20 08:51:22,205 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:22,206 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:22,206 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:22,207 [INFO] seed_city - [SeedCity] Charger ch_31288606ab6a category 'gym': Found 10 places
2025-11-20 08:51:22,221 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:22,242 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d54130>
2025-11-20 08:51:22,243 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49ba0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:22,299 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d540a0>
2025-11-20 08:51:22,300 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:22,301 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:22,301 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:22,301 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:22,302 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:22,369 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:22 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4018'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=39'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:22,370 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256917%2C-97.749169&destinations=30.2539864%2C-97.74764719999999%7C30.2527893%2C-97.7470176%7C30.260628%2C-97.741897%7C30.2655709%2C-97.7479626%7C30.2569738%2C-97.7604266%7C30.2628555%2C-97.7585568%7C30.267006%2C-97.7416592%7C30.2682716%2C-97.75482730000002%7C30.2692988%2C-97.7440922%7C30.269586%2C-97.75380860000001&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:22,370 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:22,371 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:22,372 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:22,372 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:22,373 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:22,373 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:22,475 [WARNING] seed_city - No merchants found for charger PIE AE OTC 3FL PKGSTA3
2025-11-20 08:51:22,482 [INFO] seed_city - [SeedCity] Charger ch_61c7a131cb19: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 08:51:22,482 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.25904519386215 lng=-97.74902388453484 type=cafe radius=1000
2025-11-20 08:51:22,495 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:22,517 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d81130>
2025-11-20 08:51:22,517 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49f90> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:22,570 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d54a90>
2025-11-20 08:51:22,571 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:22,572 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:22,572 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:22,572 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:22,572 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:22,996 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:23 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:23 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50324'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=383'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:22,997 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.25904519386215%2C-97.74902388453484&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 08:51:22,997 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:23,033 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:23,033 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:23,034 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:23,035 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.25904519386215,-97.74902388453484', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 08:51:23,036 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU54txGyiPVJXq1aGlQdmtFt6g2pFaEBvsRmcNMErzpuslISXSp-DMUAdWNg6zCvPa9hNImQQFZZmovi_UL40GLRYPDHXwepQrIaHOZb1FliLkVijdcC88ecLvZxxWccWW3YMlRk0DOKs8S-jaOey6cg6akzDGSVJf1diBott8mdNGDU3dx6l1UcEpNJ9JbJLJ8eLUsBHMkfqy2viyzgfPnq8zfVU4QHOzSSLB33q3sIu9FPzuTjO7j2EolxoF4--aVUXf_KtMykjyK6r8p1lj_xMO6Tr1nhqiQCvZ9uz56rZDxH4NrGaxY_dP_tnyrKouDm1R2YgoYvHOIT4VousB9GMzsUPVP0Jk0WYFNdcZOqjXxij8dAP8QQiwmOMriRuGFmYkDJbC4jug0LSb2GOjyBwKZ6xOr5WMmVtAuEpVSU_XNEbT2zhDLGBGqUPH2ZbD
2025-11-20 08:51:23,036 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:23,036 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:23,037 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:23,037 [INFO] seed_city - [SeedCity] Charger ch_61c7a131cb19 category 'coffee': Found 10 places
2025-11-20 08:51:23,049 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:23,087 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d547c0>
2025-11-20 08:51:23,088 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d15970> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:23,166 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7be20>
2025-11-20 08:51:23,167 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:23,168 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:23,168 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:23,168 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:23,168 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:23,303 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:23 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4003'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=95'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:23,304 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.25904519386215%2C-97.74902388453484&destinations=30.26447%2C-97.74377%7C30.26587%2C-97.74643999999999%7C30.2612339%2C-97.75786389999999%7C30.26546%2C-97.74043999999999%7C30.26554%2C-97.73837999999999%7C30.26977999999999%2C-97.75390999999999%7C30.2691051%2C-97.74037589999999%7C30.25224%2C-97.7636%7C30.24218479999999%2C-97.7589562%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:23,304 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:23,305 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:23,306 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:23,306 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:23,306 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:23,307 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:23,408 [INFO] seed_city - [SeedCity] Charger ch_61c7a131cb19: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 08:51:23,409 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.25904519386215 lng=-97.74902388453484 type=restaurant radius=1000
2025-11-20 08:51:23,429 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:23,472 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d62b50>
2025-11-20 08:51:23,473 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103c23d60> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:23,551 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7b250>
2025-11-20 08:51:23,552 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:23,553 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:23,553 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:23,553 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:23,553 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:24,191 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:24 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:24 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'46340'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=601'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:24,192 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.25904519386215%2C-97.74902388453484&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 08:51:24,192 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:24,245 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:24,245 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:24,246 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:24,247 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.25904519386215,-97.74902388453484', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 08:51:24,248 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7lwtG-XTZrTaUQkr1svxOEBAo9G7A883CvpFsjWPj8-Wrlwi0nOzFg3BC_RLP-NWPbDdIQlkDAgUQzry-Bq1bHvqRm8y7G3OVwXDphV7JBdVAuUkQM8ZEl8qh2PgOg7oYuAUlel4aDA7pWR84lC2vCsqvS2fmrT4_E2avXwdxfexElpLAz4NM87_kIwCDoBZ_uwUYJDdsEQtjaisPXgk8WPj2p4c7RKNAaFbmfIHHsCoYl4c_bw2Kd11pBCTphgvAUr9xu2p-Q0gr4Pjt1gzv6dfkbu6H6F0x-8hqzMnlC_A5zyndMPqgVfpYgj6WfGSb42RqZ8kK1YDljr5zn-jeqBRKW5DcGyp-TzcsnZXtNd-2xJjRvypCjLp7fT1mB_gYCSspm7Ue1ffUYCxCxpIxtCa67mlaiRCDqvr62QhZZ5slHcP7WEuFjFmnJ8M2wlM
2025-11-20 08:51:24,249 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:24,249 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:24,249 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:24,250 [INFO] seed_city - [SeedCity] Charger ch_61c7a131cb19 category 'food': Found 10 places
2025-11-20 08:51:24,262 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:24,298 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66460>
2025-11-20 08:51:24,298 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e040> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:24,376 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66b50>
2025-11-20 08:51:24,377 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:24,377 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:24,378 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:24,378 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:24,378 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:24,510 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:24 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4049'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=92'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:24,511 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.25904519386215%2C-97.74902388453484&destinations=30.2534769%2C-97.74788769999999%7C30.25331539999999%2C-97.74802439999999%7C30.2649201%2C-97.7492858%7C30.2635186%2C-97.74358%7C30.2526168%2C-97.7476959%7C30.2656068%2C-97.7483158%7C30.2656938%2C-97.7485706%7C30.2660503%2C-97.7501571%7C30.2645913%2C-97.74389%7C30.2627011%2C-97.74157629999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:24,512 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:24,512 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:24,513 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:24,513 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:24,513 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:24,514 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:24,614 [INFO] seed_city - [SeedCity] Charger ch_61c7a131cb19: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 08:51:24,615 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.25904519386215 lng=-97.74902388453484 type=supermarket radius=1000
2025-11-20 08:51:24,633 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:24,656 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d64ac0>
2025-11-20 08:51:24,657 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b4af90> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:24,722 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6f370>
2025-11-20 08:51:24,723 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:24,724 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:24,724 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:24,724 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:24,724 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:25,103 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:25 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:25 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'17837'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=344'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:25,104 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.25904519386215%2C-97.74902388453484&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 08:51:25,105 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:25,123 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:25,123 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:25,123 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:25,124 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.25904519386215,-97.74902388453484', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 08:51:25,125 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 08:51:25,125 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 08:51:25,126 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:25,126 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:25,126 [INFO] seed_city - [SeedCity] Charger ch_61c7a131cb19 category 'groceries': Found 7 places
2025-11-20 08:51:25,141 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:25,166 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b7cdf0>
2025-11-20 08:51:25,167 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d499e0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:25,223 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b7c4f0>
2025-11-20 08:51:25,224 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:25,225 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:25,225 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:25,225 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:25,226 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:25,318 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:25 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3005'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=69'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:25,319 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.25904519386215%2C-97.74902388453484&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:25,319 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:25,320 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:25,320 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:25,320 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:25,320 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:25,321 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:25,422 [INFO] seed_city - [SeedCity] Charger ch_61c7a131cb19: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 08:51:25,423 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.25904519386215 lng=-97.74902388453484 type=gym radius=1000
2025-11-20 08:51:25,435 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:25,472 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d83f70>
2025-11-20 08:51:25,472 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49eb0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:25,558 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b7cca0>
2025-11-20 08:51:25,559 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:25,560 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:25,560 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:25,560 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:25,560 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:25,964 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:25 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:25 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'46660'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=363'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:25,965 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.25904519386215%2C-97.74902388453484&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 08:51:25,965 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:26,022 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:26,022 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:26,022 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:26,031 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.25904519386215,-97.74902388453484', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 08:51:26,032 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7jzYQz_bvc1ee_gYqwzNWpE2Qncmaceqo0VSV6FSf4pVfkWlySGWgxEihWzBECeb0jPBmGDRXE9tIyxSL3n79JwXAwopJM-hOyM3hrbqehT-bR49IUPcCCBAMEQ6KOROYT7668AaslNYFwOEkR8w7VsSr2Tk_VVb-wE7tyzVC-DVAhia4Fry-domJqwONSXyMLZPNVNjs_HZSxHPUDuxeUlDNzMCc9PQj40YMn0Ak5lSiHpd7dWZpJtbPH3Vvh44XXDKQAvyD-9Im2nhQzTdEpXr59CpBNjU9297iiE4K50gGOc0iSnhS6SozT-zJnPwkhHrfIi3KI-L_s2x1CbOr6Xvb4VOMVGF97qOCRZyJ1DmFyb_GI1VKqrJxuD2X3RHAX_w3IxtgYurbuGMa8VONW1MGtq7PknMem6mGe6flO7g8AweoenRa4_X8AI-MspC
2025-11-20 08:51:26,032 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:26,032 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:26,033 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:26,033 [INFO] seed_city - [SeedCity] Charger ch_61c7a131cb19 category 'gym': Found 10 places
2025-11-20 08:51:26,038 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:26,076 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b7cdf0>
2025-11-20 08:51:26,077 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e190> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:26,156 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6ef10>
2025-11-20 08:51:26,157 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:26,157 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:26,158 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:26,158 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:26,158 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:26,292 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:26 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4028'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=93'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:26,293 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.25904519386215%2C-97.74902388453484&destinations=30.2539864%2C-97.74764719999999%7C30.260628%2C-97.741897%7C30.2527893%2C-97.7470176%7C30.2655709%2C-97.7479626%7C30.2666246%2C-97.7530981%7C30.2628555%2C-97.7585568%7C30.2569738%2C-97.7604266%7C30.267006%2C-97.7416592%7C30.2682716%2C-97.75482730000002%7C30.2692988%2C-97.7440922&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:26,294 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:26,295 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:26,295 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:26,295 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:26,296 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:26,296 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:26,398 [WARNING] seed_city - No merchants found for charger RiverSouth Garage
2025-11-20 08:51:26,402 [INFO] seed_city - [SeedCity] Charger ch_aadf609d68db: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 08:51:26,402 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259012 lng=-97.747352 type=cafe radius=1000
2025-11-20 08:51:26,415 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:26,447 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6efd0>
2025-11-20 08:51:26,447 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e040> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:26,497 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6e7f0>
2025-11-20 08:51:26,498 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:26,498 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:26,499 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:26,499 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:26,499 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:26,974 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:27 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:27 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50324'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=449'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:26,975 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259012%2C-97.747352&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 08:51:26,975 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:27,013 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:27,014 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:27,015 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:27,018 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259012,-97.747352', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 08:51:27,019 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5VYP9xIlSt58pTDuIxm1Uu6lSr69mna3Nyam6Cg3iy_XWRJckCUtnLFx8cHwTHBtv3KBGflAZwQIKd0FzYWlkcMuRO5WFsFYhtXu7nVgZNkCbMhEL4Gw0ygM8hqWbTwGKTMied_tHXaalEtfJRWDM6r5itCoygBuxqnvjev8LDp3rV9OgPpAJDibHSQiCIySyL9HLm1GhNx6PgAS8mCjszdUAnttw2TyLFSmqEBhUPkdIh0GqUCDN7V4t9AXznnGq2PU4lzwHze-hueOtzbGfcZWppH2pwguwDK61_JunmFsqEhHIGHmK11dSlMxJSvE3UFb8BbEgPzor6Y--9UAMMaFprlrYaTpdDgS5JFlky5dxqfuEabdwH1WJ4RCmMrZFpF9ku04wCqDKBe0keqsXXgqV31WxJl6VHMzkWwHn_F3SSuRNG2Z6c9agTEXzE77
2025-11-20 08:51:27,019 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:27,020 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:27,020 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:27,021 [INFO] seed_city - [SeedCity] Charger ch_aadf609d68db category 'coffee': Found 10 places
2025-11-20 08:51:27,033 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:27,058 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d62ac0>
2025-11-20 08:51:27,059 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d15970> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:27,118 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d713d0>
2025-11-20 08:51:27,118 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:27,119 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:27,119 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:27,120 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:27,120 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:27,233 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:27 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4007'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=88'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:27,234 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259012%2C-97.747352&destinations=30.26447%2C-97.74377%7C30.26587%2C-97.74643999999999%7C30.26546%2C-97.74043999999999%7C30.2612339%2C-97.75786389999999%7C30.26554%2C-97.73837999999999%7C30.2691051%2C-97.74037589999999%7C30.26977999999999%2C-97.75390999999999%7C30.25224%2C-97.7636%7C30.2781%2C-97.74434%7C30.24218479999999%2C-97.7589562&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:27,234 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:27,235 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:27,235 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:27,235 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:27,236 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:27,236 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:27,336 [INFO] seed_city - [SeedCity] Charger ch_aadf609d68db: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 08:51:27,337 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259012 lng=-97.747352 type=restaurant radius=1000
2025-11-20 08:51:27,354 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:27,372 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d541f0>
2025-11-20 08:51:27,372 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e120> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:27,427 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d83520>
2025-11-20 08:51:27,428 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:27,429 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:27,429 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:27,429 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:27,429 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:28,022 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:28 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:28 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49220'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=564'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:28,022 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259012%2C-97.747352&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 08:51:28,029 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:28,063 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:28,064 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:28,064 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:28,066 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259012,-97.747352', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 08:51:28,067 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU6PV3mAaik9w4DHAlo0ZoBQ3Ns59tYTJBvnVAnt2tketbRB1uBbt-_VSQL_LgxM3OnF9lyZUJ9x4FHVHGTM5pR9ioP5MA55o-6V8nrUXd0nq72mhD8XCjNlVP3B19iHtus2ctZT0y70vfa8JdhGBojcfa6mBE5OysW2GsZ4P8fSevnVIns_kPahE864BziS86GPlwDpQwM_uI0dhTSunb1glm5yhhP8doBnbGH9acyCHw21yss_eS90tIKHrQqMo66RrrZycbVw4m0a8YQPh287ocJNOIelen4iMeTfWH2vowKLAwbsj0wga4Kv5HJbHA9fN_aB_38a8shEU7FISCRTg7kSLCz_WSJnH1nJCNeoeAqs8apLq9NMLXltKrc8tcGVq2WpBeuzNih7t4zcTmOdnXB7E1jv-gGGLr_j35FsWkIqI1PTNjnS1Ri4k3YKqw
2025-11-20 08:51:28,068 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:28,070 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:28,071 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:28,072 [INFO] seed_city - [SeedCity] Charger ch_aadf609d68db category 'food': Found 10 places
2025-11-20 08:51:28,084 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:28,108 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66460>
2025-11-20 08:51:28,108 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49cf0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:28,149 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7b3a0>
2025-11-20 08:51:28,150 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:28,150 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:28,150 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:28,151 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:28,151 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:28,277 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:28 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4046'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=101'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:28,278 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259012%2C-97.747352&destinations=30.2534769%2C-97.74788769999999%7C30.2635186%2C-97.74358%7C30.25331539999999%2C-97.74802439999999%7C30.2649201%2C-97.7492858%7C30.2627011%2C-97.74157629999999%7C30.2645913%2C-97.74389%7C30.2526168%2C-97.7476959%7C30.263486%2C-97.74173479999999%7C30.2656068%2C-97.7483158%7C30.2656938%2C-97.7485706&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:28,278 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:28,280 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:28,280 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:28,280 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:28,281 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:28,281 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:28,383 [INFO] seed_city - [SeedCity] Charger ch_aadf609d68db: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 08:51:28,383 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259012 lng=-97.747352 type=supermarket radius=1000
2025-11-20 08:51:28,395 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:28,434 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d86670>
2025-11-20 08:51:28,434 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49e40> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:28,525 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7b790>
2025-11-20 08:51:28,526 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:28,528 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:28,528 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:28,528 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:28,528 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:28,969 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:28 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:28 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=394'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:28,970 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259012%2C-97.747352&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 08:51:28,970 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:29,000 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:29,001 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:29,001 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:29,002 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259012,-97.747352', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 08:51:29,002 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2643126, "lng": -97.7340971}, "viewport": {"northeast": {"lat": 30.26576902989272, "lng": -97.73269037010728}, "southwest": {"lat": 30.26306937010727, "lng": -97.73539002989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcar
2025-11-20 08:51:29,002 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 08:51:29,002 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:29,002 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:29,003 [INFO] seed_city - [SeedCity] Charger ch_aadf609d68db category 'groceries': Found 7 places
2025-11-20 08:51:29,016 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:29,057 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66b80>
2025-11-20 08:51:29,057 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d15970> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:29,134 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d773a0>
2025-11-20 08:51:29,135 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:29,136 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:29,136 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:29,136 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:29,136 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:29,235 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:29 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3010'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=62'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:29,236 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259012%2C-97.747352&destinations=30.2643126%2C-97.7340971%7C30.2706339%2C-97.753587%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:29,236 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:29,237 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:29,237 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:29,238 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:29,238 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:29,239 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:29,340 [INFO] seed_city - [SeedCity] Charger ch_aadf609d68db: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 08:51:29,341 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259012 lng=-97.747352 type=gym radius=1000
2025-11-20 08:51:29,356 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:29,384 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d54130>
2025-11-20 08:51:29,384 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b4af90> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:29,443 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d77d90>
2025-11-20 08:51:29,444 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:29,445 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:29,445 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:29,445 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:29,445 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:29,824 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:29 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:29 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'46516'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=354'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:29,825 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259012%2C-97.747352&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 08:51:29,825 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:29,864 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:29,865 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:29,865 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:29,866 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259012,-97.747352', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 08:51:29,867 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4847zkuit9aSpk3cbIxE-Gy9J1xDsE5Qvrj_WSzcN3JdqN1F2-qWcJ2d6ZEVd4rmVAkSREOPZ78Cs-2n1eOOgXDSKGm7K-La2Tc6hFoYLgPDDPdob_xrD0OxbtV98WXh5nre3ypOXmoE-830hUbfBMsRA7SsKnp7B0xO4fr00UwMB1IvJg_VFxRT0CeaL7bKN6D-orYlNPW6SHFw59I-SBC55LcCfRCc-94OcvpDNhUcVkAB4z_jXC9bLPJPInHFNSS-VnJo-A1RbjS5NTRyMz4fFkhzKBxxILzSsR7JK79EO0S119uXZn1p17uHkDuL0f0XdGjYbYd3TISfawo_Dy-BonS5uznoYifhTauXZf42PXaFKP1_cyVO8hFOz31xCNDl6wW-nhcaIRyb1FdRZ4a8Vdea4Ffyz2zFhnerN6rk2RT3TuDDrofTBqrXLfw3
2025-11-20 08:51:29,867 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:29,867 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:29,868 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:29,868 [INFO] seed_city - [SeedCity] Charger ch_aadf609d68db category 'gym': Found 10 places
2025-11-20 08:51:29,879 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:29,916 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d62b50>
2025-11-20 08:51:29,917 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49580> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:29,992 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6f370>
2025-11-20 08:51:29,993 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:29,993 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:29,993 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:29,994 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:29,994 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:30,132 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:30 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4010'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=102'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:30,133 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259012%2C-97.747352&destinations=30.260628%2C-97.741897%7C30.2539864%2C-97.74764719999999%7C30.2527893%2C-97.7470176%7C30.2655709%2C-97.7479626%7C30.265904%2C-97.74395129999999%7C30.267153%2C-97.7430608%7C30.267006%2C-97.7416592%7C30.2628555%2C-97.7585568%7C30.2692988%2C-97.7440922%7C30.2682716%2C-97.75482730000002&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:30,133 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:30,134 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:30,135 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:30,135 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:30,136 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:30,136 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:30,142 [ERROR] seed_city - Error processing category gym for charger ch_aadf609d68db: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJg858GFO1RIYROWiSqWkllNU', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJg858GFO1RIYROWiSqWkllNU', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:51:30,144 [WARNING] seed_city - No merchants found for charger Hyatt Regency Austin - Tesla Destination
2025-11-20 08:51:30,146 [INFO] seed_city - [SeedCity] Charger ch_d1aca54dacdc: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 08:51:30,146 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259201 lng=-97.751695 type=cafe radius=1000
2025-11-20 08:51:30,155 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:30,190 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d64640>
2025-11-20 08:51:30,190 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49b30> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:30,277 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b699d0>
2025-11-20 08:51:30,277 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:30,278 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:30,278 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:30,279 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:30,279 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:30,888 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:30 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:30 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50028'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=569'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:30,889 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259201%2C-97.751695&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 08:51:30,889 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:30,944 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:30,944 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:30,945 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:30,946 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259201,-97.751695', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 08:51:30,947 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4IOYX9uCJDJPQ8mI5KBWyn6UWWu_84e3PJAPix7HMclHRgRsJSzj83QzXxlRQSR6q4VCdXW050xzsBU1e49nyhTctFSQxGEDZSDsh5EYtvUt-S5NsrRBPV3CATo2HeGk8_i3tqWLfzmh7P0pnxRY-mgug8bow4RfxkFhU_g7Dy1B41ofsNz9oR8eEsfDp57JGDznT2Ty8tsLf5QjbiRzm2ETa9r9rTiTVQ-wwpNZRYbOZ68vMrZskfZuQ-uFALdnwMwTLdutY2ULX_yOcojh28OxKnbjiskCR6RBldnL9EMj1H549Z8i-6vhr3z_S5gKmMJdorO59kBiq_D29M3ZYSlOCZNxic2yX_LJZzYUkDa97iQEkdLjxm-M0w00z2a-FDpfW5cASa4Pvmg9B_3dgwkDSRS7s5mapAzadYoVE08_TyBkMvtClFr3z92vHolq
2025-11-20 08:51:30,947 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:30,947 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:30,947 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:30,947 [INFO] seed_city - [SeedCity] Charger ch_d1aca54dacdc category 'coffee': Found 10 places
2025-11-20 08:51:30,958 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:30,990 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4f520>
2025-11-20 08:51:30,990 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49cf0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:31,049 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b7ce20>
2025-11-20 08:51:31,049 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:31,050 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:31,050 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:31,050 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:31,050 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:31,167 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:31 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4012'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=82'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:31,168 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259201%2C-97.751695&destinations=30.2612339%2C-97.75786389999999%7C30.26587%2C-97.74643999999999%7C30.26447%2C-97.74377%7C30.26977999999999%2C-97.75390999999999%7C30.26546%2C-97.74043999999999%7C30.25224%2C-97.7636%7C30.26554%2C-97.73837999999999%7C30.2691051%2C-97.74037589999999%7C30.24218479999999%2C-97.7589562%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:31,168 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:31,169 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:31,169 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:31,170 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:31,170 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:31,171 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:31,172 [ERROR] seed_city - Error processing category coffee for charger ch_d1aca54dacdc: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:51:31,174 [INFO] seed_city - [SeedCity] Charger ch_d1aca54dacdc: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 08:51:31,174 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259201 lng=-97.751695 type=restaurant radius=1000
2025-11-20 08:51:31,193 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:31,232 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d77fd0>
2025-11-20 08:51:31,232 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d8b7b0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:31,320 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b56730>
2025-11-20 08:51:31,321 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:31,322 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:31,322 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:31,322 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:31,322 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:31,853 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:31 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:31 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49237'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=488'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:31,854 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259201%2C-97.751695&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 08:51:31,854 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:31,920 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:31,921 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:31,921 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:31,922 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259201,-97.751695', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 08:51:31,924 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7oUvQAbCY9WSE80jrufKeUool59npiqWI8No67mmDKy5gWygejB0JCQLX1wU0fryR4_CCxcV1FzzIb9SR5PRgit8LTOhNE-54vPx-c555sR7bgF47bfd4xloLHuO_lv1f1mNyKAkHK0EHQBU4_BazPOSF9MEKvtEKZiWN8UhkUo0zXxHV5B2vgUsAxWSsKa49n1ACfTUdCu2Nu2sJzSnCcptW8IS_v1HuDJGXxoRqSII-L3WOErpAPnYWc6FLx6IPA26xkOU6W7UvgNB4FioZ1aLPA3n64AmEbCQtK08a3lZ3CtR50XO1gQkE6LTu-FnavIpT7Fb1Q-cYl2f321JvUQi3fWy71En9sJtUlx9sCtsouyLTSCZu73skDiWF6rpXXXYH_rP83CLKZtxbxSa4t3xkJ2IwGJLktcuhdQCP26y9Z_36Q-hhzU_SFz1DIuu
2025-11-20 08:51:31,924 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:31,924 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:31,924 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:31,925 [INFO] seed_city - [SeedCity] Charger ch_d1aca54dacdc category 'food': Found 10 places
2025-11-20 08:51:31,935 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:31,972 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d83670>
2025-11-20 08:51:31,972 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b4af90> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:32,058 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d834f0>
2025-11-20 08:51:32,058 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:32,059 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:32,059 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:32,059 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:32,059 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:32,199 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:32 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4079'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=102'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:32,199 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259201%2C-97.751695&destinations=30.2649201%2C-97.7492858%7C30.2638786%2C-97.75682049999999%7C30.2534769%2C-97.74788769999999%7C30.25331539999999%2C-97.74802439999999%7C30.2660503%2C-97.7501571%7C30.2656938%2C-97.7485706%7C30.2656068%2C-97.7483158%7C30.2526168%2C-97.7476959%7C30.266876%2C-97.7528456%7C30.2635186%2C-97.74358&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:32,200 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:32,200 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:32,200 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:32,201 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:32,201 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:32,201 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:32,303 [INFO] seed_city - [SeedCity] Charger ch_d1aca54dacdc: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 08:51:32,303 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259201 lng=-97.751695 type=supermarket radius=1000
2025-11-20 08:51:32,315 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:32,344 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b7cc40>
2025-11-20 08:51:32,345 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e190> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:32,397 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b4d400>
2025-11-20 08:51:32,398 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:32,399 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:32,399 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:32,399 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:32,399 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:32,845 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:32 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:32 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'21518'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=430'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:32,846 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259201%2C-97.751695&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 08:51:32,846 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:32,865 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:32,869 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:32,870 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:32,871 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259201,-97.751695', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 08:51:32,872 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 08:51:32,872 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=8
2025-11-20 08:51:32,872 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:32,877 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:32,877 [INFO] seed_city - [SeedCity] Charger ch_d1aca54dacdc category 'groceries': Found 8 places
2025-11-20 08:51:32,887 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:32,926 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7bb80>
2025-11-20 08:51:32,927 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e040> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:33,006 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7b820>
2025-11-20 08:51:33,007 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:33,008 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:33,008 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:33,008 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:33,008 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:33,114 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:33 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3399'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=61'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:33,115 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259201%2C-97.751695&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2975583%2C-97.7410694%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:33,115 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:33,116 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:33,116 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:33,116 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:33,116 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:33,117 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:33,218 [INFO] seed_city - [SeedCity] Charger ch_d1aca54dacdc: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 08:51:33,218 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259201 lng=-97.751695 type=gym radius=1000
2025-11-20 08:51:33,232 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:33,255 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4f6d0>
2025-11-20 08:51:33,255 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103c23d60> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:33,303 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7b070>
2025-11-20 08:51:33,304 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:33,305 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:33,305 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:33,305 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:33,305 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:33,785 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:33 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:33 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47536'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=451'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:33,786 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259201%2C-97.751695&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 08:51:33,786 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:33,818 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:33,818 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:33,818 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:33,820 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259201,-97.751695', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 08:51:33,822 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4X8NxdRWV3nQCj3wCt9XP-tnCWiDTSeFV0Nwsw2nOtWQBM4Ch9Q0rp6AutWQxTdk-mrGQ3aiChO4zPUcH6CHi_Ou-NgqpXKe7hairgJgQ1KvqwYCLpbPKcay2hTUu-LOo8Qb8RPLtUpzDRWLudsZUp90EpIqHxqWUGOs1nnB-X2yj5V9EEuw0mVC8C8eEIsZbp46jWeDFt8wnMywoKg1XJauVG6PBAPDdaPbQugXZugFFlgL6PNFxNinRtuu1iTK4DhhOqKgj7KOxS49CZKUOgKoM0gGbs7VufE1kjGCTfhWQxU_R3axdErWgzNs3-lND0FiRU1aY9BnmWbWqeIt_xUWu502_LHO7T3qLTSzN8ubgbbMVrcG-oF8GYUW_icGSkm7E18W8ckdKlG003Tz5LLtHm94xJ6Gqu912ey-UvxgdnVTXWVNVyC3Z5vGuB1s
2025-11-20 08:51:33,822 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:33,822 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:33,823 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:33,823 [INFO] seed_city - [SeedCity] Charger ch_d1aca54dacdc category 'gym': Found 10 places
2025-11-20 08:51:33,834 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:33,861 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6e550>
2025-11-20 08:51:33,862 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49ba0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:33,942 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66c10>
2025-11-20 08:51:33,943 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:33,944 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:33,944 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:33,944 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:33,945 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:34,025 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:34 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4036'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=41'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:34,026 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259201%2C-97.751695&destinations=30.2539864%2C-97.74764719999999%7C30.2628555%2C-97.7585568%7C30.2655709%2C-97.7479626%7C30.2666246%2C-97.7530981%7C30.2527893%2C-97.7470176%7C30.2569738%2C-97.7604266%7C30.260628%2C-97.741897%7C30.2682716%2C-97.75482730000002%7C30.269586%2C-97.75380860000001%7C30.267006%2C-97.7416592&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:34,026 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:34,027 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:34,027 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:34,028 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:34,028 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:34,029 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:34,130 [WARNING] seed_city - No merchants found for charger PIE AE PALMER STATION2
2025-11-20 08:51:34,132 [INFO] seed_city - [SeedCity] Charger ch_722dd4b52585: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 08:51:34,133 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259236 lng=-97.751809 type=cafe radius=1000
2025-11-20 08:51:34,145 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:34,168 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7b610>
2025-11-20 08:51:34,168 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49f90> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:34,222 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d664c0>
2025-11-20 08:51:34,222 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:34,223 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:34,223 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:34,224 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:34,224 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:34,744 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:34 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:34 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50028'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=493'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:34,745 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259236%2C-97.751809&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 08:51:34,745 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:34,770 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:34,770 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:34,771 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:34,771 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259236,-97.751809', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 08:51:34,773 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU45DBsLzBkaNvRFGaGYLUC3pibs_d7xDT-RyhrctCk5oZXt1PIqvjS_WkOILaS-X5J-OBSCsMrw27UdocVlucSLzidixtccyw-BtlRD4joZVixgwYkUvP1Mq3l3OX93kYpCjDh4Hd0o4uqOAV5KuxKVHyP73ZtrmHpFXjzfqk3jwH7lJ0-gXg_op4_CMUOePZ-YtC-B7GlSpHcWv6Y95vhVeEk5ilHmjndS_a3t932Svh20cycjz6PTTg_0Z8niNd46wnfGbMXZHsrjXvqpA5u3ZoLdgrWIOglQGEDs3m3MsLM9tDnoJGwApvmZSBwpySDoL1by4e80l9qv-U1NW_pqlnW0Oi3zBkUON55L422xJAsUEBKVLUTUKsBMtDEq-GfKkbG5m01aknZM_M7GOSiGwq39JDN7wFicqh2GkWigy7EDc2zo-n38RvANF5a1Is
2025-11-20 08:51:34,773 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:34,773 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:34,773 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:34,773 [INFO] seed_city - [SeedCity] Charger ch_722dd4b52585 category 'coffee': Found 10 places
2025-11-20 08:51:34,780 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:34,797 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6e760>
2025-11-20 08:51:34,797 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b4af90> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:34,848 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d62520>
2025-11-20 08:51:34,849 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:34,849 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:34,849 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:34,850 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:34,850 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:34,941 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:34 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4008'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=71'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:34,942 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259236%2C-97.751809&destinations=30.2612339%2C-97.75786389999999%7C30.26587%2C-97.74643999999999%7C30.26447%2C-97.74377%7C30.26977999999999%2C-97.75390999999999%7C30.26546%2C-97.74043999999999%7C30.25224%2C-97.7636%7C30.26554%2C-97.73837999999999%7C30.2691051%2C-97.74037589999999%7C30.24218479999999%2C-97.7589562%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:34,943 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:34,944 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:34,944 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:34,944 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:34,945 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:34,946 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:34,947 [ERROR] seed_city - Error processing category coffee for charger ch_722dd4b52585: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:51:34,948 [INFO] seed_city - [SeedCity] Charger ch_722dd4b52585: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 08:51:34,948 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259236 lng=-97.751809 type=restaurant radius=1000
2025-11-20 08:51:34,961 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:34,990 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4f310>
2025-11-20 08:51:34,990 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e040> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:35,046 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66730>
2025-11-20 08:51:35,046 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:35,048 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:35,048 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:35,048 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:35,048 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:35,509 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:35 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:35 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49237'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=433'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:35,510 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259236%2C-97.751809&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 08:51:35,511 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:35,552 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:35,553 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:35,553 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:35,554 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259236,-97.751809', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 08:51:35,555 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7ogaExiknkm9rZXCdiCIjV__QP-SJyeDwSGlnoIe5ogOnDNZaRv6tKYmypHZCIWdD5l8DbQ7Mb5Ari5fiNDAIwYLOWTSypHlqzS-z2N-2SEcLKE6uIzTrLzWNlCdZJUfIyfQriu5PDC7gPElFn_dEWzejo6HVt-7QpSb6V8ETBiQrt2Hm1ICdkDT4kup8tIChpQtVfi3ehhFm3Z_K2y-ksWq7JqMVEp1oN5NY9lzlD27UPoFS6PyBxhupoGjpPaxpJ1mQBZy5xcSryR-RR0rG_f4hvasd65zPxEHNovH44LsufjRngdDqdBEwSNHQbZFGLFXGpKjQOCdAkaB2Z2OhnLf6qMX7ozExLQb3yCa_R58yvu1rDaUr7zLKLJGvOjbYMUYhVxhFQYr7a8Id4ZLgZ5nLRq1YUv1iyK6CXmVzXJ_Xgc9hSma2CkLXgaUZ58L
2025-11-20 08:51:35,555 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:35,556 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:35,556 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:35,556 [INFO] seed_city - [SeedCity] Charger ch_722dd4b52585 category 'food': Found 10 places
2025-11-20 08:51:35,567 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:35,612 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7b1f0>
2025-11-20 08:51:35,613 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e120> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:35,698 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d64a90>
2025-11-20 08:51:35,699 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:35,700 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:35,700 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:35,700 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:35,700 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:35,771 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:35 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4076'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=36'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:35,772 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259236%2C-97.751809&destinations=30.2649201%2C-97.7492858%7C30.2638786%2C-97.75682049999999%7C30.2534769%2C-97.74788769999999%7C30.25331539999999%2C-97.74802439999999%7C30.2660503%2C-97.7501571%7C30.2656938%2C-97.7485706%7C30.2656068%2C-97.7483158%7C30.2526168%2C-97.7476959%7C30.266876%2C-97.7528456%7C30.2635186%2C-97.74358&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:35,772 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:35,773 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:35,774 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:35,774 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:35,774 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:35,775 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:35,876 [INFO] seed_city - [SeedCity] Charger ch_722dd4b52585: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 08:51:35,876 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259236 lng=-97.751809 type=supermarket radius=1000
2025-11-20 08:51:35,887 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:35,922 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d81a90>
2025-11-20 08:51:35,922 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d496d0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:36,004 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d64940>
2025-11-20 08:51:36,005 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:36,005 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:36,006 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:36,006 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:36,006 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:36,412 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:36 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:36 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'21518'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=361'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:36,413 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259236%2C-97.751809&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 08:51:36,414 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:36,455 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:36,455 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:36,456 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:36,456 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259236,-97.751809', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 08:51:36,457 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 08:51:36,457 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=8
2025-11-20 08:51:36,457 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:36,458 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:36,459 [INFO] seed_city - [SeedCity] Charger ch_722dd4b52585 category 'groceries': Found 8 places
2025-11-20 08:51:36,468 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:36,494 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d832b0>
2025-11-20 08:51:36,495 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49900> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:36,558 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d83d30>
2025-11-20 08:51:36,559 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:36,559 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:36,559 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:36,559 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:36,559 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:36,647 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:36 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3395'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=66'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:36,648 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259236%2C-97.751809&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2975583%2C-97.7410694%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:36,648 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:36,649 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:36,650 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:36,650 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:36,651 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:36,651 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:36,752 [INFO] seed_city - [SeedCity] Charger ch_722dd4b52585: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 08:51:36,753 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259236 lng=-97.751809 type=gym radius=1000
2025-11-20 08:51:36,768 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:36,813 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b563d0>
2025-11-20 08:51:36,813 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49ac0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:36,891 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b4d820>
2025-11-20 08:51:36,891 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:36,892 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:36,892 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:36,892 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:36,892 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:37,391 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:37 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:37 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47536'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=456'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:37,392 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259236%2C-97.751809&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 08:51:37,392 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:37,454 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:37,455 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:37,455 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:37,457 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259236,-97.751809', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 08:51:37,458 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU46L3v0S36U0xpNIVo8nWYHnz5BEhsOQaXp1-UrSMexBDHyH5XYnA_7MJN9yAjzbOGyHX7j0AhnTjcMXhR8bfcVscm-xNZtj3SfqqPEvStqyXiabctdK9jRYMBWYZcM2BU7bGbDuxlGatOyTrPwE2G5p7TfysMI9PbVS0QrnVokb1YXmj0H_pLOf2Rq8YNmAZLs68TM0UKygXTWkWnraJyL0QkjEJ0c7sISst8_QorTfGYJkAnSRug3WlUSDW5TlyLJOYHsSFmzuAlI8tXAhg8fXpvacicllKlNXkOY5Cge4UhuCxL43br_LWkyNKUeQQDxrFuTF-taaZxpVmXcJgRCuuK-eGtXmd8kJAk8auldkCkgAntcc8b0W88d5ZGQINv29fpWeFmfkNISFymWQYgK7nFurLVIGpiKDfHH2yXmLYTg8iPHQqvjZQARIUN35R
2025-11-20 08:51:37,458 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:37,458 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:37,458 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:37,458 [INFO] seed_city - [SeedCity] Charger ch_722dd4b52585 category 'gym': Found 10 places
2025-11-20 08:51:37,468 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:37,503 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d83a90>
2025-11-20 08:51:37,504 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d15970> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:37,589 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d83880>
2025-11-20 08:51:37,589 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:37,590 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:37,590 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:37,591 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:37,591 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:37,670 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:37 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4032'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=39'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:37,671 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259236%2C-97.751809&destinations=30.2539864%2C-97.74764719999999%7C30.2628555%2C-97.7585568%7C30.2655709%2C-97.7479626%7C30.2666246%2C-97.7530981%7C30.2527893%2C-97.7470176%7C30.2569738%2C-97.7604266%7C30.260628%2C-97.741897%7C30.2682716%2C-97.75482730000002%7C30.269586%2C-97.75380860000001%7C30.267006%2C-97.7416592&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:37,672 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:37,673 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:37,673 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:37,673 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:37,674 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:37,674 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:37,776 [WARNING] seed_city - No merchants found for charger PIE AE PALMER STATION3
2025-11-20 08:51:37,779 [INFO] seed_city - [SeedCity] Charger ch_c34157a43d0c: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 08:51:37,780 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259705 lng=-97.752496 type=cafe radius=1000
2025-11-20 08:51:37,793 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:37,827 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7be80>
2025-11-20 08:51:37,827 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49c10> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:37,906 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d835b0>
2025-11-20 08:51:37,906 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:37,907 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:37,907 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:37,908 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:37,908 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:38,402 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:38 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:38 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50028'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=442'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:38,402 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259705%2C-97.752496&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 08:51:38,403 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:38,475 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:38,476 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:38,476 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:38,477 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259705,-97.752496', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 08:51:38,478 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU6daf3j79fBXU3_cjKMD7TLOveo7RxlCWp20qh6oBO9Pz2eq1dw3FclatCCkvjG5_m8BmJJBfOuSuGPPf2B_r0Ejtjoa-o16mxmUzGk1R7yUcAd8WpcXkvtP11ShIkqaEuTKRT0ROi1B0aojuMKZgbo3YJ01i7D4_udxiJS6ko9vvcAVFwuHK7gJU_iMHhk3D5v_1A4oJhH9zR7K7OuKpxL8WTfAkVfjsQpUThUr1ZKOHTz_h1kwzNVcZLMwMivwDEY5SvpXzLN963DiPAk_OIEA8XAxZeE0DxWvHGAx6nb9IjvyL6IDU3kCB5NBx2G8HrpjrIPAcjioeR7fQ-bjS0JoyG1a44w7tmdyYwheAbY28ecDnC-rvIHUU-tSmDFCnZ-oM5Dyf0G8C6bTm0IZp6Jz6sw-lNmfwJP4irbM0ag8yKfRxHA1Ne5fdPjFzDWA8
2025-11-20 08:51:38,478 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:38,478 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:38,479 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:38,479 [INFO] seed_city - [SeedCity] Charger ch_c34157a43d0c category 'coffee': Found 10 places
2025-11-20 08:51:38,490 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:38,518 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d64490>
2025-11-20 08:51:38,519 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103c23d60> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:38,593 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7b2b0>
2025-11-20 08:51:38,594 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:38,594 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:38,595 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:38,595 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:38,595 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:38,732 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:38 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4012'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=87'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:38,733 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259705%2C-97.752496&destinations=30.2612339%2C-97.75786389999999%7C30.26587%2C-97.74643999999999%7C30.26447%2C-97.74377%7C30.26977999999999%2C-97.75390999999999%7C30.26546%2C-97.74043999999999%7C30.25224%2C-97.7636%7C30.26554%2C-97.73837999999999%7C30.2691051%2C-97.74037589999999%7C30.24218479999999%2C-97.7589562%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:38,733 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:38,734 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:38,734 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:38,735 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:38,735 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:38,735 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:38,737 [ERROR] seed_city - Error processing category coffee for charger ch_c34157a43d0c: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:51:38,739 [INFO] seed_city - [SeedCity] Charger ch_c34157a43d0c: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 08:51:38,739 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259705 lng=-97.752496 type=restaurant radius=1000
2025-11-20 08:51:38,750 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:38,785 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66f40>
2025-11-20 08:51:38,786 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b4af90> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:38,865 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4f970>
2025-11-20 08:51:38,865 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:38,866 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:38,866 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:38,867 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:38,867 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:39,611 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:39 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:39 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49520'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=705'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:39,612 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259705%2C-97.752496&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 08:51:39,612 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:39,680 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:39,681 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:39,681 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:39,682 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259705,-97.752496', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 08:51:39,683 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU42vG5Cma6gqAuppHqZsZrvaX5V53ENxSnu38Sg3LbRX_Fv8bMKZabTY5uy0ErDnF0J3f3js0N6In6Yj6YtDGTDZS0GcWgid8lwKMBcipDoqc6kr7yDwIX2mnxtYL3jM2zerW-jNoEvj5ZbyQtfccLqGHiY4gld8ZeO14gvfauKzhTcsWkEhsqq24wIzWRFk0naAEdYpwmRuwO8kWlSdUlHJrd0FBcfcdWwoyCEIZ8QQXx1K4v6qnk50ZOKaHWGJFV2bLWD4pStQcS-ehP11imU6xHa0EKGf-DM-z6VLOZF5Acthl-c78LDXSLZyJ7mL0tF8Iyt6kNSCwtSfEUTASU7SNt5Qqq1eRtVL0Tf-9rjEQPGE8U4qCjoJDfVDakfBo47qAsyJuLwz3Dhb3ugD4mEtUdtWxwbqqRz5TboKV1ftJTgjE67VbJuSB7m9gAfxp
2025-11-20 08:51:39,683 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:39,683 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:39,683 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:39,684 [INFO] seed_city - [SeedCity] Charger ch_c34157a43d0c category 'food': Found 10 places
2025-11-20 08:51:39,694 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:39,727 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6e6a0>
2025-11-20 08:51:39,727 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d495f0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:39,803 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6efa0>
2025-11-20 08:51:39,803 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:39,804 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:39,804 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:39,804 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:39,805 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:39,940 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:39 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4089'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=88'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:39,941 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259705%2C-97.752496&destinations=30.2638786%2C-97.75682049999999%7C30.2649201%2C-97.7492858%7C30.2660503%2C-97.7501571%7C30.2656938%2C-97.7485706%7C30.2656068%2C-97.7483158%7C30.266876%2C-97.7528456%7C30.2670001%2C-97.7522838%7C30.2534769%2C-97.74788769999999%7C30.25331539999999%2C-97.74802439999999%7C30.2526168%2C-97.7476959&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:39,942 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:39,943 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:39,943 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:39,943 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:39,944 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:39,944 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:40,046 [INFO] seed_city - [SeedCity] Charger ch_c34157a43d0c: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 08:51:40,046 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259705 lng=-97.752496 type=supermarket radius=1000
2025-11-20 08:51:40,061 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:40,107 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b71490>
2025-11-20 08:51:40,108 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49e40> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:40,191 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b71100>
2025-11-20 08:51:40,191 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:40,191 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:40,191 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:40,192 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:40,192 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:40,718 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:40 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:40 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'21518'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=486'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:40,719 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259705%2C-97.752496&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 08:51:40,719 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:40,754 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:40,754 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:40,755 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:40,756 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259705,-97.752496', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 08:51:40,756 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 08:51:40,757 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=8
2025-11-20 08:51:40,757 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:40,758 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:40,758 [INFO] seed_city - [SeedCity] Charger ch_c34157a43d0c category 'groceries': Found 8 places
2025-11-20 08:51:40,769 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:40,806 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d64a30>
2025-11-20 08:51:40,806 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d15970> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:40,898 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6ee50>
2025-11-20 08:51:40,898 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:40,899 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:40,899 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:40,899 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:40,899 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:41,004 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:41 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3399'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=63'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:41,004 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259705%2C-97.752496&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2975583%2C-97.7410694%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:41,004 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:41,005 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:41,005 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:41,005 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:41,006 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:41,006 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:41,107 [INFO] seed_city - [SeedCity] Charger ch_c34157a43d0c: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 08:51:41,108 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259705 lng=-97.752496 type=gym radius=1000
2025-11-20 08:51:41,120 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:41,147 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d81250>
2025-11-20 08:51:41,147 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e040> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:41,226 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6e580>
2025-11-20 08:51:41,227 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:41,228 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:41,228 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:41,228 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:41,228 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:41,643 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:41 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:41 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47754'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=374'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:41,644 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259705%2C-97.752496&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 08:51:41,644 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:41,712 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:41,712 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:41,712 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:41,714 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259705,-97.752496', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 08:51:41,715 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7HHnxRx94UQrGuRbmbWm2-uN59d38BLJQ2GSllE1NlIBxN1tjhoaf7fRRvIYQf5X1w619AC33jj9NFPOE3h8oyFJLVngFjNxyfnp6vB2mB31WALmFXZieW4pjB4pWsTRjHouh0nMIImlPMZ1gfn7lH_ofgE-Iet8pTqInk-QRc_3Dqcqq2jsyZov7SswRXbo2M2h2zVbvIL7nR76UDXYV_ncxXGS24wYhTsJ6umye0vyqPajXGXhVdQI4SapNhwDi04L3fvBqwRvC9bOzK6jJ7Vi67U-1_GoofprTHoA0552PyUDOATZ2DYeqzP2HDFnq-Vywm96rZg_jAzyXUbi2FiYtxL7ynMONYgVIg7nSqXoIzzC6lWg3UJ1cTA-7eydEA-vTgPe84WOhLuOxB-FURlP1tBuvxzWIqf8HpCY-HQGqRAYgKdo78OfQmqpImYa
2025-11-20 08:51:41,716 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:41,716 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:41,716 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:41,716 [INFO] seed_city - [SeedCity] Charger ch_c34157a43d0c category 'gym': Found 10 places
2025-11-20 08:51:41,728 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:41,758 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b7cc70>
2025-11-20 08:51:41,759 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b4af90> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:41,841 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d71850>
2025-11-20 08:51:41,841 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:41,842 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:41,842 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:41,842 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:41,842 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:41,915 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:41 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4037'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=35'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:41,916 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259705%2C-97.752496&destinations=30.2628555%2C-97.7585568%7C30.2666246%2C-97.7530981%7C30.2655709%2C-97.7479626%7C30.2539864%2C-97.74764719999999%7C30.2569738%2C-97.7604266%7C30.2527893%2C-97.7470176%7C30.2682716%2C-97.75482730000002%7C30.260628%2C-97.741897%7C30.269586%2C-97.75380860000001%7C30.267006%2C-97.7416592&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:41,916 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:41,917 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:41,918 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:41,918 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:41,919 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:41,919 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:42,021 [WARNING] seed_city - No merchants found for charger PIE AE PALMER STATION5
2025-11-20 08:51:42,024 [INFO] seed_city - [SeedCity] Charger ch_4cbae8d71bbd: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 08:51:42,024 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259769 lng=-97.752509 type=cafe radius=1000
2025-11-20 08:51:42,035 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:42,072 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d83700>
2025-11-20 08:51:42,072 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d499e0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:42,161 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d71b50>
2025-11-20 08:51:42,162 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:42,162 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:42,162 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:42,163 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:42,163 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:42,625 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:42 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:42 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50028'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=418'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:42,626 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259769%2C-97.752509&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 08:51:42,626 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:42,696 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:42,696 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:42,696 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:42,697 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259769,-97.752509', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 08:51:42,698 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU51OzpNqfrmAd4MTfRRjIaIPC58pv-MuFlAG9PUaCcLgAKvMmORS6wnRacXMaazv9pot5xhJ0XjnGO5Y9QmgqE56TkB1Ak7t8MHEsrLggpng-ZKWzVtRgWxlLP-m4F2gm2rioJnG42xddjcRURUBZpapK_YmMuTgaiXZKMdFB5MxcMlw2MbU-bhwBYN7nurfPrTE8Ojo1F2sit4oer9TVg5XAhCR7wuwX-tA8mX_llAdBJI-JBOL1YDsi6nFeXOrNGvjVf4Tgg-ulT9GkyvcC94tF5hh9-MxYGJ2HV7BusvRxQ6Ix72UJgGQZPcQSx_daHYq1YJB0y2-Y-SNMGrqbuPAB9nRxfdZbgFv4bRR6ItSJwkx1alQxM1n3d4_EL2u4_i7ObkrCkUCa03rdoXrJOhvJE06r7HiFcNnB45-SabBECDytZ7oh05ITpFTkbftG
2025-11-20 08:51:42,698 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:42,698 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:42,699 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:42,699 [INFO] seed_city - [SeedCity] Charger ch_4cbae8d71bbd category 'coffee': Found 10 places
2025-11-20 08:51:42,710 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:42,751 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4f910>
2025-11-20 08:51:42,752 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103c23d60> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:42,831 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b4d400>
2025-11-20 08:51:42,831 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:42,832 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:42,832 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:42,832 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:42,832 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:42,940 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:42 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4012'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=73'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:42,941 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259769%2C-97.752509&destinations=30.2612339%2C-97.75786389999999%7C30.26587%2C-97.74643999999999%7C30.26447%2C-97.74377%7C30.26977999999999%2C-97.75390999999999%7C30.26546%2C-97.74043999999999%7C30.25224%2C-97.7636%7C30.26554%2C-97.73837999999999%7C30.2691051%2C-97.74037589999999%7C30.24218479999999%2C-97.7589562%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:42,941 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:42,942 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:42,942 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:42,942 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:42,943 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:42,943 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:42,944 [ERROR] seed_city - Error processing category coffee for charger ch_4cbae8d71bbd: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:51:42,946 [INFO] seed_city - [SeedCity] Charger ch_4cbae8d71bbd: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 08:51:42,946 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259769 lng=-97.752509 type=restaurant radius=1000
2025-11-20 08:51:42,958 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:42,993 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d77b50>
2025-11-20 08:51:42,994 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49900> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:43,049 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d770a0>
2025-11-20 08:51:43,049 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:43,050 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:43,050 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:43,050 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:43,050 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:43,611 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:43 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:43 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'46640'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=540'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:43,611 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259769%2C-97.752509&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 08:51:43,611 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:43,634 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:43,634 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:43,634 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:43,635 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259769,-97.752509', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 08:51:43,635 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7FVEb15QNa_pRp1s3inedIv2WjLR6omTUPd2NZJHYPHDetcv5-tWYvxRAvEbAMFHHyzaCZX_0q3FswbxV-x2KuJbsoDJRtgZaoEV380J2ZT3dpbI4o480q80he8Dps_xAuKg9BxCnS6ibbhaZkAe7A2UQYn_o3nWt2b4pAAjQeAQyhQr0ByozU1UZmdZs0rlkvUMFM0DoeOU2rZ1o2MLzn7iG93jjL1t3TBNCMz-TfRTuiCE55n31kHJ2Qndi-Me6DhawGvh3yHY2WCwRJUvCk2TOYcQOaWYJl-uBb1Ot9oPRrCUCjZq77UavYOnLbFDPDtX8rNh4l9G0WY-zShuD3X9R64gTmMIXIJb2b9jFSNH8NKGENXPqmw3m8CrsMi--_bp0yVcB3DI9DOAOBT_WfG3Syxcmwkym7_jwrzBtHAoDS7E0ZUnn7QlwUehNS85
2025-11-20 08:51:43,635 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:43,635 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:43,635 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:43,635 [INFO] seed_city - [SeedCity] Charger ch_4cbae8d71bbd category 'food': Found 10 places
2025-11-20 08:51:43,639 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:43,683 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d83820>
2025-11-20 08:51:43,683 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b4af90> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:43,760 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d83580>
2025-11-20 08:51:43,760 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:43,761 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:43,761 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:43,761 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:43,761 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:43,837 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:43 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4090'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=35'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:43,838 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259769%2C-97.752509&destinations=30.2638786%2C-97.75682049999999%7C30.2649201%2C-97.7492858%7C30.2660503%2C-97.7501571%7C30.2656938%2C-97.7485706%7C30.2656068%2C-97.7483158%7C30.266876%2C-97.7528456%7C30.2670001%2C-97.7522838%7C30.2534769%2C-97.74788769999999%7C30.25331539999999%2C-97.74802439999999%7C30.2526168%2C-97.7476959&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:43,839 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:43,840 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:43,840 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:43,840 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:43,841 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:43,842 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:43,943 [INFO] seed_city - [SeedCity] Charger ch_4cbae8d71bbd: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 08:51:43,943 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259769 lng=-97.752509 type=supermarket radius=1000
2025-11-20 08:51:43,952 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:43,991 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b7cc40>
2025-11-20 08:51:43,991 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103c23d60> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:44,079 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d831f0>
2025-11-20 08:51:44,080 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:44,080 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:44,080 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:44,080 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:44,081 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:44,582 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:44 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:44 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'21518'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=455'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:44,583 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259769%2C-97.752509&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 08:51:44,583 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:44,618 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:44,619 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:44,619 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:44,620 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259769,-97.752509', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 08:51:44,620 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 08:51:44,620 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=8
2025-11-20 08:51:44,621 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:44,621 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:44,621 [INFO] seed_city - [SeedCity] Charger ch_4cbae8d71bbd category 'groceries': Found 8 places
2025-11-20 08:51:44,633 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:44,677 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d812b0>
2025-11-20 08:51:44,677 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e190> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:44,758 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d81f70>
2025-11-20 08:51:44,759 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:44,759 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:44,759 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:44,759 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:44,759 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:44,867 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:44 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3399'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=62'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:44,868 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259769%2C-97.752509&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2975583%2C-97.7410694%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:44,869 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:44,869 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:44,870 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:44,870 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:44,870 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:44,871 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:44,972 [INFO] seed_city - [SeedCity] Charger ch_4cbae8d71bbd: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 08:51:44,972 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259769 lng=-97.752509 type=gym radius=1000
2025-11-20 08:51:44,982 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:45,013 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4fd90>
2025-11-20 08:51:45,013 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d15970> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:45,063 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d779d0>
2025-11-20 08:51:45,063 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:45,064 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:45,064 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:45,064 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:45,065 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:45,603 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:45 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:45 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47464'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=509'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:45,604 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259769%2C-97.752509&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 08:51:45,604 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:45,639 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:45,640 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:45,640 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:45,641 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259769,-97.752509', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 08:51:45,642 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4nlGyxRVRvfGEVIDdz8ucbyvEVYXlYCgvp6JXh7NaXP_v_YvGcFoFhNXG8XjcH4VAyX_gIATQQ706Y_R4pT0X7vQBdz-AO96Z4_Ntm8mm6931W0e22oNJdkIfHrydwsPMjLoNROnW1zhh_7VzyyW-2H_ARSWdPWzVRVp3paT7Z2sVo3kSBpRHbx-Em8Ie9AWq9YmgtpuG0QU8LVFzIO9ah8jdoJtDhTxxloAhmosK7CJstLbGZS-1HhTr6tthl_YU_dmhuSJp0Km8Xu7WVVpz4L2wKoM4vAYaqC2uDJlYkrAq6icKkVLheDwTNC1uM6G6R8FHkDKlXUkFyW_mZGMZ1ou18WRkM64Zxy4TwC_U_0evV-PEfWwfFKztCzRy0dzhG-NBR5GaW_ie2CSHtJw5Uts0_Iutwu6Vc6G0YD5gJMvEat3NZ71nXU_hUKbcQuC
2025-11-20 08:51:45,642 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:45,642 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:45,643 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:45,643 [INFO] seed_city - [SeedCity] Charger ch_4cbae8d71bbd category 'gym': Found 10 places
2025-11-20 08:51:45,655 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:45,678 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7b8b0>
2025-11-20 08:51:45,679 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d496d0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:45,739 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7ba00>
2025-11-20 08:51:45,740 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:45,741 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:45,741 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:45,741 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:45,741 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:45,807 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:45 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4041'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=36'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:45,808 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259769%2C-97.752509&destinations=30.2628555%2C-97.7585568%7C30.2666246%2C-97.7530981%7C30.2655709%2C-97.7479626%7C30.2539864%2C-97.74764719999999%7C30.2569738%2C-97.7604266%7C30.2527893%2C-97.7470176%7C30.2682716%2C-97.75482730000002%7C30.260628%2C-97.741897%7C30.269586%2C-97.75380860000001%7C30.267153%2C-97.7430608&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:45,808 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:45,809 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:45,809 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:45,809 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:45,810 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:45,811 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:45,912 [WARNING] seed_city - No merchants found for charger PIE AE PALMER STATION4
2025-11-20 08:51:45,917 [INFO] seed_city - [SeedCity] Charger ch_05adc443b19f: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 08:51:45,917 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259864 lng=-97.752661 type=cafe radius=1000
2025-11-20 08:51:45,927 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:45,962 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6e2e0>
2025-11-20 08:51:45,962 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49820> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:46,036 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d71f40>
2025-11-20 08:51:46,036 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:46,037 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:46,037 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:46,037 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:46,037 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:46,624 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:46 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:46 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47626'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=544'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:46,624 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259864%2C-97.752661&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 08:51:46,624 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:46,684 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:46,684 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:46,684 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:46,685 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259864,-97.752661', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 08:51:46,686 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4RKPKprVy7_4iJBbBLiBWRNF90_82flqyWWshEIGO9fDEVx19cEYm3a24RXn8oAQWuQ8ovuF3vrmXz0Cp_tfOwJKcatuu6qSGOO8j4mk1911WDsTdpMwoxoq7PAXW6_Bk7elmELmnnsgYqJimp88m9O9k3UCMAUf_NYtl8BoSb_-kGqdhhKEzQ0qow4Q5I4vKr5wtavtP_EW56sxY7aGGk0LNOdFQOQA7ufMdgyX23m7QkbpRn42dRs-OMlXRx0KhtewL95WcwFGT6BGQhsAmtQXNInDZprb7L8OrL2nm0bKnnjdrVuXf650JF33O6DRgkxq7HWNZMWDqa5g8_sQBdvR_apBC01oOh_GJkXM13rKoqq3wwgAe7gevvbvEcA9UweDfhfynem_PTRgLbmre4sFY-9MAF-vmXsK0cQBjkSl2Jw11Hm24NjoMxyc-5e9
2025-11-20 08:51:46,686 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:46,686 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:46,686 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:46,687 [INFO] seed_city - [SeedCity] Charger ch_05adc443b19f category 'coffee': Found 10 places
2025-11-20 08:51:46,696 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:46,716 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7bcd0>
2025-11-20 08:51:46,716 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b4af90> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:46,771 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b71160>
2025-11-20 08:51:46,772 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:46,773 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:46,773 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:46,773 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:46,773 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:46,899 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:46 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4013'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=100'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:46,900 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259864%2C-97.752661&destinations=30.2612339%2C-97.75786389999999%7C30.2637794%2C-97.75658519999999%7C30.2621741%2C-97.75869879999999%7C30.26587%2C-97.74643999999999%7C30.26447%2C-97.74377%7C30.26977999999999%2C-97.75390999999999%7C30.2705019%2C-97.75346900000001%7C30.26546%2C-97.74043999999999%7C30.25224%2C-97.7636%7C30.2668051%2C-97.741057&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:46,901 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:46,901 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:46,902 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:46,902 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:46,902 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:46,903 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:46,906 [ERROR] seed_city - Error processing category coffee for charger ch_05adc443b19f: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:51:46,907 [INFO] seed_city - [SeedCity] Charger ch_05adc443b19f: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 08:51:46,907 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259864 lng=-97.752661 type=restaurant radius=1000
2025-11-20 08:51:46,919 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:46,949 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d81c40>
2025-11-20 08:51:46,950 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e190> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:47,027 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4fac0>
2025-11-20 08:51:47,027 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:47,028 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:47,028 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:47,028 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:47,029 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:47,635 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:47 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:47 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49520'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=456'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:47,636 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259864%2C-97.752661&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 08:51:47,636 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:47,707 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:47,707 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:47,707 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:47,709 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259864,-97.752661', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 08:51:47,710 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU6eMzT1Rw_e03dspv0YP-tIwi2QMDTH9lNVQ1J0_eVNlCQgH2UYyFhrdxqRV5xNMs5vwQszocgrLK4r2YwEcTUL6OvrJx5YBEFprKG8YzJCCRajGRoWE_nhStRPSSaLhg91H6-CVHlguwbdHLFoYjOCgGQ9iWBAvPo90QBXqYyB-pAcYF7zQF5E0XEKkwCfeyGoNwdxBz3ZIQ0JTpmo06pw2zl6aguzb8g37P1UuLx7zKoJB9QoeEJ3XQYh-panJzI1tiPOtE-SuxrNJ8NGqClAYYeODLmMgJ8KhF9388R6wfZdP5eFRSF1bee-7NqEOGnHDd_OCd6sCL9a-FXyk2iklofDvTxU8zyEZzDLZaDOV_pU_R-RkCo3WyUA_hEb4zZCuJwZTiev-0hm7BIBQ2qCUdvHZmzK66G8_6FsjAsfIR-0ilVsCG-C4_wJQte-el
2025-11-20 08:51:47,710 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:47,711 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:47,711 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:47,711 [INFO] seed_city - [SeedCity] Charger ch_05adc443b19f category 'food': Found 10 places
2025-11-20 08:51:47,725 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:47,752 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d62e20>
2025-11-20 08:51:47,753 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e040> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:47,799 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b7cd60>
2025-11-20 08:51:47,799 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:47,800 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:47,800 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:47,800 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:47,800 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:47,882 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:47 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4089'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=34'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:47,883 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259864%2C-97.752661&destinations=30.2638786%2C-97.75682049999999%7C30.2649201%2C-97.7492858%7C30.2660503%2C-97.7501571%7C30.2656938%2C-97.7485706%7C30.2656068%2C-97.7483158%7C30.266876%2C-97.7528456%7C30.2670001%2C-97.7522838%7C30.2534769%2C-97.74788769999999%7C30.25331539999999%2C-97.74802439999999%7C30.2526168%2C-97.7476959&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:47,883 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:47,884 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:47,884 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:47,885 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:47,885 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:47,886 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:47,987 [INFO] seed_city - [SeedCity] Charger ch_05adc443b19f: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 08:51:47,987 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259864 lng=-97.752661 type=supermarket radius=1000
2025-11-20 08:51:47,996 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:48,028 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d83610>
2025-11-20 08:51:48,030 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d499e0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:48,102 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b7c760>
2025-11-20 08:51:48,103 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:48,104 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:48,104 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:48,104 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:48,105 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:48,557 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:48 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:48 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'21518'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=401'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:48,560 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259864%2C-97.752661&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 08:51:48,561 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:48,565 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:48,566 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:48,570 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:48,572 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259864,-97.752661', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 08:51:48,572 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 08:51:48,572 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=8
2025-11-20 08:51:48,573 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:48,576 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:48,605 [INFO] seed_city - [SeedCity] Charger ch_05adc443b19f category 'groceries': Found 8 places
2025-11-20 08:51:48,633 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:48,678 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b69700>
2025-11-20 08:51:48,678 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49f20> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:48,757 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b69370>
2025-11-20 08:51:48,758 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:48,758 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:48,758 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:48,758 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:48,758 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:48,844 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:48 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3398'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=54'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:48,845 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259864%2C-97.752661&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2975583%2C-97.7410694%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:48,845 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:48,846 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:48,847 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:48,847 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:48,848 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:48,848 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:48,950 [INFO] seed_city - [SeedCity] Charger ch_05adc443b19f: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 08:51:48,950 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259864 lng=-97.752661 type=gym radius=1000
2025-11-20 08:51:48,960 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:48,995 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d64fd0>
2025-11-20 08:51:48,996 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49580> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:49,057 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d64eb0>
2025-11-20 08:51:49,058 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:49,058 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:49,059 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:49,059 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:49,059 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:49,529 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:49 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:49 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47413'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=436'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:49,530 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259864%2C-97.752661&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 08:51:49,530 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:49,558 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:49,559 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:49,559 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:49,560 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259864,-97.752661', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 08:51:49,561 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU77QF6CJ8QyYQ0LUiX7JOsyiT-ozzATvOrZeeNbFYekceH2NmGXx9SVRNr5VJwM5Or0qcyuBvzebQKBycr0er0FIxiT601SU-d93pKH2U--g4ZXl7BqE9lAhyH2j6PcWuIXNrH_zl_jUEttld5c7uZ8k4wZVdj1qV5GeZ3-j_fxwzD8RATEsfDNRpj8KleV8HN1FiXxJO5QtWdIV68RbZ33CShdb5wVcYcXKb5MokrWUehLpAEevNvRf63PFMWUdqwOZ9X1AySWgUwPGp0t6P9Y6IGgvIEZILlPDwqooVLntGDa7H3nzTvOAtKZeTnGCjaQ5fcojahEogdY5_h-d6DGTn6MJ1O7UOqqFdVDF1MiKUj33_6IUYOEWVvlWEUVQ1kZvhArF09-CRUp4B0vUP-FqLr7Mp7MmJ6oVyf4-jJBzhNM1afRAHk9nOkbrYMBtW
2025-11-20 08:51:49,561 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:49,561 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:49,562 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:49,562 [INFO] seed_city - [SeedCity] Charger ch_05adc443b19f category 'gym': Found 10 places
2025-11-20 08:51:49,576 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:49,598 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103a7aa30>
2025-11-20 08:51:49,598 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e190> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:49,653 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b56070>
2025-11-20 08:51:49,654 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:49,655 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:49,655 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:49,656 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:49,656 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:49,712 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:49 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4044'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=33'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:49,713 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259864%2C-97.752661&destinations=30.2628555%2C-97.7585568%7C30.2666246%2C-97.7530981%7C30.2655709%2C-97.7479626%7C30.2539864%2C-97.74764719999999%7C30.2569738%2C-97.7604266%7C30.2527893%2C-97.7470176%7C30.2549179%2C-97.7608004%7C30.2682716%2C-97.75482730000002%7C30.260628%2C-97.741897%7C30.269586%2C-97.75380860000001&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:49,713 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:49,714 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:49,715 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:49,715 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:49,716 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:49,716 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:49,817 [WARNING] seed_city - No merchants found for charger PIE AE PALMER STATION8
2025-11-20 08:51:49,841 [INFO] seed_city - [SeedCity] Charger ch_ac12d2ef75f9: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 08:51:49,842 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259966 lng=-97.752658 type=cafe radius=1000
2025-11-20 08:51:49,853 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:49,875 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66e20>
2025-11-20 08:51:49,876 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e120> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:49,933 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d64640>
2025-11-20 08:51:49,934 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:49,935 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:49,935 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:49,936 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:49,936 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:50,502 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:50 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:50 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50028'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=467'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:50,503 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259966%2C-97.752658&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 08:51:50,503 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:50,540 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:50,540 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:50,540 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:50,542 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259966,-97.752658', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 08:51:50,543 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7L2BvHLul7yEOtroDHRiG-fPlbx9fCcIgWd3k-hKcnZR4NpO9s77ruyCJa0fftNFxFLL2h5B5TwD4ZFZEGUyl3gxxd943BlEENC63TKEFvWotyNRhOf8Yuea-wICzGv_U5TJDlj6WWKJkZgwrCtznhcA73DFfT8ciHGc1vTriyEYG3_EGxSULnLpEJwbrwEuy9UWPfQAwL5R4pzIllHg3veaDLuwGvdrRkrZahSaiO-Z2sz0hDhP1RI7Eg-OWlbC0upkoWhtPmUcERi9XQxTOP8KFoaFt3oXSUqK9h4lMJ4lPpvgJTuNDXY1n4joGXB8It4cQJkY2MHWF1ZkiJSAvNjz_YaKX_m7SiOTOzTS9GilRVgdta_NEn7--TVaD7kGETH2pJMAGGd8OWco5ilURqW7xRJTXAaopbZai3W09t--yHmO_5h0hiW1uONW6G5D
2025-11-20 08:51:50,544 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:50,544 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:50,545 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:50,545 [INFO] seed_city - [SeedCity] Charger ch_ac12d2ef75f9 category 'coffee': Found 10 places
2025-11-20 08:51:50,560 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:50,588 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d81100>
2025-11-20 08:51:50,589 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d15970> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:50,639 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b7c640>
2025-11-20 08:51:50,639 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:50,640 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:50,640 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:50,641 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:50,641 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:50,749 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:50 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4011'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=77'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:50,750 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259966%2C-97.752658&destinations=30.2612339%2C-97.75786389999999%7C30.26587%2C-97.74643999999999%7C30.26447%2C-97.74377%7C30.26977999999999%2C-97.75390999999999%7C30.26546%2C-97.74043999999999%7C30.25224%2C-97.7636%7C30.26554%2C-97.73837999999999%7C30.2691051%2C-97.74037589999999%7C30.24218479999999%2C-97.7589562%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:50,750 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:50,751 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:50,752 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:50,752 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:50,753 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:50,753 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:50,756 [ERROR] seed_city - Error processing category coffee for charger ch_ac12d2ef75f9: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:51:50,757 [INFO] seed_city - [SeedCity] Charger ch_ac12d2ef75f9: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 08:51:50,757 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259966 lng=-97.752658 type=restaurant radius=1000
2025-11-20 08:51:50,769 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:50,793 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6e400>
2025-11-20 08:51:50,793 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49c10> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:50,854 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4fac0>
2025-11-20 08:51:50,855 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:50,856 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:50,856 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:50,856 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:50,856 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:51,425 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:51 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:51 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'46388'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=492'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:51,426 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259966%2C-97.752658&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 08:51:51,426 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:51,466 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:51,466 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:51,467 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:51,469 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259966,-97.752658', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 08:51:51,470 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7UPIaSNo10id8RlplV5G31bVrIW0veG0F0GIokpdXqroWhyPwUaBmwctwzPtpNGro1FvP_-7Ow_T71NxdE8fUvrDvkJkYRVf1GIWYOMmMPJmJrb2XsQ3CrEDehBk6Zk4sdGGcfwzge9Mbl-mET4C5lGX0tXUB38KCNqyiwbq24hnhZ20HmWS0A_LCg2erUBvr3E_uWPpBE6qPzzpC1sCcZKRBf--1qa7NBChXMN5_MV7J4Yll79B2kkEEXOLrgJ3qkrY8cRB4ux9FJ6dV0jeQDoYQban7bUIRAz-3fFnU9HoJ5Aj9XvGpsMtt6jZPXVahDIwHUFtFGT4FJgjBfcqX7i0IqtfWP5k-LcrpVovTjDfB-mDXDkO2Gu5I1gv7lqyTzYyXOLU8TAjT45Fn6iOkiv7yDSVB8v5EWNYDNEXq8fyIPqzqDHgGRZiTIIYDxy2
2025-11-20 08:51:51,471 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:51,471 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:51,472 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:51,472 [INFO] seed_city - [SeedCity] Charger ch_ac12d2ef75f9 category 'food': Found 10 places
2025-11-20 08:51:51,481 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:51,520 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d77d90>
2025-11-20 08:51:51,520 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49b30> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:51,597 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b71670>
2025-11-20 08:51:51,598 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:51,598 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:51,599 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:51,599 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:51,599 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:51,682 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:51 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4089'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=35'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:51,683 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259966%2C-97.752658&destinations=30.2638786%2C-97.75682049999999%7C30.2649201%2C-97.7492858%7C30.2660503%2C-97.7501571%7C30.2656938%2C-97.7485706%7C30.2656068%2C-97.7483158%7C30.266876%2C-97.7528456%7C30.2670001%2C-97.7522838%7C30.2534769%2C-97.74788769999999%7C30.25331539999999%2C-97.74802439999999%7C30.2526168%2C-97.7476959&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:51,683 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:51,684 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:51,684 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:51,685 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:51,685 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:51,686 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:51,787 [INFO] seed_city - [SeedCity] Charger ch_ac12d2ef75f9: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 08:51:51,787 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259966 lng=-97.752658 type=supermarket radius=1000
2025-11-20 08:51:51,801 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:51,834 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6f160>
2025-11-20 08:51:51,834 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49900> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:51,889 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6f2e0>
2025-11-20 08:51:51,889 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:51,890 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:51,890 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:51,891 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:51,891 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:52,358 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:52 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:52 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'21518'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=439'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:52,359 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259966%2C-97.752658&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 08:51:52,359 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:52,378 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:52,378 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:52,378 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:52,379 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259966,-97.752658', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 08:51:52,380 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 08:51:52,380 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=8
2025-11-20 08:51:52,380 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:52,381 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:52,381 [INFO] seed_city - [SeedCity] Charger ch_ac12d2ef75f9 category 'groceries': Found 8 places
2025-11-20 08:51:52,396 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:52,418 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6e100>
2025-11-20 08:51:52,418 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b4af90> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:52,472 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6e190>
2025-11-20 08:51:52,472 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:52,473 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:52,473 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:52,473 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:52,473 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:52,560 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:52 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3398'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=58'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:52,561 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259966%2C-97.752658&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2975583%2C-97.7410694%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:52,561 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:52,562 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:52,562 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:52,563 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:52,563 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:52,564 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:52,665 [INFO] seed_city - [SeedCity] Charger ch_ac12d2ef75f9: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 08:51:52,666 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259966 lng=-97.752658 type=gym radius=1000
2025-11-20 08:51:52,682 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:52,719 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b7cee0>
2025-11-20 08:51:52,719 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103c23d60> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:52,797 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6fd00>
2025-11-20 08:51:52,798 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:52,798 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:52,799 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:52,799 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:52,799 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:53,376 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:53 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:53 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'44584'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=488'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:53,376 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259966%2C-97.752658&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 08:51:53,377 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:53,431 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:53,434 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:53,435 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:53,438 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259966,-97.752658', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 08:51:53,443 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5l95EISv2xRqcfNF5ZCiVyV_Y-8SXTBXYRL5qjQtSCjvM-LojpIvVd28ePjKx0X7TTgmH8GugahW3uWD26NaY_yTPgAbjxolQv2NNYAkCGkbcKKlfP0MoAvspNj-L5ofsVFiZ50VUqtF043eKOvqZa4W6KGsVnp0KJ6-sfyYfDAGC2GrfyiM7RYSJmpr2s5NyKFoebzpfohNe3oet1Iia_EDe9ldG_c0C-6SA2_UJXOwGz085_EJFrhZVeeyYoNLhDoMv43VCZ89noVkG7docm3N2uTObuzYOClS5YZCYZeB4JTjK_5-FMMnuQq35OrJ3jNztCNNYrTQJi_NCEYuBc55LnDQa_TdxWBHU3hTQy6LGpSEf85onqsRT804qEjQFcldKOX1DqICf8y4gmXNnyJZztP0wiEflGEhCAWYN7gX5-2LDltgYESdKuDFSpCF
2025-11-20 08:51:53,446 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:53,447 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:53,447 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:53,448 [INFO] seed_city - [SeedCity] Charger ch_ac12d2ef75f9 category 'gym': Found 10 places
2025-11-20 08:51:53,462 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:53,489 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b563d0>
2025-11-20 08:51:53,489 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e120> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:53,548 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d54970>
2025-11-20 08:51:53,548 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:53,549 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:53,549 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:53,550 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:53,550 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:53,616 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:53 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4040'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=39'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:53,617 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259966%2C-97.752658&destinations=30.2628555%2C-97.7585568%7C30.2666246%2C-97.7530981%7C30.2655709%2C-97.7479626%7C30.2569738%2C-97.7604266%7C30.2539864%2C-97.74764719999999%7C30.2682716%2C-97.75482730000002%7C30.2527893%2C-97.7470176%7C30.260628%2C-97.741897%7C30.269586%2C-97.75380860000001%7C30.267153%2C-97.7430608&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:53,618 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:53,619 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:53,619 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:53,619 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:53,620 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:53,620 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:53,722 [WARNING] seed_city - No merchants found for charger PIE AE PALMER STATION7
2025-11-20 08:51:53,724 [INFO] seed_city - [SeedCity] Charger ch_dd2c73fa134e: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 08:51:53,725 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.248932 lng=-97.762283 type=cafe radius=1000
2025-11-20 08:51:53,740 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:53,778 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d71e20>
2025-11-20 08:51:53,779 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d15970> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:53,867 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d83a30>
2025-11-20 08:51:53,868 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:53,868 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:53,869 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:53,869 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:53,869 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:54,640 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:54 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:54 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50096'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=730'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:54,642 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.248932%2C-97.762283&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 08:51:54,642 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:54,707 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:54,707 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:54,708 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:54,709 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.248932,-97.762283', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 08:51:54,711 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5IWwrZTSSqcI7w-oNmr14LahA2lxSHjF1pcRXvhTBI5693iqT2Gfppn32vbU_4_BYanLdhTIZ9RWLupm3NLbrR3FefSq8qsaGcQKxoxB0tIOv96LcqtVtXj8HxwnNjRdmIUMlP4TIkjtpYYJy48TcpcFGHLoznwtkFN_H9PvDwrocda0t6M9Js32oV7kys90zFB6FqXtq6tyjQMQiC_63Nauvr_rDPQhxhYzqF1xsvP2oJeJIbaSGIgomTj2lUL95CBuCONN0QiHoOUztk4-XomJ0qgfnLvvz4UwMfgHZCnZOkXDXhT7Iadc_klksZ5Z1xyI2f-3NoDq93mkCagzAGDuLyIkGDlyHhXSStKdIKucaPTAL_V9JR08Dg9y0GTx2Lxdw3wSQ3unLSzlydIzuQFceswe0q3TzpRyUO8X0tLaJhz-0i8f41EpbfU33kEL
2025-11-20 08:51:54,711 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:54,711 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:54,712 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:54,712 [INFO] seed_city - [SeedCity] Charger ch_dd2c73fa134e category 'coffee': Found 10 places
2025-11-20 08:51:54,724 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:54,757 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66700>
2025-11-20 08:51:54,757 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e040> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:54,833 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d77f10>
2025-11-20 08:51:54,833 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:54,834 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:54,834 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:54,834 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:54,835 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:54,981 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:55 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4006'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=113'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:54,982 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.248932%2C-97.762283&destinations=30.25224%2C-97.7636%7C30.24482649999999%2C-97.75694%7C30.24218479999999%2C-97.7589562%7C30.2510458%2C-97.74937170000001%7C30.2612339%2C-97.75786389999999%7C30.26587%2C-97.74643999999999%7C30.26977999999999%2C-97.75390999999999%7C30.26447%2C-97.74377%7C30.23371%2C-97.74239999999999%7C30.26546%2C-97.74043999999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:54,982 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:54,983 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:54,983 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:54,983 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:54,984 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:54,984 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:55,085 [INFO] seed_city - [SeedCity] Charger ch_dd2c73fa134e: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 08:51:55,086 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.248932 lng=-97.762283 type=restaurant radius=1000
2025-11-20 08:51:55,104 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:55,124 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d64520>
2025-11-20 08:51:55,124 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49e40> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:55,164 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d62e80>
2025-11-20 08:51:55,165 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:55,166 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:55,166 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:55,166 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:55,166 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:55,828 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:55 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:55 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50192'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=586'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:55,828 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.248932%2C-97.762283&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 08:51:55,829 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:55,866 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:55,866 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:55,867 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:55,868 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.248932,-97.762283', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 08:51:55,870 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4P-27wdm2sGg1jPNw4aGYF8bfhl-bEsbhXq3c4v_NjH5TTgykpLfV_-Xu8JlIVcaUcBs26MLgv2oZUgvhVreRWPm2ifmQkOs_L7knMH8xrBQLCSk9KO12Yd3K01Ljz7qqUsGp-jC3eHRUYNmXb-E8XPNdX_VXWH9PSaAEce2WSTk1WQsfNISoXsmvW5zMdDsbK6S5tr72DdWFYUAdgANkiehCCjfRP_088RmV3_I9wNuoctYzSID4gVXKisJk2-m1pDlC03ZQH2gqz8ZH-RTdxww20jkxevIO2D9b9RhXfcVWh3ZZJKjOQPtXDpF2O9bsjuRGIyEF36EcrLU-8HEiS6JjXn5d4DMPYB40QbsyW9owE7f5IKCKVc7DWSInW2iVinleK7Jo92o_fL3BnKvn8fDwquEAyiLL0gOcfo5ge-TrHu50syUxRg0D1AyOIEZ
2025-11-20 08:51:55,870 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:55,870 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:55,871 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:55,871 [INFO] seed_city - [SeedCity] Charger ch_dd2c73fa134e category 'food': Found 10 places
2025-11-20 08:51:55,882 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:55,905 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66eb0>
2025-11-20 08:51:55,905 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49580> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:55,958 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66e20>
2025-11-20 08:51:55,959 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:55,959 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:55,960 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:55,960 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:55,960 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:56,093 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:56 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4051'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=105'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:56,094 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.248932%2C-97.762283&destinations=30.2508795%2C-97.7659164%7C30.2465449%2C-97.7567582%7C30.254672%2C-97.762051%7C30.2546975%2C-97.7626693%7C30.2494868%2C-97.7555656%7C30.2415242%2C-97.75929479999999%7C30.24445649999999%2C-97.7519537%7C30.247111%2C-97.750424%7C30.2410896%2C-97.7529007%7C30.25331539999999%2C-97.74802439999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:56,095 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:56,096 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:56,096 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:56,096 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:56,097 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:56,097 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:56,103 [ERROR] seed_city - Error processing category food for charger ch_dd2c73fa134e: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJH-Sj5OK0RIYRjC-_RrNEotk', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJH-Sj5OK0RIYRjC-_RrNEotk', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:51:56,104 [INFO] seed_city - [SeedCity] Charger ch_dd2c73fa134e: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 08:51:56,104 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.248932 lng=-97.762283 type=supermarket radius=1000
2025-11-20 08:51:56,114 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:56,152 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d54820>
2025-11-20 08:51:56,152 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49eb0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:56,228 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d778b0>
2025-11-20 08:51:56,229 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:56,229 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:56,230 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:56,230 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:56,230 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:56,646 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:56 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:56 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=352'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:56,647 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.248932%2C-97.762283&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 08:51:56,648 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:56,682 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:56,682 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:56,683 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:56,683 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.248932,-97.762283', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 08:51:56,684 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 08:51:56,684 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 08:51:56,685 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:56,685 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:56,685 [INFO] seed_city - [SeedCity] Charger ch_dd2c73fa134e category 'groceries': Found 7 places
2025-11-20 08:51:56,698 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:56,719 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6e430>
2025-11-20 08:51:56,720 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b4af90> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:56,769 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d62850>
2025-11-20 08:51:56,770 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:56,770 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:56,771 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:56,771 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:56,771 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:56,852 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:56 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3000'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=50'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:56,853 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.248932%2C-97.762283&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:56,853 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:56,853 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:56,853 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:56,854 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:56,854 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:56,854 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:56,956 [INFO] seed_city - [SeedCity] Charger ch_dd2c73fa134e: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 08:51:56,956 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.248932 lng=-97.762283 type=gym radius=1000
2025-11-20 08:51:56,966 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:56,988 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4f250>
2025-11-20 08:51:56,989 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e040> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:57,044 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d834c0>
2025-11-20 08:51:57,044 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:57,045 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:57,045 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:57,045 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:57,045 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:57,681 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:57 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:57 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47052'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=530'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:57,684 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.248932%2C-97.762283&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 08:51:57,685 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:57,714 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:57,714 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:57,715 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:57,716 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.248932,-97.762283', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 08:51:57,717 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7_msCJO8e-qsxG_QvkAj51yJOGbKqzAazDOJgYQ1Vz2mGatYfHbF2y2_jZr3XjF8U2qWTfQF1a7YGzrcWYf3ryZBkEg4-VKXv4zneHa47IfacmB_OgtPbfkUiqI6lcO-uvtYVhxZ-eoHmWSbO5RqFLBH9JHiaYZBiLr3WlAQ_4Qv4cyVOXQ1A8QD8vAvC1kDXXmtJEm3UjQ8yCfTH3Rx6FhvMX58O1tRS6lf83LRO5vzCH61X_AVCrykLVOPbTYWmbdoqTQhlXMT0V8n6at3s-ibdJc1BePxU9SyjhPutyqrSgmLv6Bvcw_E7tDku4Tz0wkEmvpnGmuElK85w944tShD1MODJu-O9DwBuHo_lQBXfeVUElca8V2qHcCHgQSmstfNJFZo6kD9NOgiCNSU4Gl-nyvYZNaI52GluCUj2nTZ31WHO5TMuYlqOvsflVbt
2025-11-20 08:51:57,717 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:57,717 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:57,718 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:57,718 [INFO] seed_city - [SeedCity] Charger ch_dd2c73fa134e category 'gym': Found 10 places
2025-11-20 08:51:57,733 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:57,767 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b71490>
2025-11-20 08:51:57,767 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49c10> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:57,842 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7bcd0>
2025-11-20 08:51:57,842 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:57,843 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:57,843 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:57,843 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:57,843 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:57,984 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:58 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4059'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=95'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:57,985 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.248932%2C-97.762283&destinations=30.2531154%2C-97.76364720000001%7C30.2488772%2C-97.755692%7C30.243991%2C-97.758557%7C30.2549179%2C-97.7608004%7C30.2491111%2C-97.754976%7C30.2552863%2C-97.7610763%7C30.2569738%2C-97.7604266%7C30.24861799999999%2C-97.7729454%7C30.2474922%2C-97.7762869%7C30.2539864%2C-97.74764719999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:57,985 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:57,985 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:57,986 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:57,986 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:57,986 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:57,987 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:58,088 [WARNING] seed_city - No merchants found for charger COA TWIN OAKS #1
2025-11-20 08:51:58,092 [INFO] seed_city - [SeedCity] Charger ch_ca6bab9770d8: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 08:51:58,092 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.254126 lng=-97.76156 type=cafe radius=1000
2025-11-20 08:51:58,099 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:58,145 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b69ee0>
2025-11-20 08:51:58,146 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49ba0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:58,227 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b69f40>
2025-11-20 08:51:58,228 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:58,228 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:58,229 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:58,229 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:58,229 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:58,898 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:58 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:58 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50039'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=548'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:58,898 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.254126%2C-97.76156&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 08:51:58,899 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:58,969 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:58,970 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:58,970 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:58,971 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.254126,-97.76156', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 08:51:58,972 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU6ukz85G76FpKyl0n_hlVfpfnpGdACuD3wnJghyu5zDPsmXM-ylm0Vqi4YAO0fze064jOBT_-vsefX836htTe3dNtG5z6FUaLaw7l3jPlnP1z8k5mHrHSHWm7P8u3mC4-HtTzZUcfve1-1EUmZ8qWd8V_tAPOX3j1CmOvmJ_Q3VmZ1nDZhSzxO5JvXaniJxcOZv4Ug5_1Zycsr8Vhs-KrO5Ngo1PRnhpqGzjFv1M-LaX1jCF5ESxGExpxIsbpixZz4HLJoC2f7w6BAEdpaYHndkuXTZ2S5edlc4vAssp3Iz-HmBhgQv01mndYewRw4ufzHORHi8GBmDhokvIDgbJfYv18KCVETA0WNMaG9AX3f4_4zfWUu-9yNa2ko81-IHbuclb640V3dOqfVtkwTqV-P-Pu9TIi8ZSjKRYe0stgSfYdXoRtMJgci9c5tj-3qb-a
2025-11-20 08:51:58,972 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:51:58,973 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:58,973 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:58,974 [INFO] seed_city - [SeedCity] Charger ch_ca6bab9770d8 category 'coffee': Found 10 places
2025-11-20 08:51:58,988 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:51:59,010 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7b850>
2025-11-20 08:51:59,010 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b4af90> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:51:59,063 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7b6d0>
2025-11-20 08:51:59,064 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:59,065 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:59,065 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:59,065 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:59,065 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:51:59,232 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:59 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3997'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=136'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:51:59,233 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.254126%2C-97.76156&destinations=30.25224%2C-97.7636%7C30.2612339%2C-97.75786389999999%7C30.24218479999999%2C-97.7589562%7C30.26977999999999%2C-97.75390999999999%7C30.26587%2C-97.74643999999999%7C30.26447%2C-97.74377%7C30.26546%2C-97.74043999999999%7C30.26554%2C-97.73837999999999%7C30.23371%2C-97.74239999999999%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:51:59,234 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:51:59,235 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:51:59,235 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:51:59,235 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:51:59,236 [DEBUG] httpcore.connection - close.started
2025-11-20 08:51:59,237 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:51:59,239 [ERROR] seed_city - Error processing category coffee for charger ch_ca6bab9770d8: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJAz-oAyC1RIYRJVI8s7gkfTM', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJAz-oAyC1RIYRJVI8s7gkfTM', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:51:59,241 [INFO] seed_city - [SeedCity] Charger ch_ca6bab9770d8: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 08:51:59,241 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.254126 lng=-97.76156 type=restaurant radius=1000
2025-11-20 08:51:59,253 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:51:59,277 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d81310>
2025-11-20 08:51:59,277 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e120> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:51:59,335 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4f460>
2025-11-20 08:51:59,336 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:51:59,337 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:51:59,337 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:51:59,337 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:51:59,337 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:00,027 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:51:59 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:56:59 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49836'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=551'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:00,028 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.254126%2C-97.76156&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 08:52:00,030 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:00,067 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:00,067 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:00,067 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:00,068 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.254126,-97.76156', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 08:52:00,069 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4Ma2l07PICeuH2ZsqPvCNSnYV-ZZSw_Ep9cnbuUeOuYHGTrpiPgxhHXblBu2D9OpjY86hQmK2BNMXlrN7px_wmN1SQ0w2c6YIwnOM71t-cKu9h3zMciQf_oHoZH6OLOnND5wZKST46ZtpzRt-obnshgO6XOM7FX-IQsOzhKo2HT_s45QJT9C5Gl93dmN62xGRxjL5zDaJk2Q2JRa31lK9D7IrSM2-kPSAM55sM_dccn1ipWeFqCgU1kMdflz2W5V7syw02LgqJMIQBc5b4qpg2qDEQvXsn0k4qIEZqhBjQ-cfxvCxmCosGtMjkWWIzYW9y7XbIMlRq-dmRp6rHvPDB3Kx7yCPxjNswIVsfLY46uPsMCgMfpbWh92IU3lquD4b3udWnzlcMk2g14mal9dEk_aYycjOhaEwE3D3M9LAMCM4ii870BngdhjXpTtDCso
2025-11-20 08:52:00,069 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:52:00,070 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:00,070 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:00,070 [INFO] seed_city - [SeedCity] Charger ch_ca6bab9770d8 category 'food': Found 10 places
2025-11-20 08:52:00,080 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:52:00,108 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d83040>
2025-11-20 08:52:00,108 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d15970> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:52:00,157 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d834f0>
2025-11-20 08:52:00,158 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:00,159 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:00,159 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:00,159 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:00,159 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:00,278 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:00 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4040'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=88'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:00,279 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.254126%2C-97.76156&destinations=30.254672%2C-97.762051%7C30.2546975%2C-97.7626693%7C30.2536504%2C-97.7628601%7C30.2508795%2C-97.7659164%7C30.2494868%2C-97.7555656%7C30.2465449%2C-97.7567582%7C30.2641631%2C-97.7617126%7C30.2638786%2C-97.75682049999999%7C30.2534769%2C-97.74788769999999%7C30.2526168%2C-97.7476959&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:52:00,280 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:00,281 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:00,281 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:00,281 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:00,282 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:00,283 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:00,285 [ERROR] seed_city - Error processing category food for charger ch_ca6bab9770d8: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJi8__nx-1RIYR56djED9FLLE', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJi8__nx-1RIYR56djED9FLLE', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:52:00,286 [INFO] seed_city - [SeedCity] Charger ch_ca6bab9770d8: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 08:52:00,286 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.254126 lng=-97.76156 type=supermarket radius=1000
2025-11-20 08:52:00,298 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:52:00,323 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d77130>
2025-11-20 08:52:00,323 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49f20> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:52:00,379 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d774c0>
2025-11-20 08:52:00,380 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:00,381 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:00,381 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:00,381 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:00,381 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:00,947 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:00 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:57:00 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=504'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:00,948 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.254126%2C-97.76156&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 08:52:00,948 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:00,964 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:00,964 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:00,964 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:00,965 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.254126,-97.76156', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 08:52:00,966 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 08:52:00,966 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 08:52:00,966 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:00,967 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:00,967 [INFO] seed_city - [SeedCity] Charger ch_ca6bab9770d8 category 'groceries': Found 7 places
2025-11-20 08:52:00,981 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:52:01,012 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6f5e0>
2025-11-20 08:52:01,012 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49cf0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:52:01,069 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d666a0>
2025-11-20 08:52:01,069 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:01,070 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:01,070 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:01,071 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:01,071 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:01,160 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:01 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3003'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=60'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:01,161 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.254126%2C-97.76156&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:52:01,162 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:01,163 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:01,163 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:01,163 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:01,164 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:01,164 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:01,266 [INFO] seed_city - [SeedCity] Charger ch_ca6bab9770d8: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 08:52:01,266 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.254126 lng=-97.76156 type=gym radius=1000
2025-11-20 08:52:01,282 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:52:01,329 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d8cfd0>
2025-11-20 08:52:01,329 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49ac0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:52:01,416 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d8cf70>
2025-11-20 08:52:01,417 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:01,418 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:01,418 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:01,418 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:01,418 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:02,177 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:02 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:57:02 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47537'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=690'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:02,178 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.254126%2C-97.76156&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 08:52:02,178 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:02,247 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:02,247 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:02,250 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:02,252 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.254126,-97.76156', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 08:52:02,254 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4W0JGlnHO_VBza49-o5W9I8nmKF9qGCMQLnuzZQW4OlmSsouD-ootABRel1YR8-PoW9agJGADyLIgzOPWP7aVOvALCRMNzo745YpjC28N5ZPF9zUxZ4VBxYw3JlrotdltMg9xyhck7U83xxpVl70h32t1nc6PRsZSQmQl9M11cbemCKcakomSBwHMsz5HvD5_t4DX5z6dERh8veqIYabz1gJhZZikdF5jgfkhGd70xBTHrQQxK71P58UMTHr_L1rF8xWwHtDDrHmU4brAVzqwO0Xcr3sm_rtYuKuwbhqpL0zVgouPlenuISZipU212YUtP6EwabrqO1qeTDKF3QgElx-rByriGx1AT06NSRLy_uYtzPbddoELUgHjP-CEVm-V0g4YUz5yIuyIdwj8nnSBlgRGgv4Qg_SFI5jkv47edU7WovFb3TyTZyDy8Jb6qX8
2025-11-20 08:52:02,255 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:52:02,255 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:02,256 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:02,256 [INFO] seed_city - [SeedCity] Charger ch_ca6bab9770d8 category 'gym': Found 10 places
2025-11-20 08:52:02,272 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:52:02,294 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d81430>
2025-11-20 08:52:02,294 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b4af90> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:52:02,346 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6e4c0>
2025-11-20 08:52:02,346 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:02,347 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:02,347 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:02,347 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:02,348 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:02,417 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:02 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4043'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=42'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:02,418 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.254126%2C-97.76156&destinations=30.2549179%2C-97.7608004%7C30.2552863%2C-97.7610763%7C30.2531154%2C-97.76364720000001%7C30.2569738%2C-97.7604266%7C30.2491111%2C-97.754976%7C30.2628555%2C-97.7585568%7C30.243991%2C-97.758557%7C30.24861799999999%2C-97.7729454%7C30.2539864%2C-97.74764719999999%7C30.2527893%2C-97.7470176&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:52:02,419 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:02,420 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:02,420 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:02,420 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:02,421 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:02,421 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:02,423 [ERROR] seed_city - Error processing category gym for charger ch_ca6bab9770d8: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJmXE1EUW1RIYRemcfe-qbQtw', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJmXE1EUW1RIYRemcfe-qbQtw', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:52:02,424 [WARNING] seed_city - No merchants found for charger GIBSON FLATS STATION1
2025-11-20 08:52:02,426 [INFO] seed_city - [SeedCity] Charger ch_3b2aabfceccc: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 08:52:02,426 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.260466 lng=-97.746417 type=cafe radius=1000
2025-11-20 08:52:02,438 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:52:02,482 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d83cd0>
2025-11-20 08:52:02,482 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49b30> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:52:02,556 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d63eb0>
2025-11-20 08:52:02,557 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:02,557 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:02,558 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:02,558 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:02,558 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:03,101 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:03 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:57:03 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50324'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=422'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:03,101 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.260466%2C-97.746417&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 08:52:03,102 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:03,165 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:03,165 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:03,165 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:03,166 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.260466,-97.746417', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 08:52:03,167 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU56txGRYv1YSrfq0fpuS6Kr5TQ_8Pomkl_UlgLhDslLfLAOba3SX2-aNUYVzJK_cJPas6wpiVrhxWa3_OLEqH2NPs9A6beKjyU_-W96le0F9DJtsnKtTW6L4EUObidTyUggw4fTDLr36e5qoVJI6NWjY5ux1sGjSA3beEfNVEanfDD85ojkRGdiS67zvDRoBGoJp6KNXNUBJ5amEO0t6hxebswfuTpsQ8yHUwflf7hzqJDtIJNmJgtSsOBSYZakpHAMeACuAym9ogCB886XIUGi3bzsBaEKM9oQqkZGO0cEoZGJjbwbertRDgt3WRdgtkM_yoxio1DjpwyFHw2ov2eT0z7plhO0LgHDMSy3DXrx2iOYfjemrdIXWRtoGHZArrNlCa4cdhrCNt8BY6J3h4iEcPju5NF5VwV4MBStkR_c71dsMIvoCv8YkWLQwPEs_o
2025-11-20 08:52:03,167 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:52:03,167 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:03,168 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:03,168 [INFO] seed_city - [SeedCity] Charger ch_3b2aabfceccc category 'coffee': Found 10 places
2025-11-20 08:52:03,182 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:52:03,206 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7b970>
2025-11-20 08:52:03,206 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49eb0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:52:03,261 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7b430>
2025-11-20 08:52:03,261 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:03,262 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:03,262 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:03,263 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:03,263 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:03,404 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:03 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4004'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=110'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:03,405 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.260466%2C-97.746417&destinations=30.26447%2C-97.74377%7C30.26587%2C-97.74643999999999%7C30.26546%2C-97.74043999999999%7C30.26554%2C-97.73837999999999%7C30.2612339%2C-97.75786389999999%7C30.2691051%2C-97.74037589999999%7C30.26977999999999%2C-97.75390999999999%7C30.25224%2C-97.7636%7C30.2781%2C-97.74434%7C30.24218479999999%2C-97.7589562&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:52:03,405 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:03,406 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:03,406 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:03,407 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:03,407 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:03,408 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:03,509 [INFO] seed_city - [SeedCity] Charger ch_3b2aabfceccc: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 08:52:03,510 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.260466 lng=-97.746417 type=restaurant radius=1000
2025-11-20 08:52:03,526 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:52:03,563 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66760>
2025-11-20 08:52:03,563 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e190> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:52:03,641 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d713a0>
2025-11-20 08:52:03,642 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:03,643 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:03,643 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:03,643 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:03,643 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:04,142 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:04 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:57:04 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49797'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=463'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:04,142 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.260466%2C-97.746417&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 08:52:04,143 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:04,206 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:04,206 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:04,207 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:04,208 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.260466,-97.746417', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 08:52:04,210 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5DAeSuNFIw2JPwrnrD8UVnPAgf145L8kG3tTxjefBbn7LXl5BQs21hqWGioCFDyfFDXOhw56EM41mOt8m71OHfoOUW8vtdgWh4WQkPC2AgJ0D6OZBugFy04C-4ZpCOa2yN1RtONYurk4esl1p0-d7JO7i6xzkB4IdEYphj_K_Tpd5cB7-yuUwjxzMzKBUoQb3ZDzN4Tfrl0bj8YnS0ayEaUIopmmLxV3fTBHrDZq8_fPomaWDxlllK9NM6KcRwHtwUPMWIZho4kcikpB-k9QrvELms_tPDdQAALBE0uErY4shH9Oc-zcz2BSEbP8qYpykbAgQgbdQYeHxJ6ZJAK10B9YQmJ7zra-FwQddBQhXU99dJJXDWLp6HHAt3DwI2eEFaXirM4tjMgq92UNmCwTHLjCMRdvEuw4tatZ9JBZN5ZFelPxL2CP6tBeuUA_-7Mx
2025-11-20 08:52:04,210 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:52:04,210 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:04,211 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:04,211 [INFO] seed_city - [SeedCity] Charger ch_3b2aabfceccc category 'food': Found 10 places
2025-11-20 08:52:04,225 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:52:04,243 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6fac0>
2025-11-20 08:52:04,244 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e040> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:52:04,300 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b4d820>
2025-11-20 08:52:04,301 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:04,302 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:04,302 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:04,302 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:04,302 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:04,427 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:04 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4020'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=95'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:04,428 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.260466%2C-97.746417&destinations=30.2635186%2C-97.74358%7C30.2645913%2C-97.74389%7C30.2627059%2C-97.7415901%7C30.2627011%2C-97.74157629999999%7C30.263486%2C-97.74173479999999%7C30.2649201%2C-97.7492858%7C30.2656068%2C-97.7483158%7C30.2656938%2C-97.7485706%7C30.265525%2C-97.742819%7C30.26005739999999%2C-97.7392578&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:52:04,428 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:04,429 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:04,430 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:04,430 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:04,431 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:04,431 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:04,533 [INFO] seed_city - [SeedCity] Charger ch_3b2aabfceccc: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 08:52:04,533 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.260466 lng=-97.746417 type=supermarket radius=1000
2025-11-20 08:52:04,549 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:52:04,583 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b69130>
2025-11-20 08:52:04,584 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103c23d60> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:52:04,662 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b69be0>
2025-11-20 08:52:04,663 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:04,663 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:04,664 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:04,664 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:04,664 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:05,260 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:05 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:57:05 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'21518'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=539'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:05,261 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.260466%2C-97.746417&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 08:52:05,261 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:05,278 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:05,279 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:05,279 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:05,279 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.260466,-97.746417', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 08:52:05,280 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2643126, "lng": -97.7340971}, "viewport": {"northeast": {"lat": 30.26576902989272, "lng": -97.73269037010728}, "southwest": {"lat": 30.26306937010727, "lng": -97.73539002989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcar
2025-11-20 08:52:05,280 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=8
2025-11-20 08:52:05,280 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:05,280 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:05,281 [INFO] seed_city - [SeedCity] Charger ch_3b2aabfceccc category 'groceries': Found 8 places
2025-11-20 08:52:05,293 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:52:05,325 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d661f0>
2025-11-20 08:52:05,326 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e120> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:52:05,410 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6fa90>
2025-11-20 08:52:05,411 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:05,412 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:05,412 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:05,412 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:05,412 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:05,519 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:05 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3393'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=66'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:05,520 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.260466%2C-97.746417&destinations=30.2643126%2C-97.7340971%7C30.2706339%2C-97.753587%7C30.2975583%2C-97.7410694%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:52:05,521 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:05,521 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:05,522 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:05,522 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:05,523 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:05,523 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:05,625 [INFO] seed_city - [SeedCity] Charger ch_3b2aabfceccc: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 08:52:05,625 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.260466 lng=-97.746417 type=gym radius=1000
2025-11-20 08:52:05,641 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:52:05,666 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7b2e0>
2025-11-20 08:52:05,666 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d15970> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:52:05,727 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6f5e0>
2025-11-20 08:52:05,728 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:05,729 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:05,729 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:05,729 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:05,729 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:06,273 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:06 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:57:06 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'43696'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=451'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:06,274 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.260466%2C-97.746417&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 08:52:06,274 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:06,314 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:06,315 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:06,315 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:06,316 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.260466,-97.746417', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 08:52:06,318 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5byH4KxDbgSR-PF4d2LjNaO0Je49uz0lCh9ZyvvjWbaHmPTbEC-0MQf8hYDl80VocFk0eLQx9iULdzn3qHPu7uE-LjhpKBk0twNnl9lcM7LvjNMeIL57s8jj-TnKOkOM1qVOgKWrMurYK_K90aQX0YWszoFDKo9iyhYmXg7eR96KEVq8_AOeJkRrOjT3_Wj-0rcktV9cMAYVFn8ka980l8oNG7v5SV-D_ZjIZ6Z_U4gP7w6_ephwCFEm5Ili-mRAx_mDCR5Pp-jcT_NQfprPxgOvCKsYGphIJH9Q1PESpcm3jx9VMxJwKxqI1eKdFfODTDSc_SqtsmfzAAYRx8aJ6VNMhvPirPaT9IwjRKstIdAGd64il84YaAsp7iEfDWwZGsa9xwuIHXZpfZNnHxWsPcMNOL15EIqX_u2IL7c0C-T6fyzoPIs90-pPa9xOZy0l
2025-11-20 08:52:06,318 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:52:06,319 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:06,319 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:06,320 [INFO] seed_city - [SeedCity] Charger ch_3b2aabfceccc category 'gym': Found 10 places
2025-11-20 08:52:06,333 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:52:06,367 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d62250>
2025-11-20 08:52:06,367 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e190> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:52:06,448 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b7cbb0>
2025-11-20 08:52:06,449 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:06,450 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:06,450 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:06,450 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:06,450 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:06,526 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:06 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4021'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=41'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:06,527 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.260466%2C-97.746417&destinations=30.260628%2C-97.741897%7C30.2655709%2C-97.7479626%7C30.2539864%2C-97.74764719999999%7C30.267153%2C-97.7430608%7C30.2527893%2C-97.7470176%7C30.267006%2C-97.7416592%7C30.2666246%2C-97.7530981%7C30.2692988%2C-97.7440922%7C30.2682716%2C-97.75482730000002%7C30.2628555%2C-97.7585568&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:52:06,527 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:06,528 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:06,529 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:06,529 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:06,530 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:06,530 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:06,632 [WARNING] seed_city - No merchants found for charger HYATT AUSTIN STATION1
2025-11-20 08:52:06,640 [INFO] seed_city - [SeedCity] Charger ch_dfed1bf5eecd: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 08:52:06,640 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256224 lng=-97.73954 type=cafe radius=1000
2025-11-20 08:52:06,653 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:52:06,692 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d77ac0>
2025-11-20 08:52:06,692 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49b30> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:52:06,773 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d4f520>
2025-11-20 08:52:06,774 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:06,775 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:06,775 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:06,775 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:06,775 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:07,399 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:07 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:57:07 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50534'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=545'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:07,400 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256224%2C-97.73954&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 08:52:07,401 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:07,467 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:07,467 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:07,468 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:07,469 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256224,-97.73954', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 08:52:07,471 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5Lt-Uf0Tvfuqqql17Xqyl_KVH7NPkMQhGpBWgUFq1Rq5rbo1Ni0ZDF1O0_y7_ZdYiFcBLUVndyKv9492g5-cdudThCzf2xbx2ulhmGqR8P2vywSfQjORE3cWSKYqfMoM-goND0IwrAQTBG3Iyn64BzC9EI-tpBpN0nk3aASHOctw4nLMHiLhpUcidRxRUZgyykpT8AKyFj9vRiSBoJlDN98NffM8pkXul8pgDCpDiN-FqKH_d0hYiWptcnWneSbMCVroAXAgRRF63sz6iT5GXUXJRUKMlT_IgG6ecdskgSMrDwQcK_2DVCU60kMMJ28CwttH7jMuaDZ3KA_7wdPBe9FNs36MEjiP9_ah1PQ5aZfXpvswyCkSmDzn-VtRsc9-L545mV5I026eH_boNAqXeuo227X12Tv9nFTFVebMTuCXg-cb_nDT_erQ-NbYIghn
2025-11-20 08:52:07,471 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:52:07,471 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:07,472 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:07,472 [INFO] seed_city - [SeedCity] Charger ch_dfed1bf5eecd category 'coffee': Found 10 places
2025-11-20 08:52:07,482 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:52:07,518 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d8cfd0>
2025-11-20 08:52:07,518 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49580> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:52:07,595 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d71e50>
2025-11-20 08:52:07,596 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:07,597 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:07,597 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:07,597 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:07,598 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:07,743 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:07 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4007'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=109'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:07,744 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256224%2C-97.73954&destinations=30.2601152%2C-97.7389381%7C30.26447%2C-97.74377%7C30.26546%2C-97.74043999999999%7C30.26554%2C-97.73837999999999%7C30.26587%2C-97.74643999999999%7C30.2691051%2C-97.74037589999999%7C30.2612339%2C-97.75786389999999%7C30.2424%2C-97.72740999999999%7C30.26977999999999%2C-97.75390999999999%7C30.24322%2C-97.72099999999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:52:07,744 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:07,745 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:07,745 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:07,746 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:07,746 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:07,747 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:07,750 [ERROR] seed_city - Error processing category coffee for charger ch_dfed1bf5eecd: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJVW6Dnqm1RIYRWC4YsJFJAog', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJVW6Dnqm1RIYRWC4YsJFJAog', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:52:07,768 [INFO] seed_city - [SeedCity] Charger ch_dfed1bf5eecd: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 08:52:07,769 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256224 lng=-97.73954 type=restaurant radius=1000
2025-11-20 08:52:07,781 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:52:07,803 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b4d9d0>
2025-11-20 08:52:07,804 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49900> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:52:07,861 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d8d880>
2025-11-20 08:52:07,862 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:07,863 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:07,863 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:07,863 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:07,863 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:08,423 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:08 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:57:08 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49772'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=465'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:08,424 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256224%2C-97.73954&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 08:52:08,425 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:08,473 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:08,473 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:08,474 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:08,475 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256224,-97.73954', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 08:52:08,476 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4iW2Ck6HJT4KDhef3AKYzLiHvzQv1SEuGplUI-JSP47LGAQH8yJB-o0WtZauvX4rMZdH3IS6rBIUczAQdE_Bhu8B1dGQUzV_5IkoZlCOTkiFa2GuJRdJqRKNcx3RibMxDdKzh-YcIQjLsiej2vd2bCCSnEqF46wp5pA9yfE7v0tFthXaiVh6FXhOVKRvonmUifkI8cGmL3UBhC0aDHgi40i0QxggZjgljuIy-7dZ7-vV545ddpCWPvKyWElKbr1_wYMPlSIbr8ZuQhrghBfTxuGtK5tjoGRP0WJrryMaLbs7DasKyXsUeKwgY7AprV2_z16inEse9sf4-FUvWvcm7KI5FTwCk3OJz-8zxrEfbbEStIbdSzXmn1glqxaH9NEWyCKQwQ0rzQ9CLynPYH07m2pKhbh3PaKJWMg3jKAFsVmlekt7Pot-isHjFP6QcTj8
2025-11-20 08:52:08,476 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:52:08,476 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:08,476 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:08,477 [INFO] seed_city - [SeedCity] Charger ch_dfed1bf5eecd category 'food': Found 10 places
2025-11-20 08:52:08,487 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:52:08,527 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6f670>
2025-11-20 08:52:08,528 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d15970> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:52:08,611 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b69310>
2025-11-20 08:52:08,612 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:08,612 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:08,612 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:08,613 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:08,613 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:08,753 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:08 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4029'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=97'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:08,754 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256224%2C-97.73954&destinations=30.26005739999999%2C-97.7392578%7C30.2627011%2C-97.74157629999999%7C30.263486%2C-97.74173479999999%7C30.2637557%2C-97.7380262%7C30.2526168%2C-97.7476959%7C30.2635186%2C-97.74358%7C30.2645913%2C-97.74389%7C30.265525%2C-97.742819%7C30.2629956%2C-97.7301213%7C30.2667947%2C-97.74098740000001&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:52:08,754 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:08,755 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:08,755 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:08,755 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:08,755 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:08,755 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:08,756 [ERROR] seed_city - Error processing category food for charger ch_dfed1bf5eecd: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJe0EXdam1RIYR2BNXxxVItLg', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJe0EXdam1RIYR2BNXxxVItLg', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:52:08,757 [INFO] seed_city - [SeedCity] Charger ch_dfed1bf5eecd: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 08:52:08,758 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256224 lng=-97.73954 type=supermarket radius=1000
2025-11-20 08:52:08,770 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:52:08,794 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d8ca90>
2025-11-20 08:52:08,794 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49ac0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:52:08,843 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d8cdf0>
2025-11-20 08:52:08,844 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:08,845 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:08,845 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:08,845 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:08,845 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:09,341 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:09 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:57:09 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'21518'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=442'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:09,342 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256224%2C-97.73954&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 08:52:09,342 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:09,369 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:09,370 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:09,370 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:09,370 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256224,-97.73954', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 08:52:09,371 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2643126, "lng": -97.7340971}, "viewport": {"northeast": {"lat": 30.26576902989272, "lng": -97.73269037010728}, "southwest": {"lat": 30.26306937010727, "lng": -97.73539002989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcar
2025-11-20 08:52:09,371 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=8
2025-11-20 08:52:09,371 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:09,371 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:09,372 [INFO] seed_city - [SeedCity] Charger ch_dfed1bf5eecd category 'groceries': Found 8 places
2025-11-20 08:52:09,384 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:52:09,403 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d64460>
2025-11-20 08:52:09,404 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e120> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:52:09,465 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d54070>
2025-11-20 08:52:09,466 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:09,466 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:09,467 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:09,467 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:09,467 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:09,565 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:09 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3397'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=75'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:09,566 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256224%2C-97.73954&destinations=30.2643126%2C-97.7340971%7C30.2706339%2C-97.753587%7C30.2975583%2C-97.7410694%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:52:09,566 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:09,567 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:09,567 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:09,568 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:09,568 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:09,568 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:09,670 [INFO] seed_city - [SeedCity] Charger ch_dfed1bf5eecd: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 08:52:09,670 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256224 lng=-97.73954 type=gym radius=1000
2025-11-20 08:52:09,685 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:52:09,723 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d774f0>
2025-11-20 08:52:09,724 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b4af90> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:52:09,802 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d546a0>
2025-11-20 08:52:09,803 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:09,804 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:09,804 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:09,804 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:09,804 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:10,517 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:10 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:57:10 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'46638'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=666'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:10,518 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256224%2C-97.73954&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 08:52:10,518 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:10,571 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:10,571 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:10,571 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:10,572 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256224,-97.73954', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 08:52:10,574 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU550LbQni-uF_GLTpuQXY6i8FwEl_FqPBzJhCGQMxQawIilFgAu6dRcttoXi2Ft686QguAs8EjUIe9M1XLJY8dSb_z4ybpU5muFHMWCnIuM-Zwt1VMMz0o5GL6Ma5Ixgsy8rtNztpipGvK0HfMsz4zSKwccXTwGpPn0IgLlXzL0Fhpv5CSYmvbkLHRaXxuFAcws5_Chb-w2B9KCMb6tcJd6jnFzN2su-R5Qu0KZpjcJJJ1CgnkpcJ1gN7zLCigqL9mpWFs8URJ7VpvqnvE-auDv243BfV5Vo3_SMM0tFFxgdvuL-DjwODUgMtl7gbWu-4Az2gLR2z2YurtXjwpVM0Cyr5sf_0GZY_SigNoIWdkdu7ahrcHkqp4k9-vk3bMtq_c6JK6u0-7zlfy9GEGJ03giMbxUZ8SiUrAHysM9XGjOcbun_yjAXsKp-ysIucIg56
2025-11-20 08:52:10,574 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:52:10,574 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:10,575 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:10,575 [INFO] seed_city - [SeedCity] Charger ch_dfed1bf5eecd category 'gym': Found 10 places
2025-11-20 08:52:10,587 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:52:10,623 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7b1f0>
2025-11-20 08:52:10,623 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d495f0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:52:10,708 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7b970>
2025-11-20 08:52:10,709 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:10,710 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:10,710 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:10,710 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:10,710 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:10,876 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:10 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4029'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=121'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:10,877 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256224%2C-97.73954&destinations=30.260628%2C-97.741897%7C30.2527893%2C-97.7470176%7C30.2539864%2C-97.74764719999999%7C30.2523341%2C-97.73199509999999%7C30.2646668%2C-97.73346769999999%7C30.2645313%2C-97.7313798%7C30.267006%2C-97.7416592%7C30.2655709%2C-97.7479626%7C30.2632263%2C-97.7277546%7C30.2619075%2C-97.72578680000001&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:52:10,877 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:10,878 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:10,878 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:10,879 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:10,880 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:10,880 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:10,882 [ERROR] seed_city - Error processing category gym for charger ch_dfed1bf5eecd: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJQ7j2YQe1RIYRuurPrEGJdWM', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJQ7j2YQe1RIYRuurPrEGJdWM', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:52:10,884 [WARNING] seed_city - No merchants found for charger WOTL SMART CHAR WINDSORONLAKE 1
2025-11-20 08:52:10,886 [INFO] seed_city - [SeedCity] Charger ch_fc8ec6587840: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 08:52:10,886 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.254054 lng=-97.761958 type=cafe radius=1000
2025-11-20 08:52:10,899 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:52:10,953 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66400>
2025-11-20 08:52:10,953 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49b30> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:52:11,030 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d66220>
2025-11-20 08:52:11,030 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:11,031 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:11,031 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:11,031 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:11,031 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:11,787 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:11 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:57:11 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50039'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=607'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:11,788 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.254054%2C-97.761958&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 08:52:11,788 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:11,851 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:11,852 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:11,852 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:11,853 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.254054,-97.761958', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 08:52:11,854 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU66eqNkVWLW9MyXbxRNI44Jf-qI4wEAYM5iXUHLPUTz5HSFA1MXWn028DuqZNTywcgtDuaSjDk8aOQDmMiygW6RaFTQlwpOuLXdOrHtOgRSWCEptepj3ZqMJb0idM7F_B4xnZ6jP6INQdLIMxR6FS-HeqZa_S3AFWaAd8CMzkfuROVh0cWuAs2F8EpGxvQjf_XmgkH5elP17gKTOePdvOMWIT7lk5tF_6bjHIYSfkqIcyHy42B-1kHqXqW-TdTPn4KBbbo4OkJfEANzP8J2oDVJuNW8ikVSFUUofgFDEJ3Sq0WD1tCJ9PxZz03XtNba0e1CMQhyot79TZ9LosK_nVwkOmno6CfsWU3YLNWbO2r8eFQu521CDG4IHJ52hxE06xI4elxDgYhRt1KebxV1PyYn_OJ5oSGJSsI3ReYF2JfIzWsP6jDdwsgZdf2Fia19Jb
2025-11-20 08:52:11,854 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:52:11,855 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:11,855 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:11,856 [INFO] seed_city - [SeedCity] Charger ch_fc8ec6587840 category 'coffee': Found 10 places
2025-11-20 08:52:11,868 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:52:11,902 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b712e0>
2025-11-20 08:52:11,903 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e040> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:52:11,977 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d77a00>
2025-11-20 08:52:11,977 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:11,978 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:11,978 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:11,978 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:11,978 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:12,130 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:12 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3998'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=104'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:12,131 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.254054%2C-97.761958&destinations=30.25224%2C-97.7636%7C30.2612339%2C-97.75786389999999%7C30.24218479999999%2C-97.7589562%7C30.26977999999999%2C-97.75390999999999%7C30.26587%2C-97.74643999999999%7C30.26447%2C-97.74377%7C30.26546%2C-97.74043999999999%7C30.26554%2C-97.73837999999999%7C30.23371%2C-97.74239999999999%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:52:12,131 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:12,132 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:12,133 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:12,133 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:12,134 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:12,134 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:12,136 [ERROR] seed_city - Error processing category coffee for charger ch_fc8ec6587840: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJAz-oAyC1RIYRJVI8s7gkfTM', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJAz-oAyC1RIYRJVI8s7gkfTM', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:52:12,137 [INFO] seed_city - [SeedCity] Charger ch_fc8ec6587840: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 08:52:12,138 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.254054 lng=-97.761958 type=restaurant radius=1000
2025-11-20 08:52:12,150 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:52:12,181 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d54370>
2025-11-20 08:52:12,181 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b3e190> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:52:12,229 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d64be0>
2025-11-20 08:52:12,230 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:12,230 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:12,230 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:12,231 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:12,231 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:13,031 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:12 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:57:12 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49836'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=682'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:13,032 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.254054%2C-97.761958&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 08:52:13,033 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:13,067 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:13,067 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:13,068 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:13,069 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.254054,-97.761958', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 08:52:13,071 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU6tELUGLES3Y2Zd2HHQ0EafkOeMVa056NokiutPaFDEMS-8cUwySvbgaG0i6kufOGr72yeP3LcS9sJImO_gwr8iCQfk5kdsIs-AQfRrfQ1cYpuNTJuSG6rYo0k3jvaB1HjOSG_PoDhBCzh4VRkFIM1nt8iY8twBQtcF4dl8EKgaTksmAIeg4lY6393rVw4QMz3LfW-qyRVGJkSj3X2Au4fowMDlWsMYl9PWyOeI5-jY4X9EbvRGp1HRkDLJbStR3AL4ApDUZ2t1uG8VIunoBCpth7C8Sd5FDI3wCi6pFCgkbPc2zHMf8lmk10xwF2aWb66KdTs25zJY-NIqQjeaI4SXpRhbfIi5-qjr9qBlYydH42pBkDtwZR6vnyeBOzrkzvDQsfXh2wSEAkXio3OgskzpKKJbtNqXInnrjGhh3zH6CpWRZcJ1B_YzTxQnB_E4Ii
2025-11-20 08:52:13,071 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:52:13,071 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:13,072 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:13,072 [INFO] seed_city - [SeedCity] Charger ch_fc8ec6587840 category 'food': Found 10 places
2025-11-20 08:52:13,082 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:52:13,112 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d8c220>
2025-11-20 08:52:13,113 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103c23d60> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:52:13,194 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d8ce50>
2025-11-20 08:52:13,195 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:13,195 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:13,195 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:13,195 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:13,195 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:13,283 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:13 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4040'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=48'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:13,284 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.254054%2C-97.761958&destinations=30.254672%2C-97.762051%7C30.2536504%2C-97.7628601%7C30.2546975%2C-97.7626693%7C30.2508795%2C-97.7659164%7C30.2494868%2C-97.7555656%7C30.2465449%2C-97.7567582%7C30.2641631%2C-97.7617126%7C30.2638786%2C-97.75682049999999%7C30.2534769%2C-97.74788769999999%7C30.2526168%2C-97.7476959&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:52:13,285 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:13,286 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:13,286 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:13,287 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:13,287 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:13,288 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:13,289 [ERROR] seed_city - Error processing category food for charger ch_fc8ec6587840: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJi8__nx-1RIYR56djED9FLLE', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJi8__nx-1RIYR56djED9FLLE', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:52:13,291 [INFO] seed_city - [SeedCity] Charger ch_fc8ec6587840: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 08:52:13,291 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.254054 lng=-97.761958 type=supermarket radius=1000
2025-11-20 08:52:13,303 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:52:13,351 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6f4f0>
2025-11-20 08:52:13,351 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49ba0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:52:13,430 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d7ba30>
2025-11-20 08:52:13,430 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:13,431 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:13,431 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:13,432 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:13,432 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:13,952 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:13 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:57:13 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=436'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:13,953 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.254054%2C-97.761958&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 08:52:13,953 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:13,980 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:13,981 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:13,981 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:13,982 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.254054,-97.761958', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 08:52:13,983 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 08:52:13,983 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 08:52:13,984 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:13,984 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:13,984 [INFO] seed_city - [SeedCity] Charger ch_fc8ec6587840 category 'groceries': Found 7 places
2025-11-20 08:52:13,999 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:52:14,024 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b56070>
2025-11-20 08:52:14,024 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49f20> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:52:14,075 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b4d9d0>
2025-11-20 08:52:14,076 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:14,077 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:14,077 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:14,077 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:14,077 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:14,167 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:14 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3004'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=65'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:14,168 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.254054%2C-97.761958&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:52:14,168 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:14,169 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:14,170 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:14,170 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:14,171 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:14,171 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:14,273 [INFO] seed_city - [SeedCity] Charger ch_fc8ec6587840: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 08:52:14,273 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.254054 lng=-97.761958 type=gym radius=1000
2025-11-20 08:52:14,289 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 08:52:14,320 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b4d400>
2025-11-20 08:52:14,321 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103d49900> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 08:52:14,379 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b4d9d0>
2025-11-20 08:52:14,380 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:14,380 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:14,381 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:14,381 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:14,381 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:14,981 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:15 GMT'), (b'Expires', b'Thu, 20 Nov 2025 14:57:15 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47192'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=570'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:14,982 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.254054%2C-97.761958&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 08:52:14,983 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:15,016 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:15,016 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:15,017 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:15,023 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.254054,-97.761958', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 08:52:15,026 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU6LaMlqphTWO1iUtYux_VM8f65GoN5wR9fHqRwVjF_zamTCzktkaTbA1RRCT6I5zeOXe9cGFYEZC6edRqZgk18jS8Pd7ft8R3su5v_SdFkUEKg_Xrbp6eBa8w9Una4bfU2P58aYCl-7l9PSRh-ST-H8P8ZeCiiujshT14KKR_ewGJlOS9XYo2DPGl5qdpoEI34-bMyXPmpk_MGlZAkRIGMGZ39NyVOd7PcJfqlzObAMrLm2DVmR62ADO7VVtoro6Fr3E67jaJCIXbkGGlw3lIOD2yBOfLz8QY60RuHaznN4rWLaLhi0PMemhoqC3rF8kyBAbn_va28rNrAZsCWZu9VEQzPHncIitHrcB3QRXYDoA5QhfBIffAnCUksJSLjxVd1G3g1-S50p-A0X6mUTiK_pGt3gI6a9CM3kRzFbB7PwqxPwtnuTORHbkKffKz7oxe
2025-11-20 08:52:15,026 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 08:52:15,028 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:15,029 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:15,032 [INFO] seed_city - [SeedCity] Charger ch_fc8ec6587840 category 'gym': Found 10 places
2025-11-20 08:52:15,042 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 08:52:15,084 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103d6f4c0>
2025-11-20 08:52:15,084 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x103b4af90> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 08:52:15,160 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b690d0>
2025-11-20 08:52:15,160 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 08:52:15,161 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 08:52:15,161 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 08:52:15,161 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 08:52:15,161 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 08:52:15,237 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 14:52:15 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4047'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=37'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 08:52:15,238 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.254054%2C-97.761958&destinations=30.2549179%2C-97.7608004%7C30.2552863%2C-97.7610763%7C30.2531154%2C-97.76364720000001%7C30.2569738%2C-97.7604266%7C30.2491111%2C-97.754976%7C30.2628555%2C-97.7585568%7C30.243991%2C-97.758557%7C30.24861799999999%2C-97.7729454%7C30.2539864%2C-97.74764719999999%7C30.2527893%2C-97.7470176&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 08:52:15,238 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 08:52:15,239 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 08:52:15,239 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 08:52:15,240 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 08:52:15,240 [DEBUG] httpcore.connection - close.started
2025-11-20 08:52:15,241 [DEBUG] httpcore.connection - close.complete
2025-11-20 08:52:15,243 [ERROR] seed_city - Error processing category gym for charger ch_fc8ec6587840: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJmXE1EUW1RIYRemcfe-qbQtw', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJmXE1EUW1RIYRemcfe-qbQtw', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 08:52:15,244 [WARNING] seed_city - No merchants found for charger GIBSON FLATS STATION 2
2025-11-20 08:52:15,246 [INFO] seed_city - Seed complete: 0 merchants, 0 charger-merchant links
2025-11-20 09:23:56,721 [DEBUG] asyncio - Using selector: KqueueSelector
2025-11-20 09:23:56,721 [INFO] seed_city - Starting seed for Austin with bbox (30.0, -98.0, 30.5, -97.5)
2025-11-20 09:23:56,721 [INFO] seed_city - Fetching chargers from NREL API...
2025-11-20 09:23:56,721 [INFO] app.integrations.nrel_client - [WhileYouCharge] NREL API call: lat=30.25, lng=-97.75, radius=41.4mi
2025-11-20 09:23:56,767 [DEBUG] httpcore.connection - connect_tcp.started host='developer.nrel.gov' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:23:57,131 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x107438d90>
2025-11-20 09:23:57,132 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x10741a270> server_hostname='developer.nrel.gov' timeout=10.0
2025-11-20 09:23:57,316 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x107417cd0>
2025-11-20 09:23:57,316 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:23:57,317 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:23:57,317 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:23:57,317 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:23:57,317 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:23:57,556 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 20 Nov 2025 15:23:57 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Max-Age', b'86400'), (b'Age', b'0'), (b'Cache-Control', b'max-age=0, private, must-revalidate'), (b'Content-Encoding', b'gzip'), (b'Last-Modified', b'Thu, 20 Nov 2025 15:23:57 GMT'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'Vary', b'Accept-Encoding,Origin'), (b'Via', b'https/1.1 api-umbrella (ApacheTrafficServer [cMsSf ])'), (b'X-Api-Umbrella-Request-Id', b'cqk7engqciptokmchnj0'), (b'X-Cache', b'MISS'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Permitted-Cross-Domain-Policies', b'none'), (b'X-Ratelimit-Limit', b'1000'), (b'X-Ratelimit-Remaining', b'999'), (b'X-Request-Id', b'920e247d6f4baee7914c2619b45649f1'), (b'X-Runtime', b'0.067419'), (b'X-Vcap-Request-Id', b'f822b731-1532-461f-7c96-7b80ec05ed8c'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Frame-Options', b'SAMEORIGIN')])
2025-11-20 09:23:57,558 [INFO] httpx - HTTP Request: GET https://developer.nrel.gov/api/alt-fuel-stations/v1/nearest.json?api_key=rBv6VXOAQbJemI6xw2QbqjceK5QdNUta8MpT50mY&fuel_type=ELEC&latitude=30.25&longitude=-97.75&radius=41.4&limit=100&format=json "HTTP/1.1 200 OK"
2025-11-20 09:23:57,558 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:23:57,633 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:23:57,633 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:23:57,634 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:23:57,634 [DEBUG] app.integrations.nrel_client - [WhileYouCharge] NREL API response status: 200
2025-11-20 09:23:57,643 [DEBUG] httpcore.connection - close.started
2025-11-20 09:23:57,644 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:23:57,644 [INFO] seed_city - Found 100 chargers from NREL
2025-11-20 09:23:57,681 [INFO] seed_city - Saved 100 chargers to DB
2025-11-20 09:23:57,682 [INFO] seed_city - Processing 100 chargers for merchant discovery
2025-11-20 09:23:57,683 [INFO] seed_city - [SeedCity] Charger ch_3813819ecd0d: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 09:23:57,683 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.250541 lng=-97.749422 type=cafe radius=1000
2025-11-20 09:23:57,688 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:23:57,760 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x107671040>
2025-11-20 09:23:57,760 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076d1040> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:23:57,831 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10765cca0>
2025-11-20 09:23:57,831 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:23:57,832 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:23:57,832 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:23:57,832 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:23:57,832 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:23:58,382 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:23:58 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:28:58 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50059'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=507'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:23:58,383 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.250541%2C-97.749422&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 09:23:58,383 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:23:58,446 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:23:58,446 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:23:58,446 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:23:58,446 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.250541,-97.749422', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 09:23:58,447 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU71od0h4mcV10sfzKe9nQnij_9FE4Irma30bSRWvwzM_dBUtMPHag4gvgFpi_vbGqpNhQ5fasMncdyfFB1wGPo5ESa_uROBCwpodbemt37v9KwOg9r4X_2_1kNOmnR9tQv0DZuAbZpHGKmn2UDDRwjmucwLgWz9rj37X5-AGrL1L-NzQhDwaWTlPjZr_y99gYWi-u0dFIUNszMa5GbqfImgYSn0qHYthK5n_elWmLree-4txun-cF-caJvVsmto88oEmWawNGY4zNCZyxPg83z5qDpGT_6OkpaSxwExBoykA4j8n5lPjmeH4qcbIigBAb1_s5TPG2ucrBlGHEqcWm7sDr8k4FFr2Ebh-fObhxU4IaBUW3i29HszpdJR8X75vTUb3RqjL_EZEwfqOOS98TbM3yLn_GLQ9fglzSACprSB3rKWZ2OdgN5jY1u3nTR8Bl
2025-11-20 09:23:58,447 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:23:58,447 [DEBUG] httpcore.connection - close.started
2025-11-20 09:23:58,447 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:23:58,447 [INFO] seed_city - [SeedCity] Charger ch_3813819ecd0d category 'coffee': Found 10 places
2025-11-20 09:23:58,452 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:23:58,588 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076c3250>
2025-11-20 09:23:58,589 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076d10b0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:23:58,680 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076c3a90>
2025-11-20 09:23:58,680 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:23:58,681 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:23:58,681 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:23:58,681 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:23:58,681 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:23:58,848 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:23:58 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4008'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=126'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:23:58,849 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.250541%2C-97.749422&destinations=30.2510458%2C-97.74937170000001%7C30.24482649999999%2C-97.75694%7C30.24218479999999%2C-97.7589562%7C30.25224%2C-97.7636%7C30.2612339%2C-97.75786389999999%7C30.26447%2C-97.74377%7C30.26587%2C-97.74643999999999%7C30.26546%2C-97.74043999999999%7C30.26554%2C-97.73837999999999%7C30.23371%2C-97.74239999999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:23:58,849 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:23:58,850 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:23:58,850 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:23:58,851 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:23:58,851 [DEBUG] httpcore.connection - close.started
2025-11-20 09:23:58,852 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:23:58,858 [ERROR] seed_city - Error processing category coffee for charger ch_3813819ecd0d: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJ1S_Bov20RIYRe7MiR8tYawY', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJ1S_Bov20RIYRe7MiR8tYawY', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:23:58,868 [INFO] seed_city - [SeedCity] Charger ch_3813819ecd0d: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 09:23:58,868 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.250541 lng=-97.749422 type=restaurant radius=1000
2025-11-20 09:23:58,872 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:23:58,928 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10767e670>
2025-11-20 09:23:58,929 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4120> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:23:59,058 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076de4f0>
2025-11-20 09:23:59,059 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:23:59,060 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:23:59,060 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:23:59,060 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:23:59,060 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:23:59,891 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:23:59 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:28:59 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49902'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=770'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:23:59,891 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.250541%2C-97.749422&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 09:23:59,891 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:23:59,979 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:23:59,980 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:23:59,980 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:23:59,982 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.250541,-97.749422', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 09:23:59,983 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU47itTxkoeyc-Ai3OyKgd6FM-Y0Jz1tj3LYeoZvUeqKfhky_EeHevrI3xsECDxzQSZbtZgRNhkIuYzwwDQRZ6ctPUwSSE9VwSq3BuiJ6bCcTXKtCLrGE7F4ouYIKkiqBnxTd6iVBC52slJQtNPv5UvzqNd5djHmeTytoqQ2aKHb7_Wkrhx7up27OF-KrQ51hjwEmoko0tgwSos6FnQ1wLUMOynP5JI-j2Mel0dUdftKrQmcCyjOQlN9mCnzE53ALJIlCZ45oPLxe6bgSb1OdIsI9Wc6FkOJFT0zY6rGTxMh_9D5Xakk3ZAxt1cjI3zGAWOiBsGyPWVTgFugNedPOkdh6WnIImYf62YawoJc9AxSbtMr0cEI7edNns8av0pHaTtdNh6rT1GGb_5uk7TVRGa1wz7O8U4AB5tPpeZ1GKxre5pduKDLq2oxjgFU-mNQW5
2025-11-20 09:23:59,983 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:23:59,983 [DEBUG] httpcore.connection - close.started
2025-11-20 09:23:59,983 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:23:59,984 [INFO] seed_city - [SeedCity] Charger ch_3813819ecd0d category 'food': Found 10 places
2025-11-20 09:23:59,995 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:00,048 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e26d0>
2025-11-20 09:24:00,051 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1077284a0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:00,156 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10765ca30>
2025-11-20 09:24:00,157 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:00,157 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:00,157 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:00,158 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:00,158 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:00,331 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:00 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4057'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=119'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:00,333 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.250541%2C-97.749422&destinations=30.24995849999999%2C-97.7500913%7C30.2526168%2C-97.7476959%7C30.25331539999999%2C-97.74802439999999%7C30.2534769%2C-97.74788769999999%7C30.247111%2C-97.750424%7C30.2494868%2C-97.7555656%7C30.24445649999999%2C-97.7519537%7C30.2465449%2C-97.7567582%7C30.2410896%2C-97.7529007%7C30.2392655%2C-97.7537141&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:00,333 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:00,334 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:00,334 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:00,334 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:00,335 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:00,335 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:00,338 [ERROR] seed_city - Error processing category food for charger ch_3813819ecd0d: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJb7byD_20RIYRT9uoSeSUvzY', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJb7byD_20RIYRT9uoSeSUvzY', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:24:00,340 [INFO] seed_city - [SeedCity] Charger ch_3813819ecd0d: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 09:24:00,340 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.250541 lng=-97.749422 type=supermarket radius=1000
2025-11-20 09:24:00,346 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:00,390 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bbe80>
2025-11-20 09:24:00,390 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8890> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:00,465 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bbc10>
2025-11-20 09:24:00,465 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:00,466 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:00,466 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:00,467 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:00,467 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:00,975 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:01 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:01 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=472'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:00,975 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.250541%2C-97.749422&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 09:24:00,975 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:01,010 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:01,010 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:01,011 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:01,012 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.250541,-97.749422', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 09:24:01,012 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2643126, "lng": -97.7340971}, "viewport": {"northeast": {"lat": 30.26576902989272, "lng": -97.73269037010728}, "southwest": {"lat": 30.26306937010727, "lng": -97.73539002989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcar
2025-11-20 09:24:01,013 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 09:24:01,013 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:01,013 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:01,013 [INFO] seed_city - [SeedCity] Charger ch_3813819ecd0d category 'groceries': Found 7 places
2025-11-20 09:24:01,025 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:01,086 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b32b0>
2025-11-20 09:24:01,086 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a87b0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:01,195 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bed00>
2025-11-20 09:24:01,196 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:01,196 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:01,196 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:01,196 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:01,196 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:01,371 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:01 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3007'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=119'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:01,371 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.250541%2C-97.749422&destinations=30.2643126%2C-97.7340971%7C30.2706339%2C-97.753587%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:01,372 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:01,372 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:01,372 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:01,373 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:01,373 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:01,373 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:01,475 [INFO] seed_city - [SeedCity] Charger ch_3813819ecd0d: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 09:24:01,475 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.250541 lng=-97.749422 type=gym radius=1000
2025-11-20 09:24:01,484 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:01,526 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c0820>
2025-11-20 09:24:01,526 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8ac0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:01,644 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x107671370>
2025-11-20 09:24:01,645 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:01,646 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:01,646 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:01,646 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:01,646 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:02,220 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:02 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:02 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47605'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=491'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:02,221 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.250541%2C-97.749422&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 09:24:02,222 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:02,314 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:02,314 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:02,314 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:02,315 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.250541,-97.749422', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 09:24:02,316 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7cInTnbUEStaOt35aRV0sg0jFoQ1mwgi1BZkH9bMHO8pWoXmQ9Zit1QoUNWki3DCaqTskxfHNzvS2OjiT_I_8kB6BMEMR-ojZnGdqsWNCXyjPzw17SMZberng6cx9XM4_20eZZWkpTLp2J1AqTHCNjJa694UHgM1IoOYA0YTKW-Me8HeTr5YQBxv4JmJltgmD4Zqj_EsGFA_xudNZ4syeYK7orrfWcWwRFxnA2AbJeYbNpIcBpEeJnJ08sJDlvHG6oQgHTYQXBFXNJTl2do4MRJK1-eV1IlTgVdnbHV_4E9KyrEAJq9TvPQvRQ5rDSzcxjrNIKanAtgPLl0E0iTtI0dDqXdkjwYvuNeZbX0xhHV_WsgsrW5qoKjkCg9BW-ZMOjpBO3dDu2ULRoI8ylcM4vrQdIcuQA4z0PPE2YOh8SxZt0ue1x0mnBYTg4Sof2sc
2025-11-20 09:24:02,316 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:02,320 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:02,321 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:02,321 [INFO] seed_city - [SeedCity] Charger ch_3813819ecd0d category 'gym': Found 10 places
2025-11-20 09:24:02,325 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:02,363 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b3430>
2025-11-20 09:24:02,364 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4040> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:02,445 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b3d30>
2025-11-20 09:24:02,446 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:02,446 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:02,446 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:02,447 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:02,447 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:02,588 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:02 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4041'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=101'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:02,589 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.250541%2C-97.749422&destinations=30.2527893%2C-97.7470176%7C30.2539864%2C-97.74764719999999%7C30.2491111%2C-97.754976%7C30.243991%2C-97.758557%7C30.2552863%2C-97.7610763%7C30.2569738%2C-97.7604266%7C30.2374709%2C-97.7420734%7C30.2628555%2C-97.7585568%7C30.2655709%2C-97.7479626%7C30.2523341%2C-97.73199509999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:02,589 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:02,590 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:02,590 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:02,591 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:02,591 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:02,592 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:02,593 [ERROR] seed_city - Error processing category gym for charger ch_3813819ecd0d: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJRyA9Prm1RIYRkcXgiptky_U', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJRyA9Prm1RIYRkcXgiptky_U', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:24:02,594 [WARNING] seed_city - No merchants found for charger Hotel San Jose - Tesla Destination
2025-11-20 09:24:02,595 [INFO] seed_city - [SeedCity] Charger ch_f397bd21cae7: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 09:24:02,595 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.250091 lng=-97.74843 type=cafe radius=1000
2025-11-20 09:24:02,601 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:02,642 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bb7c0>
2025-11-20 09:24:02,642 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a87b0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:02,732 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088be4f0>
2025-11-20 09:24:02,732 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:02,733 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:02,733 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:02,733 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:02,734 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:03,230 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:03 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:03 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50088'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=456'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:03,232 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.250091%2C-97.74843&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 09:24:03,233 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:03,291 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:03,292 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:03,292 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:03,293 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.250091,-97.74843', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 09:24:03,295 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU416EgWxKV6d4C842wTkDLqnQSgSxGFqpVgrqDGbQwB23jK_Ri3ItLoa9CTuKaAQmZBqcKCEmkoDYnIyvgrh_3Ev51oD9v1w0L9vNiE5IJRnGEOUC6Sy93w08NCXuiU3EIk3l9gpOYjuQ2PcL-C4Zg_wrEUahD5nybTNpktjBVlqw0XbhycgIhFc456WRNlCBlFuvTSdFSH-mlk_pzYj3V_OvWu_2McRoilOqWva6uicPaHqmo7DIfKiZ0mSW4XmAwNe2jRQo0VkJ2JqcjcgTiDN6-HCZYOs5NDJ28AW1I49bxwCf_tiZknuPTuma6cOxxzQmB3bWKgY_sIIsfODeuk7N0tHlrbLCI1p_EnVGIYS18iEvvskQp2mctwYUVDZGXI24XETmitG_8Nw8S3mvivNqGLssIdT8ESG88j4cWVvZ1hq9I5emx67q30cs4OCB
2025-11-20 09:24:03,295 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:03,295 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:03,296 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:03,296 [INFO] seed_city - [SeedCity] Charger ch_f397bd21cae7 category 'coffee': Found 10 places
2025-11-20 09:24:03,308 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:03,344 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e28e0>
2025-11-20 09:24:03,344 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8dd0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:03,421 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10765c1c0>
2025-11-20 09:24:03,422 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:03,422 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:03,423 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:03,423 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:03,423 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:03,579 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:03 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4006'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=114'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:03,580 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.250091%2C-97.74843&destinations=30.2510458%2C-97.74937170000001%7C30.24218479999999%2C-97.7589562%7C30.25224%2C-97.7636%7C30.2612339%2C-97.75786389999999%7C30.26447%2C-97.74377%7C30.26587%2C-97.74643999999999%7C30.26546%2C-97.74043999999999%7C30.23371%2C-97.74239999999999%7C30.26554%2C-97.73837999999999%7C30.2424%2C-97.72740999999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:03,580 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:03,581 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:03,581 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:03,581 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:03,581 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:03,582 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:03,584 [ERROR] seed_city - Error processing category coffee for charger ch_f397bd21cae7: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJ1S_Bov20RIYRe7MiR8tYawY', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJ1S_Bov20RIYRe7MiR8tYawY', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:24:03,585 [INFO] seed_city - [SeedCity] Charger ch_f397bd21cae7: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 09:24:03,585 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.250091 lng=-97.74843 type=restaurant radius=1000
2025-11-20 09:24:03,596 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:03,647 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088ce160>
2025-11-20 09:24:03,647 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8900> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:03,754 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c17c0>
2025-11-20 09:24:03,755 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:03,755 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:03,755 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:03,756 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:03,756 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:04,402 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:04 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:04 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49665'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=594'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:04,403 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.250091%2C-97.74843&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 09:24:04,403 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:04,487 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:04,487 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:04,488 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:04,488 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.250091,-97.74843', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 09:24:04,489 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4uT3C8AnZDJCVbhV7I4TYeM04G_cAHAQf_72LMRCHC-bgOU2FQDy2uB7xXWdxsKjjcgTOmcrw68dZYHhv5d9wGFXy28SbD0ksVnkyrSrlfFTL0pOsaeQBykb2SlMaIR4wfJ-wfwlOx3JJ3TXvfCMYZsg-0y7haroa3iIvU7elZGbaUedBL90Q4wsg5DIzJOVcupawgd9p7I0JUXWtexAwuNBpJMyYnSyCUndL98voakbif81qoEgbXwD3UoRn65GWe7UcTSHb7iSdkHb5glaz7ZlEOSWFOzhXbtlXlV1aT-_uc5K1eBxGoW5-OeCLycsbhhlC2JL6k20Ph-B4l_DxAVmFPK0SfTVQDY9HYPPk45jL1qWmbbwDCFpHYdCrbS4dwmkPUuC3mQI8BO4D8-m6HGd-tHur_nDCf2IO59WqgXC5v9ooCvUkRXemQiUuGWW
2025-11-20 09:24:04,489 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:04,490 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:04,490 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:04,490 [INFO] seed_city - [SeedCity] Charger ch_f397bd21cae7 category 'food': Found 10 places
2025-11-20 09:24:04,500 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:04,536 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b3d90>
2025-11-20 09:24:04,537 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1077284a0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:04,614 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088be6a0>
2025-11-20 09:24:04,615 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:04,616 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:04,616 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:04,616 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:04,616 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:04,689 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:04 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4051'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=32'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:04,690 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.250091%2C-97.74843&destinations=30.24995849999999%2C-97.7500913%7C30.2526168%2C-97.7476959%7C30.25331539999999%2C-97.74802439999999%7C30.2534769%2C-97.74788769999999%7C30.247111%2C-97.750424%7C30.2494868%2C-97.7555656%7C30.24445649999999%2C-97.7519537%7C30.2465449%2C-97.7567582%7C30.2410896%2C-97.7529007%7C30.2392655%2C-97.7537141&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:04,690 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:04,691 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:04,691 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:04,691 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:04,692 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:04,692 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:04,694 [ERROR] seed_city - Error processing category food for charger ch_f397bd21cae7: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJb7byD_20RIYRT9uoSeSUvzY', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJb7byD_20RIYRT9uoSeSUvzY', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:24:04,695 [INFO] seed_city - [SeedCity] Charger ch_f397bd21cae7: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 09:24:04,695 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.250091 lng=-97.74843 type=supermarket radius=1000
2025-11-20 09:24:04,708 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:04,753 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2700>
2025-11-20 09:24:04,753 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4120> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:04,852 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b3970>
2025-11-20 09:24:04,852 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:04,852 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:04,852 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:04,852 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:04,852 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:05,321 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:05 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:05 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=413'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:05,332 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.250091%2C-97.74843&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 09:24:05,333 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:05,364 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:05,364 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:05,364 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:05,365 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.250091,-97.74843', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 09:24:05,366 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2643126, "lng": -97.7340971}, "viewport": {"northeast": {"lat": 30.26576902989272, "lng": -97.73269037010728}, "southwest": {"lat": 30.26306937010727, "lng": -97.73539002989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcar
2025-11-20 09:24:05,366 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 09:24:05,366 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:05,366 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:05,367 [INFO] seed_city - [SeedCity] Charger ch_f397bd21cae7 category 'groceries': Found 7 places
2025-11-20 09:24:05,379 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:05,440 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c0040>
2025-11-20 09:24:05,440 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8e40> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:05,540 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bb9a0>
2025-11-20 09:24:05,541 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:05,542 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:05,542 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:05,542 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:05,543 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:05,670 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:05 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3000'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=73'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:05,671 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.250091%2C-97.74843&destinations=30.2643126%2C-97.7340971%7C30.2706339%2C-97.753587%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:05,671 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:05,672 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:05,672 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:05,672 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:05,673 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:05,673 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:05,774 [INFO] seed_city - [SeedCity] Charger ch_f397bd21cae7: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 09:24:05,775 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.250091 lng=-97.74843 type=gym radius=1000
2025-11-20 09:24:05,796 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:05,835 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c13a0>
2025-11-20 09:24:05,836 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8a50> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:05,916 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bbfd0>
2025-11-20 09:24:05,916 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:05,917 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:05,917 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:05,917 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:05,917 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:06,569 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:06 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:06 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47605'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=581'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:06,570 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.250091%2C-97.74843&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 09:24:06,570 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:06,630 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:06,630 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:06,630 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:06,632 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.250091,-97.74843', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 09:24:06,633 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU6bdHwmkhR2p70XEkKaRloNTdcrfG_wmlhrLTG0IxzOn9V2y0xBelCfVBfNFNskmjnY1JBQeEaU6fxV-3ae1uiPQGGU86MvWRvJt6df6CMcwxlvSuGC0lcjn8mle7EMZBoLWsMaBOe5gjfPwj5SB42vkG5Zi5wUD0_V7PZopb3G8Qh4CThkKK9Wc4rycMfZe0OguJ4EX5u0xOBOU7Dxy2hxQVOESH1WyoUvGLijqZO1YQ5c0HmtxuUa7qLNAMobX-ffT9x2qcBOfa6t2g5hFOXhz-Kz4WxKVj-qLDjRxhOrwvXlALSkQ87UZmw-zZnqoToz1X1sQMyXLK-hykohsVas8HEfMOrhi_nz3H8fbe1EL8APB1BCSbkhHZp045PTUITskQ9pb56YOKNBowuuf7ow-W0qOxSA4EZBimTot6aVvGragVaIExfl8LlpEjFe3z
2025-11-20 09:24:06,634 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:06,634 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:06,635 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:06,635 [INFO] seed_city - [SeedCity] Charger ch_f397bd21cae7 category 'gym': Found 10 places
2025-11-20 09:24:06,648 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:06,695 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10766c7c0>
2025-11-20 09:24:06,695 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8f90> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:06,804 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076c3ac0>
2025-11-20 09:24:06,805 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:06,806 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:06,806 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:06,807 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:06,807 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:06,920 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:06 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4033'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=62'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:06,921 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.250091%2C-97.74843&destinations=30.2527893%2C-97.7470176%7C30.2539864%2C-97.74764719999999%7C30.2491111%2C-97.754976%7C30.243991%2C-97.758557%7C30.2552863%2C-97.7610763%7C30.2569738%2C-97.7604266%7C30.2374709%2C-97.7420734%7C30.2523341%2C-97.73199509999999%7C30.2628555%2C-97.7585568%7C30.2655709%2C-97.7479626&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:06,922 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:06,924 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:06,924 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:06,924 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:06,925 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:06,926 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:06,940 [ERROR] seed_city - Error processing category gym for charger ch_f397bd21cae7: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJRyA9Prm1RIYRkcXgiptky_U', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJRyA9Prm1RIYRkcXgiptky_U', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:24:06,942 [WARNING] seed_city - No merchants found for charger Kimber Modern - Tesla Destination
2025-11-20 09:24:06,951 [INFO] seed_city - [SeedCity] Charger ch_f43b6acd52f9: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 09:24:06,951 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.2472116 lng=-97.750005 type=cafe radius=1000
2025-11-20 09:24:06,959 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:06,995 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x107671640>
2025-11-20 09:24:06,995 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x108876ba0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:07,081 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088cef40>
2025-11-20 09:24:07,082 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:07,083 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:07,083 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:07,084 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:07,084 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:07,745 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:07 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:07 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50024'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=616'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:07,746 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.2472116%2C-97.750005&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 09:24:07,747 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:07,806 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:07,806 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:07,806 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:07,807 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.2472116,-97.750005', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 09:24:07,807 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU42zpSS2N49YjYA9xxJ6CWPoHNsYtZmpHWnllsrhj-U2O0e-SA7iRYIyCFa48HhNZzeToVS13oBm8q4GDzUQe28XLPZXykchvwbuxkR5jfYr2-pHgpCm8cnHcAvjh0xSJ3Ue2x4Bh80NsZUbNT2Pu7e5Pya9xtZf3m_6IgXmfplczK5vcZneB6Zr8UFRVaJGyrsrAFYb8p-AyMKCLpsBlj1qoxYnIjQz5YCeba7FWLCoIpHjg5uPKOdT-WLIPW2RSFcFtNGbnS0HmIzakTiksrUhPdqinaHOs1wxgN8QncEImseN056biBIZA7NdaL4tJ4zs_T1QqYl2LnZTNBRPpZqP9p_a9wEotxX6yuqZDElmpOOzTu7NFVD3IEpxxwtvHTqcEMbp1wgrJLRVs9pTGyfAh2_H7TvrIKPZgpwg4RDOgk6OhxN0YAsO1u1EGKe9H
2025-11-20 09:24:07,807 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:07,807 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:07,807 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:07,808 [INFO] seed_city - [SeedCity] Charger ch_f43b6acd52f9 category 'coffee': Found 10 places
2025-11-20 09:24:07,812 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:07,856 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c10d0>
2025-11-20 09:24:07,856 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4120> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:07,939 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076dea60>
2025-11-20 09:24:07,940 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:07,941 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:07,941 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:07,942 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:07,942 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:08,074 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:08 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4010'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=92'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:08,075 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.2472116%2C-97.750005&destinations=30.24218479999999%2C-97.7589562%7C30.25224%2C-97.7636%7C30.23371%2C-97.74239999999999%7C30.2612339%2C-97.75786389999999%7C30.26447%2C-97.74377%7C30.26587%2C-97.74643999999999%7C30.26546%2C-97.74043999999999%7C30.2424%2C-97.72740999999999%7C30.26554%2C-97.73837999999999%7C30.26977999999999%2C-97.75390999999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:08,076 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:08,077 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:08,078 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:08,079 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:08,079 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:08,080 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:08,181 [INFO] seed_city - [SeedCity] Charger ch_f43b6acd52f9: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 09:24:08,182 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.2472116 lng=-97.750005 type=restaurant radius=1000
2025-11-20 09:24:08,198 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:08,248 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c0970>
2025-11-20 09:24:08,248 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x10778af90> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:08,352 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10766b250>
2025-11-20 09:24:08,352 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:08,353 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:08,353 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:08,353 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:08,353 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:09,078 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:09 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:09 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49924'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=670'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:09,078 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.2472116%2C-97.750005&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 09:24:09,079 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:09,167 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:09,167 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:09,167 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:09,169 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.2472116,-97.750005', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 09:24:09,171 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4Je4gkoip0Cip4N_Vwc7vGiUOEPqm3WMoMmmD-M4CcxsY_dbMwKhhW36vJAVszqWGDNBZdRS3qMZ5fg-4plmEBlpdHa1mHPNvxSCjopePNZbsfhH33m25pywmwhB6lBt1rhdrxjgX-zHwqtOcmpRTKDJ-Td0LvpXZ4GZpyyhRZyR3Pc_rs6THzYx_6ZgEUSHjr_uE41IOB8fHYWR_rhIvJAOiykKpfmLNaltiugHc2xVot-ysW4izh9ogE-RkCL9Gm3AfTD9CZ-huUs_A-AlEtEroihRgM7ssnpndJzcmtW0SCgszBSmXEmvQY0NFMd_LW_63O4LMgxRJw-fRV9ofWl0ebTNg_0Db4urWuzn7KPy13f5WVcGYlvDsWZdwrNYnqOHEmiFxCjoJno7USLQzgVdamoLmI7vMs_pLkxlqiMoVyAZqFT57IML453gINVx
2025-11-20 09:24:09,171 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:09,171 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:09,172 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:09,172 [INFO] seed_city - [SeedCity] Charger ch_f43b6acd52f9 category 'food': Found 10 places
2025-11-20 09:24:09,185 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:09,222 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2f10>
2025-11-20 09:24:09,222 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8dd0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:09,301 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bb0a0>
2025-11-20 09:24:09,302 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:09,302 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:09,302 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:09,303 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:09,303 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:09,379 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:09 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4054'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=41'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:09,380 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.2472116%2C-97.750005&destinations=30.247111%2C-97.750424%7C30.24995849999999%2C-97.7500913%7C30.24445649999999%2C-97.7519537%7C30.2494868%2C-97.7555656%7C30.2526168%2C-97.7476959%7C30.2465449%2C-97.7567582%7C30.25331539999999%2C-97.74802439999999%7C30.2534769%2C-97.74788769999999%7C30.2410896%2C-97.7529007%7C30.2392655%2C-97.7537141&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:09,380 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:09,382 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:09,382 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:09,382 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:09,383 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:09,383 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:09,385 [ERROR] seed_city - Error processing category food for charger ch_f43b6acd52f9: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJh91qhvy0RIYRBzoQTNhuG-4', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJh91qhvy0RIYRBzoQTNhuG-4', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:24:09,387 [INFO] seed_city - [SeedCity] Charger ch_f43b6acd52f9: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 09:24:09,387 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.2472116 lng=-97.750005 type=supermarket radius=1000
2025-11-20 09:24:09,399 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:09,454 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b37c0>
2025-11-20 09:24:09,454 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8ba0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:09,560 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b3550>
2025-11-20 09:24:09,561 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:09,562 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:09,562 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:09,562 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:09,562 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:10,074 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:10 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:10 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=421'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:10,075 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.2472116%2C-97.750005&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 09:24:10,075 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:10,113 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:10,114 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:10,114 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:10,115 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.2472116,-97.750005', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 09:24:10,116 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2643126, "lng": -97.7340971}, "viewport": {"northeast": {"lat": 30.26576902989272, "lng": -97.73269037010728}, "southwest": {"lat": 30.26306937010727, "lng": -97.73539002989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcar
2025-11-20 09:24:10,116 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 09:24:10,117 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:10,117 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:10,117 [INFO] seed_city - [SeedCity] Charger ch_f43b6acd52f9 category 'groceries': Found 7 places
2025-11-20 09:24:10,129 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:10,175 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088be880>
2025-11-20 09:24:10,175 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8ac0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:10,272 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bedc0>
2025-11-20 09:24:10,272 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:10,273 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:10,273 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:10,274 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:10,274 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:10,407 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:10 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3008'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=80'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:10,407 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.2472116%2C-97.750005&destinations=30.2643126%2C-97.7340971%7C30.2706339%2C-97.753587%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:10,407 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:10,408 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:10,408 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:10,408 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:10,409 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:10,409 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:10,510 [INFO] seed_city - [SeedCity] Charger ch_f43b6acd52f9: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 09:24:10,511 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.2472116 lng=-97.750005 type=gym radius=1000
2025-11-20 09:24:10,521 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:10,629 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2820>
2025-11-20 09:24:10,630 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x10778af90> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:10,708 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b37f0>
2025-11-20 09:24:10,709 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:10,710 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:10,710 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:10,710 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:10,711 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:11,179 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:11 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:11 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47317'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=424'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:11,180 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.2472116%2C-97.750005&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 09:24:11,180 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:11,235 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:11,235 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:11,235 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:11,238 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.2472116,-97.750005', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 09:24:11,240 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU72bgQr1vfEVNOQtZ-H0BAiWIqvzJEmXDY0_WNf7TfdwoDps9bpx2W_rCJacuAZul15_VRN7V6Jxqze9wHuhnA29RhNrKDnlB3nbFAEjuvFa_jItrS_uldjCbMKo-5Xiapw6wfOTZatNSEDUzPneNZDr9YWvVRqiv_CY6Np8X3SaIJKB3ogN8_RP2P4A20FgFVV4S1bIjnvK4n81En5TexwgVOqg8ThuWCYu05dBZcTUptXlBKopbIAISV4Xx1yEEeX6uuyz2_E8Gz5ZDd4oPjvCl9hMJyDPx79yNHBBd9724S3IkQfTmJFLO2y9886BFOEJZe39IAgG9Jqfd7uWPpLbs7hvqVaj_4GtOU53JHpdQfq32vpPyezsaIsntfQzTj3Hixa5FC5Etb52LqiD8cQkJ5f7L11yKoTZz2ttjmSN-OtmurX_p0sJJ9yQgRTU-
2025-11-20 09:24:11,240 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:11,240 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:11,241 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:11,241 [INFO] seed_city - [SeedCity] Charger ch_f43b6acd52f9 category 'gym': Found 10 places
2025-11-20 09:24:11,249 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:11,280 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bb3d0>
2025-11-20 09:24:11,281 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8820> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:11,454 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bb940>
2025-11-20 09:24:11,454 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:11,455 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:11,455 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:11,455 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:11,455 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:11,645 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:11 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4050'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=145'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:11,646 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.2472116%2C-97.750005&destinations=30.2491111%2C-97.754976%7C30.2488772%2C-97.755692%7C30.2527893%2C-97.7470176%7C30.2539864%2C-97.74764719999999%7C30.243991%2C-97.758557%7C30.2374709%2C-97.7420734%7C30.2552863%2C-97.7610763%7C30.2569738%2C-97.7604266%7C30.2523341%2C-97.73199509999999%7C30.2628555%2C-97.7585568&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:11,646 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:11,647 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:11,647 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:11,647 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:11,647 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:11,648 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:11,653 [ERROR] seed_city - Error processing category gym for charger ch_f43b6acd52f9: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJL36hvAK1RIYRT3qbb-Nm5Ug', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJL36hvAK1RIYRT3qbb-Nm5Ug', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:24:11,654 [WARNING] seed_city - No merchants found for charger South Congress Hotel - Tesla Supercharger
2025-11-20 09:24:11,656 [INFO] seed_city - [SeedCity] Charger ch_1a704bdb4c7d: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 09:24:11,657 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.25196 lng=-97.746725 type=cafe radius=1000
2025-11-20 09:24:11,668 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:11,718 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10767e8b0>
2025-11-20 09:24:11,718 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8c80> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:11,827 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c0520>
2025-11-20 09:24:11,828 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:11,829 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:11,829 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:11,829 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:11,829 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:12,380 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:12 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:12 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50056'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=497'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:12,381 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.25196%2C-97.746725&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 09:24:12,381 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:12,551 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:12,552 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:12,552 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:12,553 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.25196,-97.746725', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 09:24:12,555 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5-HlG2zqb8yROT_wqvcTmmyjYOW3FAuOCaVOntsauie1TRG9KqvQz-2CUozwOmBB5T2ZGfAaE8JXfmgGjGHdfBTfqob-CN2JbrPDcfE-Gs57PIwDmNeQD2f0qhrk8Mu57CMZjvhT9gLsr4cMhyjFE4lw-ITQfZSzOMMAAjPiAkqftD3O8ob1iyEstCW7-8kKZHo7twu8x8DI3_fAeIeM2W1V5OLRUvXQNAP2iCJJKQgBJikGmOxzkzSCZRSkbgTmMiyIHkKAvM955MoQoqXqAuOWa0LyJ99z7VabZCJnhNC0kdUVtZTHhaWIw7aTJimGKye8g0AtEQh8kgR00Z5sOke_cv-YFytwoEbuW8k8ClNQ1wt3o4dXBZWKiEzSrPGEgnJRvQ86X1DaszQgpO0rJkDPuybgQFUY_JnuAuACLrs4QBGVGIAE7LByZyxCHNA7
2025-11-20 09:24:12,555 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:12,555 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:12,556 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:12,556 [INFO] seed_city - [SeedCity] Charger ch_1a704bdb4c7d category 'coffee': Found 10 places
2025-11-20 09:24:12,571 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:12,700 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10766c5e0>
2025-11-20 09:24:12,700 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4120> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:12,782 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076c3460>
2025-11-20 09:24:12,783 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:12,783 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:12,784 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:12,784 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:12,784 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:13,032 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:12 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4005'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=120'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:13,034 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.25196%2C-97.746725&destinations=30.26447%2C-97.74377%7C30.2612339%2C-97.75786389999999%7C30.26587%2C-97.74643999999999%7C30.24218479999999%2C-97.7589562%7C30.26546%2C-97.74043999999999%7C30.25224%2C-97.7636%7C30.26554%2C-97.73837999999999%7C30.23371%2C-97.74239999999999%7C30.26977999999999%2C-97.75390999999999%7C30.2424%2C-97.72740999999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:13,035 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:13,036 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:13,036 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:13,037 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:13,038 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:13,038 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:13,141 [INFO] seed_city - [SeedCity] Charger ch_1a704bdb4c7d: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 09:24:13,141 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.25196 lng=-97.746725 type=restaurant radius=1000
2025-11-20 09:24:13,155 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:13,253 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d0970>
2025-11-20 09:24:13,254 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4040> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:13,331 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076c3820>
2025-11-20 09:24:13,332 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:13,332 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:13,332 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:13,332 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:13,332 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:14,080 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:14 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:14 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50673'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=675'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:14,082 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.25196%2C-97.746725&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 09:24:14,082 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:14,148 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:14,149 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:14,149 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:14,151 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.25196,-97.746725', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 09:24:14,153 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5aBh1hPK7Iyuvc4Tc_1Uib0sdDNVoX4kmGdrkKkGwl9LCmVf7QJVVz2l7nqoxyeo3vq1beYWoPSTXILO7CvDhpj_CgZhYf2U_MXjBkOcaczMT32y0Em2vPuMaNNObmtw14rVhU8oVsj_QiF05hWKdS1t08ZD2IyE_EPTKdYDmOOb7XuQ5VhArSjqErBwv4oIrAg0FERpG05Ve33PxGyNuW3a63E7DihoAlSM9x96CTyFO3gpHw2PaT6z9Nx6C2IqgXnxTXELeLTgSfbwMZakXkxQ9A1SQlZQ1kZF1hmN8xUJ3eFrcadTuu92s2sJ-FVrywCxN9vecFYmLDGSb3YUkzzZivMlYqfb_yMiOcCW296d8SWFpPIWm4zEpbtLSlMuZNYsqNj9UVeAUf2eWd-nOtflRATzVNjowfa1oHq9W9T7naew3rn2_Wn-SB87V510
2025-11-20 09:24:14,153 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:14,154 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:14,154 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:14,155 [INFO] seed_city - [SeedCity] Charger ch_1a704bdb4c7d category 'food': Found 10 places
2025-11-20 09:24:14,168 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:14,270 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10766c9a0>
2025-11-20 09:24:14,270 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x108876ba0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:14,374 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x107671730>
2025-11-20 09:24:14,375 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:14,376 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:14,376 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:14,376 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:14,376 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:14,604 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:14 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4058'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=110'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:14,605 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.25196%2C-97.746725&destinations=30.25331539999999%2C-97.74802439999999%7C30.2534769%2C-97.74788769999999%7C30.2515845%2C-97.74915469999999%7C30.2507632%2C-97.7490086%7C30.24995849999999%2C-97.7500913%7C30.2494868%2C-97.7555656%7C30.24445649999999%2C-97.7519537%7C30.2465449%2C-97.7567582%7C30.2627011%2C-97.74157629999999%7C30.2645913%2C-97.74389&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:14,606 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:14,607 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:14,607 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:14,607 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:14,608 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:14,609 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:14,614 [ERROR] seed_city - Error processing category food for charger ch_1a704bdb4c7d: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJDfhk1ja1RIYR3NIISvjn88k', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJDfhk1ja1RIYR3NIISvjn88k', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:24:14,622 [INFO] seed_city - [SeedCity] Charger ch_1a704bdb4c7d: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 09:24:14,622 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.25196 lng=-97.746725 type=supermarket radius=1000
2025-11-20 09:24:14,637 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:14,671 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c0160>
2025-11-20 09:24:14,671 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a87b0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:14,745 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c12b0>
2025-11-20 09:24:14,745 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:14,746 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:14,746 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:14,746 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:14,746 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:15,221 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:15 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:15 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=429'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:15,222 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.25196%2C-97.746725&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 09:24:15,223 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:15,320 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:15,320 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:15,320 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:15,321 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.25196,-97.746725', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 09:24:15,322 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2643126, "lng": -97.7340971}, "viewport": {"northeast": {"lat": 30.26576902989272, "lng": -97.73269037010728}, "southwest": {"lat": 30.26306937010727, "lng": -97.73539002989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcar
2025-11-20 09:24:15,322 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 09:24:15,322 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:15,323 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:15,323 [INFO] seed_city - [SeedCity] Charger ch_1a704bdb4c7d category 'groceries': Found 7 places
2025-11-20 09:24:15,335 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:15,374 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e23d0>
2025-11-20 09:24:15,375 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8d60> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:15,459 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2b50>
2025-11-20 09:24:15,460 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:15,461 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:15,461 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:15,461 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:15,461 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:15,655 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:15 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3003'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=62'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:15,656 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.25196%2C-97.746725&destinations=30.2643126%2C-97.7340971%7C30.2706339%2C-97.753587%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:15,657 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:15,658 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:15,658 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:15,659 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:15,659 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:15,660 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:15,766 [INFO] seed_city - [SeedCity] Charger ch_1a704bdb4c7d: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 09:24:15,766 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.25196 lng=-97.746725 type=gym radius=1000
2025-11-20 09:24:15,781 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:15,870 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b3400>
2025-11-20 09:24:15,870 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8ba0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:15,945 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10766b430>
2025-11-20 09:24:15,945 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:15,946 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:15,946 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:15,946 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:15,947 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:16,576 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:16 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:16 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'46501'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=594'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:16,577 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.25196%2C-97.746725&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 09:24:16,577 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:16,705 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:16,705 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:16,706 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:16,707 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.25196,-97.746725', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 09:24:16,709 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4ErprIYX4vUaXj7ptjnkNh_--7U2l8HtYbxDtE4m3_OLfmzPQaPHfT3H57-HwvSKPmpKygjA4lIgBW1l_3Ys2sVpYfYUXqTI4t62cGbF3A3UYqnLzQUzEa2WUmFT_aOqx5y4pz6Lu1aBbdxrq93I8AKewk2t6hoON5IOUDLEkBibC2MIhaYqPv2PjCpkqxaftzUpqtt5GldILH31Uc9jrJSwwlq1E-hasHZLAOYT2CefEw0wR9x2licTgvTEiSaNR0XM7I0eUkM5CJQW1H8tNAqGR7pwSXPRzaa1iXpS8jzI7aIqDk5hnV9SSyLTD3I8a6ZhbEv8IaQOUZRj8U-48sndnbW4aS9v688DmZP1_SDOmOanXnBpac6og878XxZcbNs1PjamqnTJuNOLN4W75st--I6x5LuIDwGFaEIjUtpfhGhTqsxuB8K1Yhzl1y0l
2025-11-20 09:24:16,709 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:16,709 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:16,710 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:16,710 [INFO] seed_city - [SeedCity] Charger ch_1a704bdb4c7d category 'gym': Found 10 places
2025-11-20 09:24:16,723 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:16,772 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bea60>
2025-11-20 09:24:16,772 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8e40> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:16,956 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d0280>
2025-11-20 09:24:16,967 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:16,969 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:16,970 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:16,971 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:16,971 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:17,059 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:17 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4037'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=38'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:17,061 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.25196%2C-97.746725&destinations=30.2527893%2C-97.7470176%7C30.2539864%2C-97.74764719999999%7C30.2491111%2C-97.754976%7C30.2523341%2C-97.73199509999999%7C30.2552863%2C-97.7610763%7C30.2569738%2C-97.7604266%7C30.243991%2C-97.758557%7C30.2655709%2C-97.7479626%7C30.2628555%2C-97.7585568%7C30.2374709%2C-97.7420734&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:17,061 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:17,062 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:17,062 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:17,062 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:17,063 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:17,063 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:17,065 [ERROR] seed_city - Error processing category gym for charger ch_1a704bdb4c7d: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJRyA9Prm1RIYRkcXgiptky_U', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJRyA9Prm1RIYRkcXgiptky_U', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:24:17,066 [WARNING] seed_city - No merchants found for charger Hotel Saint Cecilia - Tesla Destination
2025-11-20 09:24:17,091 [INFO] seed_city - [SeedCity] Charger ch_6bf7d02f695d: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 09:24:17,092 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256815 lng=-97.748988 type=cafe radius=1000
2025-11-20 09:24:17,110 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:17,254 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d0160>
2025-11-20 09:24:17,254 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1077284a0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:17,416 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bed30>
2025-11-20 09:24:17,416 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:17,417 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:17,417 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:17,418 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:17,418 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:17,941 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:17 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:17 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50088'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=483'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:17,942 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256815%2C-97.748988&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 09:24:17,942 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:18,004 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:18,005 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:18,005 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:18,006 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256815,-97.748988', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 09:24:18,007 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4fN5w9zhsLCgjCeUzYXszt3tRTK8VEFJJRv2oZjv1E7zIc6iYnmslO2wYG0nMLUNSQz34Km3sN3I3KT-xjDY7MKhlEpa5PCaF7UNTjpDdLXLIcaN9WoNSWHdJ23GkOgPS2MjVJyALE4dPD2cqiq8VvxkPfWfcGGdzgtKDtwmfCnoV4fotwKHENlpSSPU5NrCVlQ4NhBlVEZOZ1ZwcwvMrHuq2dBkozOLKeGkAqk9G-aRTMxWfPCu4gYnqTuTyo8wc0WfqPpyM-MF-HG6kQh9fGpcgrmf3W1fPiOSBKsSHnayMru2NBVQB80dFD5pICwc0WkoNYIKw8S_myR-dP34cur5XUC1sSbWyT-AKsiblnSdiXXVrDH04GkBE-0TjxLAeyoHe-ERM9Vp4C6GCstYyiXrKckX_6nqycK-9bbxh8MQL5nGBdndiRFroWlscf8g
2025-11-20 09:24:18,007 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:18,007 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:18,008 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:18,008 [INFO] seed_city - [SeedCity] Charger ch_6bf7d02f695d category 'coffee': Found 10 places
2025-11-20 09:24:18,012 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:18,049 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1074fb910>
2025-11-20 09:24:18,050 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x10778af90> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:18,120 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b3d90>
2025-11-20 09:24:18,122 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:18,122 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:18,123 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:18,123 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:18,123 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:18,274 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:18 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3999'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=91'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:18,275 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256815%2C-97.748988&destinations=30.2510458%2C-97.74937170000001%7C30.2612339%2C-97.75786389999999%7C30.26447%2C-97.74377%7C30.26587%2C-97.74643999999999%7C30.26546%2C-97.74043999999999%7C30.26554%2C-97.73837999999999%7C30.25224%2C-97.7636%7C30.26977999999999%2C-97.75390999999999%7C30.24218479999999%2C-97.7589562%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:18,275 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:18,276 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:18,276 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:18,276 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:18,277 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:18,277 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:18,379 [INFO] seed_city - [SeedCity] Charger ch_6bf7d02f695d: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 09:24:18,380 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256815 lng=-97.748988 type=restaurant radius=1000
2025-11-20 09:24:18,394 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:18,490 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2f40>
2025-11-20 09:24:18,490 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4120> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:18,571 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b37c0>
2025-11-20 09:24:18,572 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:18,572 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:18,573 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:18,573 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:18,573 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:19,321 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:19 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:19 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'46704'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=663'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:19,322 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256815%2C-97.748988&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 09:24:19,323 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:19,386 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:19,386 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:19,387 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:19,388 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256815,-97.748988', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 09:24:19,388 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5Jk9hCDX1mC4plPUe-YC27Eu-zjwOC6hfmVnEEXgjljUIKtGQTTYHHx8pGJzEQrdlCYQyZ6tRQmoJiniSTRknpWVasY9Ehc8tvgCL9KWohIhXe1XlHBqtfvnjailUeNy2jHwmkRxd8PE8QWk8lb07o9wzWoiI_QeMsFEumT-FViy82-k3uyM7dEpTCuyk7BJk_CYaXzepp4RlOfzOg95hd20A7ZoYQ-IAemxhw_TstIZ4W3D9zAz7GgVY8X2tQGq8UrIKYSBsqBZFXG-yTEJot81xt066XMjqOCIOuX_HF0J_eX8U9hnvA5r7jlQMyIpXv9G5wLh3mFpVDBikau_jYWBgJKYmmezhec50UBcFPU4CiI9RQiM6ET-nNEZVJBVUw9gGLGmnu-Ns-Z-C4F47rgtakQTfejJvJ30mkncIapwtAfrSiL2_kLmwmfdKkn4
2025-11-20 09:24:19,388 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:19,389 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:19,389 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:19,389 [INFO] seed_city - [SeedCity] Charger ch_6bf7d02f695d category 'food': Found 10 places
2025-11-20 09:24:19,394 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:19,512 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c0400>
2025-11-20 09:24:19,512 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8c10> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:19,615 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c0220>
2025-11-20 09:24:19,616 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:19,617 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:19,617 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:19,617 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:19,617 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:19,847 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:19 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4048'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=130'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:19,848 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256815%2C-97.748988&destinations=30.2534769%2C-97.74788769999999%7C30.25331539999999%2C-97.74802439999999%7C30.2526168%2C-97.7476959%7C30.2635186%2C-97.74358%7C30.2627011%2C-97.74157629999999%7C30.2656068%2C-97.7483158%7C30.2656938%2C-97.7485706%7C30.2645913%2C-97.74389%7C30.26005739999999%2C-97.7392578%7C30.263486%2C-97.74173479999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:19,849 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:19,850 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:19,850 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:19,850 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:19,851 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:19,851 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:19,952 [INFO] seed_city - [SeedCity] Charger ch_6bf7d02f695d: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 09:24:19,952 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256815 lng=-97.748988 type=supermarket radius=1000
2025-11-20 09:24:19,966 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:20,070 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10766cd30>
2025-11-20 09:24:20,071 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8970> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:20,159 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c0790>
2025-11-20 09:24:20,160 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:20,161 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:20,161 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:20,161 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:20,162 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:20,691 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:20 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:20 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=486'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:20,693 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256815%2C-97.748988&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 09:24:20,693 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:20,723 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:20,724 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:20,724 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:20,725 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256815,-97.748988', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 09:24:20,725 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 09:24:20,726 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 09:24:20,726 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:20,726 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:20,726 [INFO] seed_city - [SeedCity] Charger ch_6bf7d02f695d category 'groceries': Found 7 places
2025-11-20 09:24:20,733 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:20,769 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d74c0>
2025-11-20 09:24:20,770 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8cf0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:20,930 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d7df0>
2025-11-20 09:24:20,931 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:20,932 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:20,932 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:20,932 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:20,932 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:21,048 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:21 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3009'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=75'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:21,049 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256815%2C-97.748988&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:21,050 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:21,051 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:21,051 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:21,051 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:21,052 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:21,052 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:21,154 [INFO] seed_city - [SeedCity] Charger ch_6bf7d02f695d: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 09:24:21,154 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256815 lng=-97.748988 type=gym radius=1000
2025-11-20 09:24:21,164 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:21,219 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c7910>
2025-11-20 09:24:21,219 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a87b0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:21,416 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x107625610>
2025-11-20 09:24:21,416 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:21,417 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:21,417 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:21,418 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:21,418 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:21,955 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:21 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:21 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'46656'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=466'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:21,956 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256815%2C-97.748988&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 09:24:21,957 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:22,037 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:22,037 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:22,038 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:22,039 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256815,-97.748988', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 09:24:22,040 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5ISDnZneSlWa8Y0WXkojpVoPTl1NhbSc2s9GP7PGv2ap5_Fwb7m5kZ_s4CkvtUrHhgnTDvpk7ezf8hwcqQuqoORIRzaFc1HGWSy8c4ACHNS90372C_8i5JE0EmR6H-EBg6RuI9LDK0jhZedn1932daQAzLEs6qXNlJdmpPiqxRzkgE91daWAy3xXDP3kPrBGScglpYEsmMxzTYActNI1sg7q6Tmf2sbIQ8kakngvoDk9LRi1zTKBCq-NFllUYnSv_FLqsgp9twkQyFmL-0gSapGq8sePCIDWZndXGBe4RxCcOKi-6JYGF-HQL3mqy3xXWlHJyxmgOzRUHnDMc5gCiznEIJlUuOuVIvlGuMaKPRSRRu0KAaEDxjzglsf9TZYrueaJZ5baabWeRD9Oc6_wXTZY3gY1DJBXuvXpS-ypUaTCl6OzmXvTS_L7MZHhNc1F
2025-11-20 09:24:22,041 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:22,041 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:22,041 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:22,041 [INFO] seed_city - [SeedCity] Charger ch_6bf7d02f695d category 'gym': Found 10 places
2025-11-20 09:24:22,047 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:22,085 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x107671d90>
2025-11-20 09:24:22,086 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4120> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:22,165 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d78e0>
2025-11-20 09:24:22,165 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:22,166 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:22,166 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:22,166 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:22,167 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:22,315 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:22 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4019'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=111'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:22,316 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256815%2C-97.748988&destinations=30.2539864%2C-97.74764719999999%7C30.2527893%2C-97.7470176%7C30.260628%2C-97.741897%7C30.2655709%2C-97.7479626%7C30.2569738%2C-97.7604266%7C30.2628555%2C-97.7585568%7C30.2552863%2C-97.7610763%7C30.267006%2C-97.7416592%7C30.2682716%2C-97.75482730000002%7C30.2692988%2C-97.7440922&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:22,316 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:22,316 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:22,316 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:22,316 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:22,316 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:22,317 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:22,418 [WARNING] seed_city - No merchants found for charger PIE AE OTC 3FL PKGSTA1
2025-11-20 09:24:22,421 [INFO] seed_city - [SeedCity] Charger ch_fd707fef47fc: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 09:24:22,421 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256863 lng=-97.748959 type=cafe radius=1000
2025-11-20 09:24:22,424 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:22,508 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076deb80>
2025-11-20 09:24:22,509 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1077284a0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:22,622 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088ce820>
2025-11-20 09:24:22,623 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:22,624 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:22,624 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:22,624 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:22,624 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:23,110 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:23 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:23 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50028'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=438'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:23,111 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256863%2C-97.748959&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 09:24:23,111 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:23,199 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:23,199 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:23,199 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:23,201 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256863,-97.748959', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 09:24:23,202 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4b0u-dAL74d3FzUWUR7mRRXgvdK33mxaLdg6wf0gZFo3TOgZpAaUUhXlR0PShptS5_YplN3GljcvLwNmLNMrEN0bFZQGK7qAx9OkHpuJ8n-M5JPMm3kif2whFepji_gx2LG_K2bAItjCXDz5nDf5Dd7rqp7b1pW6FNl7S9HRZ5KokuYyx1ZCW16x0JZyNdkc-19qgoL-836ejJsUwwEbkeouZVx4BY0RXO1kxV7K55gaVyhFYJ1amDWzwWT7A9N9VnQWBqWPhMf8AhmzAMsZPn6yvkwnMJFJChCELauSVS7lWZuqTe-gqj2GV5taGjO_PqkG-r6yEtkpBPk0tvtWidjGXCT-j9g17f9WmThsBknuWs1bDB5hGbCIr-o4aZMw_YBxRazgo84vtukA5A-dpw20cdP1lX6McxG09Lf0_4MBCG0zMAGUmn7sxxMF7f7N
2025-11-20 09:24:23,202 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:23,203 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:23,203 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:23,203 [INFO] seed_city - [SeedCity] Charger ch_fd707fef47fc category 'coffee': Found 10 places
2025-11-20 09:24:23,210 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:23,247 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2e80>
2025-11-20 09:24:23,247 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x108876ba0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:23,331 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c0460>
2025-11-20 09:24:23,332 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:23,333 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:23,333 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:23,333 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:23,333 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:23,515 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:23 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4008'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=127'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:23,516 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256863%2C-97.748959&destinations=30.26447%2C-97.74377%7C30.2612339%2C-97.75786389999999%7C30.26587%2C-97.74643999999999%7C30.26546%2C-97.74043999999999%7C30.26554%2C-97.73837999999999%7C30.25224%2C-97.7636%7C30.26977999999999%2C-97.75390999999999%7C30.2691051%2C-97.74037589999999%7C30.24218479999999%2C-97.7589562%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:23,516 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:23,517 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:23,517 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:23,517 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:23,517 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:23,518 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:23,619 [INFO] seed_city - [SeedCity] Charger ch_fd707fef47fc: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 09:24:23,619 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256863 lng=-97.748959 type=restaurant radius=1000
2025-11-20 09:24:23,629 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:23,662 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bbcd0>
2025-11-20 09:24:23,662 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8dd0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:23,736 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c0580>
2025-11-20 09:24:23,737 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:23,737 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:23,738 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:23,738 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:23,738 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:24,357 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:24 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:24 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49584'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=575'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:24,358 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256863%2C-97.748959&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 09:24:24,358 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:24,419 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:24,419 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:24,419 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:24,420 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256863,-97.748959', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 09:24:24,421 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7VHu4vZ0-NXAI1AgsxJAP_doifSZI0qMivRTFZp85vXmg6K5strmMCX_QRUTKcPHAptui78-yGRYk3pI-L2ENOKV7Sj6P-ZXHaNRLOzD145kug7qtL2ppS3XqQCTmdozO-OkuKEpSCP3XH8fRnyVUEOcAwViBcZN8gwpj8ZW4fu_4xus5WodCJ8FqiyWGItCpk2xO73qWWCaMS95Zleo0drjJ9f2ETmnHFIg6vmN7bx6Pac4fkyUrLYdpujoZFO7sHvsOwTgVcDF-a1dSH4MRsNFZkZ1a7452cphDaAUMnLqiN_paBGSex5tQqqsIs8jBNyxQSVeeimc9CuX9ZCVR10lW9m9TbfWEqZEffkAq4jdM1VQo6LJ1iMMZMC1qH1ibBGqQcuKTx47Y7uWgeqaZCTesthLwKxFX3SwrhQfefTyBgLmxlQ_gOgpDsYLg1F-
2025-11-20 09:24:24,421 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:24,422 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:24,422 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:24,422 [INFO] seed_city - [SeedCity] Charger ch_fd707fef47fc category 'food': Found 10 places
2025-11-20 09:24:24,426 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:24,464 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d04c0>
2025-11-20 09:24:24,465 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8c10> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:24,606 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b34c0>
2025-11-20 09:24:24,606 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:24,607 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:24,607 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:24,607 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:24,608 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:24,683 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:24 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4048'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=37'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:24,684 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256863%2C-97.748959&destinations=30.2534769%2C-97.74788769999999%7C30.25331539999999%2C-97.74802439999999%7C30.2526168%2C-97.7476959%7C30.2635186%2C-97.74358%7C30.2627011%2C-97.74157629999999%7C30.2656068%2C-97.7483158%7C30.2656938%2C-97.7485706%7C30.2645913%2C-97.74389%7C30.26005739999999%2C-97.7392578%7C30.263486%2C-97.74173479999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:24,685 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:24,686 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:24,686 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:24,686 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:24,687 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:24,687 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:24,789 [INFO] seed_city - [SeedCity] Charger ch_fd707fef47fc: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 09:24:24,789 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256863 lng=-97.748959 type=supermarket radius=1000
2025-11-20 09:24:24,799 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:24,844 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d5730>
2025-11-20 09:24:24,844 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8ba0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:24,954 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076dec10>
2025-11-20 09:24:24,955 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:24,956 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:24,956 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:24,957 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:24,957 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:25,616 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:25 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:25 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=523'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:25,616 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256863%2C-97.748959&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 09:24:25,617 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:25,662 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:25,663 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:25,663 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:25,664 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256863,-97.748959', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 09:24:25,664 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 09:24:25,664 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 09:24:25,664 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:25,665 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:25,665 [INFO] seed_city - [SeedCity] Charger ch_fd707fef47fc category 'groceries': Found 7 places
2025-11-20 09:24:25,669 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:25,701 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2a60>
2025-11-20 09:24:25,701 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x108876ba0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:25,791 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088be8e0>
2025-11-20 09:24:25,792 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:25,793 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:25,793 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:25,794 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:25,794 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:25,910 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:25 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3009'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=74'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:25,911 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256863%2C-97.748959&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:25,911 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:25,912 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:25,912 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:25,912 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:25,913 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:25,913 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:26,014 [INFO] seed_city - [SeedCity] Charger ch_fd707fef47fc: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 09:24:26,014 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256863 lng=-97.748959 type=gym radius=1000
2025-11-20 09:24:26,024 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:26,138 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c0160>
2025-11-20 09:24:26,138 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x10778af90> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:26,245 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088beaf0>
2025-11-20 09:24:26,246 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:26,246 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:26,247 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:26,247 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:26,247 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:27,000 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:26 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:26 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'44429'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=653'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:27,001 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256863%2C-97.748959&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 09:24:27,002 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:27,189 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:27,189 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:27,190 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:27,191 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256863,-97.748959', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 09:24:27,192 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU6VGWrTmN6C_d-k5sJ97OYXEC8XSE8tBzAfdeZlC1JFuIgjMf19Ixxa_8izMOHyeuCOAzOqdwJY71LuSUaYWxYeWuDoDJPWG9qbTm4G41ciAeoyKZaxoDgA_wG7KqiY863PJOxU9NL-Q_74TO4_croQspuCtQcmtsqZiyLS5PuPKVLffIbo2VKn7bZfBALi741YWSbVF0Pu-M_30lc_9R4lldvSIeOc7cF-nICP-Qx2w9DKoZ9GzRqTWmFsX-hptdkuuJo3zwhQaIcWeRPlnQdVIYMAvGK1KOxJ8q8jAogiQETWYNULHlLlieZzvsHTbVjFsUwHI70f939ya-zjIbSWD311HeWw4yiBYJ2jYHr_3ndvj_s2R_degLjD74Ixt9UkWM5mG-UvJF5GECWfzL79ezKVoiXmhOOcRjoLyjxy5HI9BGJZIpxWGM23bwOfbr
2025-11-20 09:24:27,192 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:27,192 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:27,193 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:27,193 [INFO] seed_city - [SeedCity] Charger ch_fd707fef47fc category 'gym': Found 10 places
2025-11-20 09:24:27,199 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:27,234 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x107671e80>
2025-11-20 09:24:27,234 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8970> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:27,316 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076c3ca0>
2025-11-20 09:24:27,317 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:27,317 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:27,318 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:27,318 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:27,318 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:27,465 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:27 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4056'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=110'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:27,466 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256863%2C-97.748959&destinations=30.2539864%2C-97.74764719999999%7C30.2527893%2C-97.7470176%7C30.260628%2C-97.741897%7C30.2645444%2C-97.7465503%7C30.2655709%2C-97.7479626%7C30.2491111%2C-97.754976%7C30.2569738%2C-97.7604266%7C30.2628555%2C-97.7585568%7C30.2666246%2C-97.7530981%7C30.2549179%2C-97.7608004&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:27,466 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:27,467 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:27,467 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:27,468 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:27,468 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:27,469 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:27,570 [WARNING] seed_city - No merchants found for charger PIE AE OTC 3FL PKGSTA2
2025-11-20 09:24:27,574 [INFO] seed_city - [SeedCity] Charger ch_31288606ab6a: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 09:24:27,575 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256917 lng=-97.749169 type=cafe radius=1000
2025-11-20 09:24:27,582 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:27,711 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c10d0>
2025-11-20 09:24:27,712 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8eb0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:27,821 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076c3460>
2025-11-20 09:24:27,822 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:27,822 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:27,823 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:27,823 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:27,823 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:28,456 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:28 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:28 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50028'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=576'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:28,456 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256917%2C-97.749169&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 09:24:28,456 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:28,573 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:28,573 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:28,574 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:28,575 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256917,-97.749169', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 09:24:28,576 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7nghsnnK5Fh87lBLUh1CXXAYFHBdgUNbKKu_FXAt9T2FUT0UriLPnJuv8MIRIF6ggIJklIiO5a2AyAx8kuyFjFslufSQTB2yiSDs6UcJBooDW9_RIjopP-As392dVhXftf7QuL8MhD4fX4IpQE14VUM4ztLBPYPva8RmONeq1aF8resE8ThGDdJ11eVHQTv9wtnrLfi5dy92Hr4I5vMib3seburhzZVpC7CEFKuDtizA1SHRykd5TXoiRZj8YmvMcHG3zvGZqB-439shPoilckzjuV_8Acj8HhdFcDPKATP2lGRYN8ZxTO5aMa_d2GGDHSDnFihDuyo5ika_-KMOhJOxDB3OGgP12HgXrllP5AKYm6cJBF5LbvgY8mLfpTQxOv23fezy2NiI1jTRAyiV_1gvdau7vJBrrCZvwBnI8bwZxn9MJVUucKk2uAXxHJ-j
2025-11-20 09:24:28,576 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:28,577 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:28,577 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:28,577 [INFO] seed_city - [SeedCity] Charger ch_31288606ab6a category 'coffee': Found 10 places
2025-11-20 09:24:28,585 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:28,624 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b3340>
2025-11-20 09:24:28,625 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8ac0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:28,724 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b3580>
2025-11-20 09:24:28,724 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:28,725 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:28,725 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:28,725 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:28,725 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:28,843 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:28 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4008'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=79'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:28,844 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256917%2C-97.749169&destinations=30.2612339%2C-97.75786389999999%7C30.26447%2C-97.74377%7C30.26587%2C-97.74643999999999%7C30.26546%2C-97.74043999999999%7C30.26554%2C-97.73837999999999%7C30.25224%2C-97.7636%7C30.26977999999999%2C-97.75390999999999%7C30.2691051%2C-97.74037589999999%7C30.24218479999999%2C-97.7589562%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:28,845 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:28,845 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:28,846 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:28,846 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:28,847 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:28,847 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:28,948 [INFO] seed_city - [SeedCity] Charger ch_31288606ab6a: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 09:24:28,949 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256917 lng=-97.749169 type=restaurant radius=1000
2025-11-20 09:24:28,965 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:29,009 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c76a0>
2025-11-20 09:24:29,009 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8c80> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:29,114 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10766ca30>
2025-11-20 09:24:29,115 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:29,116 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:29,116 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:29,117 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:29,117 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:29,668 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:29 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:29 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49584'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=500'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:29,669 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256917%2C-97.749169&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 09:24:29,670 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:29,757 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:29,757 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:29,758 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:29,759 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256917,-97.749169', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 09:24:29,760 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5GJ_p_Ew1qRUQDk1tJ3JZ0DdqRUFlRHGl6QGaXC3PrcTtn355g7WiDxbkzWnbfDljWdwZC76NFsrv05_nn5VszyWL459hbhdKiTDS9pIa28jOGm5Jm8U9q98frmZnFPMn6tmOKjmX_JoObMeg7U_MNw4Us8_I_Bg0qX9qYItB_J1J3ZvpJKC5xnRGOFIzPd-JickL9YO-YeMr8NPCAWepBsVATIPFK-j4VIWkaEMXiYeUXWwpzwX-d2S2aCWxApX9pG08_v3emruMX26ofRxE-UxXROfkUzqwvWyXfdG0pdhwfUIFb-wrbDIUmVaaXrk5iz_6nz_Ct0Ut79MjzOwzn9knysdqlBdq0Vl_rqkn8i0KtlbS9zvT3_9zaYitbitLPOOn-Z85eFmZPGeSybezn38HKLf8_QjwxQCxI-thrTWUX5IAGjSJ8Hv8HxtXOsK
2025-11-20 09:24:29,760 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:29,760 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:29,761 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:29,761 [INFO] seed_city - [SeedCity] Charger ch_31288606ab6a category 'food': Found 10 places
2025-11-20 09:24:29,766 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:29,802 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d78b0>
2025-11-20 09:24:29,802 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x108876ba0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:29,884 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d0370>
2025-11-20 09:24:29,885 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:29,885 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:29,886 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:29,886 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:29,886 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:29,999 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:30 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4052'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=72'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:30,001 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256917%2C-97.749169&destinations=30.2534769%2C-97.74788769999999%7C30.25331539999999%2C-97.74802439999999%7C30.2526168%2C-97.7476959%7C30.2635186%2C-97.74358%7C30.2656068%2C-97.7483158%7C30.2627011%2C-97.74157629999999%7C30.2656938%2C-97.7485706%7C30.2645913%2C-97.74389%7C30.26005739999999%2C-97.7392578%7C30.2660503%2C-97.7501571&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:30,001 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:30,002 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:30,002 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:30,003 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:30,003 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:30,003 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:30,105 [INFO] seed_city - [SeedCity] Charger ch_31288606ab6a: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 09:24:30,106 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256917 lng=-97.749169 type=supermarket radius=1000
2025-11-20 09:24:30,116 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:30,173 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c1250>
2025-11-20 09:24:30,173 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x10778af90> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:30,286 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c7100>
2025-11-20 09:24:30,286 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:30,287 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:30,287 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:30,287 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:30,287 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:30,686 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:30 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:30 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=348'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:30,687 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256917%2C-97.749169&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 09:24:30,687 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:30,730 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:30,731 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:30,731 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:30,731 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256917,-97.749169', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 09:24:30,732 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 09:24:30,732 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 09:24:30,732 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:30,732 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:30,732 [INFO] seed_city - [SeedCity] Charger ch_31288606ab6a category 'groceries': Found 7 places
2025-11-20 09:24:30,737 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:30,778 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076710a0>
2025-11-20 09:24:30,778 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8820> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:30,856 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088ceee0>
2025-11-20 09:24:30,857 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:30,858 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:30,858 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:30,858 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:30,858 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:30,967 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:31 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3009'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=69'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:30,968 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256917%2C-97.749169&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:30,968 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:30,969 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:30,969 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:30,969 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:30,970 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:30,970 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:31,071 [INFO] seed_city - [SeedCity] Charger ch_31288606ab6a: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 09:24:31,072 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256917 lng=-97.749169 type=gym radius=1000
2025-11-20 09:24:31,081 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:31,135 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c0970>
2025-11-20 09:24:31,135 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8dd0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:31,245 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bbee0>
2025-11-20 09:24:31,246 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:31,246 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:31,246 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:31,246 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:31,246 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:31,927 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:31 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:31 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47309'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=623'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:31,928 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256917%2C-97.749169&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 09:24:31,928 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:32,016 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:32,016 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:32,016 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:32,017 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256917,-97.749169', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 09:24:32,018 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU6wrMPV3iaeakHU7d290Qz-SPbfPdDHKBgJe8THdAOimrbx21m87pKBn3OEgqdqyLGw5iGqW6Y_3UrIMIMofJkETxMX5uvFru5oS5EtMYlas0pQaDws7tuKdt6Tlb8J5oNyap7mbai0AsU26CrYemJxBNJNANzEn9JM1YezZNMAlyZei5CBtXQh4hpewX7t2jJsbozyo-LgH5NuUrj2SeoHz3VzTSYbwUyW9TkWqumI0IIElUhoE_PhfxOUeBwdRRSqhZeD6g4o5Rh0zUJTe_giHPSHencWNsDdFIiJLP-_d64pNkLNxdZbr5qMOBkAebJzAv-WehsaxMkEzOJz_GH8ifx573ZOPTsyzE_goIY_jhdhlxuFrnB-M2tHWhRk9uhzi_RezQKvuiwcZnkxTnVYTRQP3LV6HEBgj1-9WFlkM6f4LdlkfDrlfZrDmvJSR_
2025-11-20 09:24:32,018 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:32,018 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:32,019 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:32,019 [INFO] seed_city - [SeedCity] Charger ch_31288606ab6a category 'gym': Found 10 places
2025-11-20 09:24:32,026 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:32,074 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2b50>
2025-11-20 09:24:32,074 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8970> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:32,176 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2cd0>
2025-11-20 09:24:32,177 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:32,178 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:32,178 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:32,178 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:32,178 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:32,289 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:32 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4056'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=53'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:32,290 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256917%2C-97.749169&destinations=30.2539864%2C-97.74764719999999%7C30.2527893%2C-97.7470176%7C30.260628%2C-97.741897%7C30.2645444%2C-97.7465503%7C30.2655709%2C-97.7479626%7C30.2491111%2C-97.754976%7C30.2569738%2C-97.7604266%7C30.2628555%2C-97.7585568%7C30.2549179%2C-97.7608004%7C30.2666246%2C-97.7530981&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:32,291 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:32,292 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:32,292 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:32,292 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:32,293 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:32,294 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:32,396 [WARNING] seed_city - No merchants found for charger PIE AE OTC 3FL PKGSTA3
2025-11-20 09:24:32,406 [INFO] seed_city - [SeedCity] Charger ch_61c7a131cb19: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 09:24:32,407 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.25904519386215 lng=-97.74902388453484 type=cafe radius=1000
2025-11-20 09:24:32,414 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:32,453 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e3130>
2025-11-20 09:24:32,453 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4120> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:32,534 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088dbe80>
2025-11-20 09:24:32,534 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:32,534 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:32,535 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:32,535 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:32,535 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:33,147 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:33 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:33 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50324'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=539'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:33,147 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.25904519386215%2C-97.74902388453484&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 09:24:33,148 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:33,221 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:33,222 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:33,222 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:33,223 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.25904519386215,-97.74902388453484', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 09:24:33,224 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7CgW8A3PRF5mx3vlLNsN7Lx3x26F9LJ1K8H-q0UozZbkvuB-qxTUScXpLa-3fyX0GI4Ifj8876QPmi10Rq5ZZ9JxSDXHyZurZ9NjYeI65f5yRoqzCU2pR8cDDvJhXGGVxJS1S0oL_pT5r2BiYEKgS1TaehCGG9BIoEhNw3RTsEpmS2T9TKr8NxAkegKUo1XNx_ohkR3Q5zjyhL-6vslol-EAuSUnMHcHNy90pw7JPGYkLezGdmjwxVR3On5uX41NM2TAi9wImKtpwvt-gLc-0XVAWxCeGWEAPB4uPIHNYuapiI2QkowhCF3wBsg5jp-XweSVhFD-ZY7FYjfSmy1lVdlLBFI3Pd_VgTRaQ2d4MIdP_RZzzvlJy8MKGwtKevUa7DdCbNtbqGqkxRLqpex9BxPzD-A40kw9-aISuhK8hya8rL4Q5NnuD2vq54PN2yHW
2025-11-20 09:24:33,224 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:33,224 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:33,225 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:33,225 [INFO] seed_city - [SeedCity] Charger ch_61c7a131cb19 category 'coffee': Found 10 places
2025-11-20 09:24:33,230 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:33,276 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2e50>
2025-11-20 09:24:33,277 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x108876ba0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:33,383 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1074fb910>
2025-11-20 09:24:33,383 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:33,384 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:33,384 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:33,384 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:33,384 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:33,518 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:33 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4003'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=83'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:33,518 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.25904519386215%2C-97.74902388453484&destinations=30.26447%2C-97.74377%7C30.26587%2C-97.74643999999999%7C30.2612339%2C-97.75786389999999%7C30.26546%2C-97.74043999999999%7C30.26554%2C-97.73837999999999%7C30.26977999999999%2C-97.75390999999999%7C30.2691051%2C-97.74037589999999%7C30.25224%2C-97.7636%7C30.24218479999999%2C-97.7589562%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:33,518 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:33,518 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:33,518 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:33,519 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:33,519 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:33,519 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:33,620 [INFO] seed_city - [SeedCity] Charger ch_61c7a131cb19: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 09:24:33,621 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.25904519386215 lng=-97.74902388453484 type=restaurant radius=1000
2025-11-20 09:24:33,633 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:33,675 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c0ca0>
2025-11-20 09:24:33,675 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8eb0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:33,761 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bed60>
2025-11-20 09:24:33,761 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:33,762 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:33,762 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:33,763 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:33,763 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:34,270 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:34 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:34 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49219'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=465'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:34,272 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.25904519386215%2C-97.74902388453484&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 09:24:34,273 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:34,329 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:34,329 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:34,329 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:34,330 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.25904519386215,-97.74902388453484', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 09:24:34,331 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU6u-nXalNUAxkugGDvZlY6GFwF7Licp2pUAttGy0geafC8A9mmyGcce6eo4OErDgNJCzM0pjTRDVRy4eJGatQzDnbepi0gjl7zNUioVkRNrW8IEeIEMnidVfQHQ8AXMCmERyq31iHYlHs_ygbCSWRR5oMkoxkVY5rWqLMsOhCjCIy4O9LQCcQoyp4M7dHSwUP57LRukTS8l1DIEmuRmNSAIKamNMk2bZwtFAlRpQATzrGSg2KuKVw97TO616UADogExMcbv_Aqp81oCd9x5ckYlPSqthdLgdLgLxgJxXGA8l0EpEHnCD_X45NJi-1TI33VW7lOQ8w34zLrkKx6ImA3uZhG8T3PumQm7ZDnw4_YlWjg6A41eDIn7tJOZ_mGdV5SCUQzhblez-60597fkIaxcXeoUk3WtBRfRQ9T0JFUBkKONiDNx11-14BF9hBzWew
2025-11-20 09:24:34,331 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:34,332 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:34,332 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:34,332 [INFO] seed_city - [SeedCity] Charger ch_61c7a131cb19 category 'food': Found 10 places
2025-11-20 09:24:34,337 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:34,391 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076717c0>
2025-11-20 09:24:34,392 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8cf0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:34,495 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076c3460>
2025-11-20 09:24:34,496 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:34,496 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:34,496 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:34,496 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:34,497 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:34,648 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:34 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4049'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=96'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:34,649 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.25904519386215%2C-97.74902388453484&destinations=30.2534769%2C-97.74788769999999%7C30.25331539999999%2C-97.74802439999999%7C30.2649201%2C-97.7492858%7C30.2635186%2C-97.74358%7C30.2526168%2C-97.7476959%7C30.2656068%2C-97.7483158%7C30.2656938%2C-97.7485706%7C30.2660503%2C-97.7501571%7C30.2645913%2C-97.74389%7C30.2627011%2C-97.74157629999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:34,649 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:34,650 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:34,650 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:34,650 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:34,651 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:34,651 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:34,752 [INFO] seed_city - [SeedCity] Charger ch_61c7a131cb19: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 09:24:34,753 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.25904519386215 lng=-97.74902388453484 type=supermarket radius=1000
2025-11-20 09:24:34,767 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:34,813 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c18b0>
2025-11-20 09:24:34,813 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a87b0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:34,913 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076c3040>
2025-11-20 09:24:34,914 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:34,915 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:34,915 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:34,916 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:34,916 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:35,559 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:35 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:35 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'17837'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=594'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:35,561 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.25904519386215%2C-97.74902388453484&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 09:24:35,561 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:35,601 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:35,602 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:35,602 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:35,603 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.25904519386215,-97.74902388453484', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 09:24:35,604 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 09:24:35,604 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 09:24:35,604 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:35,604 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:35,605 [INFO] seed_city - [SeedCity] Charger ch_61c7a131cb19 category 'groceries': Found 7 places
2025-11-20 09:24:35,617 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:35,654 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d51f0>
2025-11-20 09:24:35,654 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8c10> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:35,726 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b3eb0>
2025-11-20 09:24:35,727 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:35,728 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:35,728 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:35,729 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:35,729 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:35,824 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:35 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3005'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=61'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:35,825 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.25904519386215%2C-97.74902388453484&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:35,826 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:35,827 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:35,827 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:35,828 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:35,828 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:35,829 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:35,930 [INFO] seed_city - [SeedCity] Charger ch_61c7a131cb19: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 09:24:35,931 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.25904519386215 lng=-97.74902388453484 type=gym radius=1000
2025-11-20 09:24:35,945 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:35,982 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b6640>
2025-11-20 09:24:35,982 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x10778af90> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:36,059 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10766c5e0>
2025-11-20 09:24:36,060 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:36,061 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:36,061 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:36,062 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:36,062 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:36,631 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:36 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:36 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'46688'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=455'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:36,632 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.25904519386215%2C-97.74902388453484&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 09:24:36,633 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:36,691 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:36,691 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:36,691 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:36,692 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.25904519386215,-97.74902388453484', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 09:24:36,693 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5i-WYkkOGPcwaEpecyp1F-UF7a45s92hMTlDCYcwshspzflJeudOHeWl4_as7nmYgsHJc_AUbakuw-oRI2Gk0y-KqjVnf9TrbU-ho8zDN9aWLh3HG3AhlHM3aiidSNeraDjTajUwzENxdpPfMqmJEHv5mLmQYR2g9aZGq6U8nKGROJnIlCn8qPo1o24qVUHtGwHqJ0lo9nhheZ-ncECDVu8Tva6x_cqlFGdgJa0pryxgvoGuPXy-5CHzuz-cIEseE3OjqrIWNKBqLciwdBP1GfY9OwwEW5wAlJ2SP1EdCCcL_9wxTohL8b9CW90-PvzCZkxwA93dbAPEqmjts8So842VfS2m0eYniexMloelNmGmZ-yP505j1eMopunQcoUiEw_7qj00qfgwWcHunwgTyjwVGqxmteh7PIE-dBvw-7qFDzHPF02BtteRPus_Hkwa
2025-11-20 09:24:36,693 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:36,693 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:36,693 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:36,693 [INFO] seed_city - [SeedCity] Charger ch_61c7a131cb19 category 'gym': Found 10 places
2025-11-20 09:24:36,705 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:36,740 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d7ee0>
2025-11-20 09:24:36,741 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8c10> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:36,820 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d0e20>
2025-11-20 09:24:36,821 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:36,822 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:36,822 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:36,823 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:36,823 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:36,899 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:36 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4029'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=36'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:36,900 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.25904519386215%2C-97.74902388453484&destinations=30.2539864%2C-97.74764719999999%7C30.260628%2C-97.741897%7C30.2527893%2C-97.7470176%7C30.2655709%2C-97.7479626%7C30.2666246%2C-97.7530981%7C30.2628555%2C-97.7585568%7C30.2569738%2C-97.7604266%7C30.267006%2C-97.7416592%7C30.2682716%2C-97.75482730000002%7C30.2552863%2C-97.7610763&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:36,901 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:36,901 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:36,902 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:36,902 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:36,903 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:36,903 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:37,004 [WARNING] seed_city - No merchants found for charger RiverSouth Garage
2025-11-20 09:24:37,008 [INFO] seed_city - [SeedCity] Charger ch_aadf609d68db: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 09:24:37,008 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259012 lng=-97.747352 type=cafe radius=1000
2025-11-20 09:24:37,016 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:37,052 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c13a0>
2025-11-20 09:24:37,052 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8a50> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:37,129 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b6a30>
2025-11-20 09:24:37,129 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:37,130 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:37,130 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:37,130 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:37,131 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:37,663 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:37 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:37 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50324'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=502'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:37,664 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259012%2C-97.747352&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 09:24:37,665 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:37,728 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:37,729 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:37,729 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:37,730 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259012,-97.747352', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 09:24:37,731 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4u0p0kYl7XVhgoZflOt64g7Ocdz_wikuj6oV26fAtNVyDemTOjUUA-ldXfIerKzNmCUIMImSJi7-N314ZHhHjn0rJmh3ufwRyzlijEu6f4ocw0f2TLmZ8hFZwFpiPvCB11C1glkJ-JBwLOPCIetUe6U0dwGbnDZYZhU_PuuhKNDLr2tDtArTKTSEsCl-BG5-AWjjoH8eVUZUKzF1AhCsywaXWMumN6mjQIlmIHSxJkSfugrZv039hE56CA2lie8aR5irAiHT36vJIcA5jrAhSWpYq4AhfHOSPCMtfojt-Wh-jHWbXUD5eJhiE6shS1PywltqBPZRKo0eK0bXFObIIZXVKcuHwx2Hsar4r49HFWvsEvQuMFYzLJ8W5D26Pn8yf1WxghR9xdnilvCKzvsCjGZIWUj6-bAyq-51gnoV3CZkkYa33aI4sEf84eTuZbUY
2025-11-20 09:24:37,731 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:37,732 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:37,732 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:37,732 [INFO] seed_city - [SeedCity] Charger ch_aadf609d68db category 'coffee': Found 10 places
2025-11-20 09:24:37,744 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:37,776 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bbf10>
2025-11-20 09:24:37,777 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8ac0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:37,847 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bb160>
2025-11-20 09:24:37,847 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:37,848 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:37,848 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:37,849 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:37,849 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:37,977 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:38 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4007'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=88'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:37,978 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259012%2C-97.747352&destinations=30.26447%2C-97.74377%7C30.26587%2C-97.74643999999999%7C30.26546%2C-97.74043999999999%7C30.2612339%2C-97.75786389999999%7C30.26554%2C-97.73837999999999%7C30.2691051%2C-97.74037589999999%7C30.26977999999999%2C-97.75390999999999%7C30.25224%2C-97.7636%7C30.2781%2C-97.74434%7C30.24218479999999%2C-97.7589562&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:37,979 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:37,981 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:37,981 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:37,981 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:37,982 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:37,982 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:38,084 [INFO] seed_city - [SeedCity] Charger ch_aadf609d68db: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 09:24:38,084 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259012 lng=-97.747352 type=restaurant radius=1000
2025-11-20 09:24:38,100 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:38,137 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c0c70>
2025-11-20 09:24:38,137 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8cf0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:38,216 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bbee0>
2025-11-20 09:24:38,217 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:38,217 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:38,217 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:38,217 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:38,218 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:38,769 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:38 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:38 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49444'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=506'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:38,770 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259012%2C-97.747352&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 09:24:38,771 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:38,833 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:38,833 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:38,834 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:38,835 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259012,-97.747352', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 09:24:38,836 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU6XYcYS9l7BXORkDDMsyDUU-3iQlYgeP7xAOoEz-Cxn0aGHzb8pj-bLL_2XsYVPqxrw4So9LnBj-SgbCmWtPEHQLGhz9BnONBvyUu2s-yvTwMegIltDH7wjL2ajBwCJbm2jnmuCoRLIe9EaaN-AXuayQ0faa76aDZSyxkshll8M49vdvhsbeZ1rz5ELV8L0rC5MkybEEjpXx-u3zGOne7C3YN9hg_rl7B5Cxz-bTdqabXHcLJwKSSH73gJ0n9NgirBONq4kXDRstXElwuDdh9vhNM71drA1SuggICKAHZ8C1rQ5IeC1D9Xj08GmbodM-jrtWJkPfTL6jSoBWrZghvd6CZ-G2jKfjOipvGMQGZR8_V5kcfMsDoSa0YtOYGqEKqVw8IV6Dpfms6aFQy6XIGbw1tzroHIqL6CE2FNLSrwJxXvcw5FrAoc4l_gnS0tUpw
2025-11-20 09:24:38,836 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:38,836 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:38,836 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:38,837 [INFO] seed_city - [SeedCity] Charger ch_aadf609d68db category 'food': Found 10 places
2025-11-20 09:24:38,846 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:38,880 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2d60>
2025-11-20 09:24:38,880 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8dd0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:38,956 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2520>
2025-11-20 09:24:38,957 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:38,958 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:38,958 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:38,959 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:38,959 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:39,036 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:39 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4046'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=38'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:39,036 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259012%2C-97.747352&destinations=30.2534769%2C-97.74788769999999%7C30.2635186%2C-97.74358%7C30.25331539999999%2C-97.74802439999999%7C30.2649201%2C-97.7492858%7C30.2627011%2C-97.74157629999999%7C30.2645913%2C-97.74389%7C30.2526168%2C-97.7476959%7C30.263486%2C-97.74173479999999%7C30.2656068%2C-97.7483158%7C30.2656938%2C-97.7485706&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:39,037 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:39,037 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:39,037 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:39,037 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:39,038 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:39,038 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:39,140 [INFO] seed_city - [SeedCity] Charger ch_aadf609d68db: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 09:24:39,140 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259012 lng=-97.747352 type=supermarket radius=1000
2025-11-20 09:24:39,154 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:39,193 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10766cc40>
2025-11-20 09:24:39,193 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x108876ba0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:39,272 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b6d00>
2025-11-20 09:24:39,273 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:39,274 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:39,274 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:39,274 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:39,274 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:39,699 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:39 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:39 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=374'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:39,700 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259012%2C-97.747352&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 09:24:39,700 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:39,739 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:39,739 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:39,739 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:39,740 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259012,-97.747352', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 09:24:39,740 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2643126, "lng": -97.7340971}, "viewport": {"northeast": {"lat": 30.26576902989272, "lng": -97.73269037010728}, "southwest": {"lat": 30.26306937010727, "lng": -97.73539002989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcar
2025-11-20 09:24:39,741 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 09:24:39,741 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:39,741 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:39,741 [INFO] seed_city - [SeedCity] Charger ch_aadf609d68db category 'groceries': Found 7 places
2025-11-20 09:24:39,751 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:39,809 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2910>
2025-11-20 09:24:39,809 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8dd0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:39,911 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bef10>
2025-11-20 09:24:39,912 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:39,913 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:39,913 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:39,913 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:39,913 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:40,037 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:40 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3010'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=71'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:40,039 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259012%2C-97.747352&destinations=30.2643126%2C-97.7340971%7C30.2706339%2C-97.753587%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:40,039 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:40,040 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:40,041 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:40,041 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:40,042 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:40,042 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:40,143 [INFO] seed_city - [SeedCity] Charger ch_aadf609d68db: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 09:24:40,144 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259012 lng=-97.747352 type=gym radius=1000
2025-11-20 09:24:40,156 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:40,206 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c0c10>
2025-11-20 09:24:40,207 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8820> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:40,311 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088be2b0>
2025-11-20 09:24:40,312 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:40,313 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:40,313 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:40,313 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:40,313 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:40,830 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:40 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:40 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47152'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=378'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:40,830 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259012%2C-97.747352&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 09:24:40,831 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:40,914 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:40,914 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:40,914 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:40,915 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259012,-97.747352', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 09:24:40,916 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU6e9HqrAo_YO3WfYC7SVucYFtntors5nP3utqSver86SRJxC3BRD5Poh0wR_Sapzs2tDbwTU6HSwERLjPhrMzdFGNZJ_mpUY9BdXbrYHnX7VQNIzNp-BYkKT7g7tZU2ejsKsBUFOTIvA5eaZJoP8_31ZloDt1TkWOEovr-hHyI5KLf2WMqkRKp9E7LwWvE7elvwP3Bv7P08t1L9ymNRbgQwLDMNpI7V5yoiO6qP3QqJdiHJEprEVcKwon9Qy2zXAcHTVN0dLmWKlOd0n15ZdookUcIUEP6eDC5PrTCMI84_0E2g2fsnq9vgcsj8HFyrvTUymQ_Fk7jv-3Y7CY-0ocLjDHxZLMGuQelsUNb70o_cEsyHxykNUvG1nSbZb-7CU-HD8kczyISQTuwibUA3dmlw37v0ggRZn_0M4TtUHg1MeydDYKfBYWIjxWArG18Qjo
2025-11-20 09:24:40,916 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:40,916 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:40,917 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:40,917 [INFO] seed_city - [SeedCity] Charger ch_aadf609d68db category 'gym': Found 10 places
2025-11-20 09:24:40,929 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:40,983 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076718e0>
2025-11-20 09:24:40,983 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8cf0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:41,080 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088ce820>
2025-11-20 09:24:41,081 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:41,082 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:41,082 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:41,082 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:41,082 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:41,229 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:41 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4010'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=93'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:41,230 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259012%2C-97.747352&destinations=30.260628%2C-97.741897%7C30.2539864%2C-97.74764719999999%7C30.2645444%2C-97.7465503%7C30.2527893%2C-97.7470176%7C30.2655709%2C-97.7479626%7C30.265904%2C-97.74395129999999%7C30.267153%2C-97.7430608%7C30.2666246%2C-97.7530981%7C30.267006%2C-97.7416592%7C30.2692988%2C-97.7440922&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:41,231 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:41,232 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:41,232 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:41,232 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:41,233 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:41,233 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:41,237 [ERROR] seed_city - Error processing category gym for charger ch_aadf609d68db: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJg858GFO1RIYROWiSqWkllNU', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJg858GFO1RIYROWiSqWkllNU', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:24:41,239 [WARNING] seed_city - No merchants found for charger Hyatt Regency Austin - Tesla Destination
2025-11-20 09:24:41,241 [INFO] seed_city - [SeedCity] Charger ch_d1aca54dacdc: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 09:24:41,241 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259201 lng=-97.751695 type=cafe radius=1000
2025-11-20 09:24:41,251 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:41,290 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d5190>
2025-11-20 09:24:41,290 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8a50> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:41,371 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bb550>
2025-11-20 09:24:41,372 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:41,372 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:41,373 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:41,373 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:41,373 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:41,955 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:41 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:41 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50028'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=515'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:41,956 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259201%2C-97.751695&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 09:24:41,957 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:42,034 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:42,035 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:42,035 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:42,036 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259201,-97.751695', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 09:24:42,037 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7KSB5N6nTTPr423K__2XXDsCZuLleVwqvOTBHBSOnLDSFaYFTLdzuu385NJzEccUwJssxy5FWcGNXPlYE4sfFkmofwF4ZwYaykXdcRvPSA6KknwvtPye4dZ21GUWNdFFfdNylt3xYhxHBHIN4ipciD86dXuJvc_b5xyayYDcQ8xBxY4kDfDshWiG3TpZbiyMFumQ7gwoSuRDQyc42iEi5iaN961Pgu9U41K3Sagk5tLxHHh-k9mshbw2rP0ptBsoAH8Jy07Ki2aFxLsuNSfNIbbDdslfouV3mU56TLJlCpanD0FfpgWXN5-enGoBRsczUyxhwWJyMhfwUS0jWCtE8qUNdQObWuDF_wYcIH39JWUE-OGE3Cb9iw2p0ELTKXlyQ2I8O0SLcD5qL5LhG_LR3r-9xK7B37IYm53W7o00o0cp-YgqneJy32Zm4KBnZSxI
2025-11-20 09:24:42,037 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:42,038 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:42,038 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:42,038 [INFO] seed_city - [SeedCity] Charger ch_d1aca54dacdc category 'coffee': Found 10 places
2025-11-20 09:24:42,049 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:42,085 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d7730>
2025-11-20 09:24:42,086 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8c10> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:42,156 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e3e80>
2025-11-20 09:24:42,157 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:42,158 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:42,158 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:42,158 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:42,158 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:42,291 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:42 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4012'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=94'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:42,292 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259201%2C-97.751695&destinations=30.2612339%2C-97.75786389999999%7C30.26587%2C-97.74643999999999%7C30.26447%2C-97.74377%7C30.26977999999999%2C-97.75390999999999%7C30.26546%2C-97.74043999999999%7C30.25224%2C-97.7636%7C30.26554%2C-97.73837999999999%7C30.2691051%2C-97.74037589999999%7C30.24218479999999%2C-97.7589562%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:42,293 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:42,294 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:42,294 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:42,294 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:42,296 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:42,296 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:42,298 [ERROR] seed_city - Error processing category coffee for charger ch_d1aca54dacdc: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:24:42,304 [INFO] seed_city - [SeedCity] Charger ch_d1aca54dacdc: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 09:24:42,304 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259201 lng=-97.751695 type=restaurant radius=1000
2025-11-20 09:24:42,313 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:42,359 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b34f0>
2025-11-20 09:24:42,359 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8970> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:42,462 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b3130>
2025-11-20 09:24:42,463 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:42,464 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:42,464 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:42,464 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:42,464 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:43,182 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:43 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:43 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49246'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=561'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:43,183 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259201%2C-97.751695&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 09:24:43,183 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:43,264 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:43,265 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:43,265 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:43,266 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259201,-97.751695', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 09:24:43,267 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4R7WauB4pXMtZn8-FM7qDUeqYo0MNgS5Fyo3gmZp8TMjOt9E5h5Jg_yxOAiaQTT2EvzeDhGuvcmoMXtfxRyX_JrM6pGtY5EjqwmslpHI0DuRk3P8XZ5_ptgl8B2fWIBJSiOonIt_lAm9dj5ry4HnqJMvnNt8IHWxBrv7AG7kl2NjjNtRzfv50MZhbvuVV6iz_sHnPlZx4sVc4oSEShjBpkTp1S0HFRdQcCVSQqbn7bMDY3x79qlNwIJDj2NKscHnB_BfPR2nN6r1fZiqa8RIo60zHA5DBt0MY6r-o3jsniyLvpJAcd7SIQcW7wH7QB6VZWIHP2k8ShLAAtSpeSEZUCqkUk0WOO09pTiaAUy-b_fHAcibBHuVlAw7t_P7rF4ymSHFHHhdHVlEMVu4X4cBQ_IbK9DJLT-GipQB1DGjl2V69i_lPGt_X-34dj2Fn3Z4
2025-11-20 09:24:43,267 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:43,267 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:43,268 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:43,268 [INFO] seed_city - [SeedCity] Charger ch_d1aca54dacdc category 'food': Found 10 places
2025-11-20 09:24:43,276 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:43,316 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x107671d90>
2025-11-20 09:24:43,316 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8a50> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:43,394 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bb1c0>
2025-11-20 09:24:43,395 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:43,396 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:43,396 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:43,396 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:43,397 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:43,529 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:43 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4079'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=93'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:43,530 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259201%2C-97.751695&destinations=30.2649201%2C-97.7492858%7C30.2638786%2C-97.75682049999999%7C30.2534769%2C-97.74788769999999%7C30.25331539999999%2C-97.74802439999999%7C30.2660503%2C-97.7501571%7C30.2656938%2C-97.7485706%7C30.2656068%2C-97.7483158%7C30.2526168%2C-97.7476959%7C30.266876%2C-97.7528456%7C30.2635186%2C-97.74358&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:43,531 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:43,532 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:43,532 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:43,532 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:43,533 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:43,533 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:43,635 [INFO] seed_city - [SeedCity] Charger ch_d1aca54dacdc: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 09:24:43,635 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259201 lng=-97.751695 type=supermarket radius=1000
2025-11-20 09:24:43,651 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:43,692 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c0130>
2025-11-20 09:24:43,693 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a87b0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:43,766 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bbee0>
2025-11-20 09:24:43,766 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:43,767 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:43,767 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:43,767 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:43,767 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:44,268 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:44 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:44 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=459'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:44,269 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259201%2C-97.751695&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 09:24:44,269 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:44,296 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:44,297 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:44,297 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:44,297 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259201,-97.751695', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 09:24:44,297 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 09:24:44,298 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 09:24:44,298 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:44,298 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:44,298 [INFO] seed_city - [SeedCity] Charger ch_d1aca54dacdc category 'groceries': Found 7 places
2025-11-20 09:24:44,306 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:44,356 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2d60>
2025-11-20 09:24:44,356 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8eb0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:44,452 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e24f0>
2025-11-20 09:24:44,453 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:44,453 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:44,453 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:44,453 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:44,453 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:44,591 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:44 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3013'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=87'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:44,592 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259201%2C-97.751695&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:44,593 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:44,593 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:44,594 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:44,594 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:44,595 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:44,595 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:44,697 [INFO] seed_city - [SeedCity] Charger ch_d1aca54dacdc: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 09:24:44,698 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259201 lng=-97.751695 type=gym radius=1000
2025-11-20 09:24:44,711 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:44,744 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d7970>
2025-11-20 09:24:44,744 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8cf0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:44,821 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c7100>
2025-11-20 09:24:44,822 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:44,823 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:44,823 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:44,823 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:44,823 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:45,263 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:45 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:45 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47564'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=398'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:45,263 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259201%2C-97.751695&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 09:24:45,264 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:45,323 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:45,324 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:45,324 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:45,326 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259201,-97.751695', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 09:24:45,326 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU6YMa6IlIxiRv3vsqwmig4srcgvZsLOAhfRt8RZ8BfXkjP1eSM_t97lpHlL1hJ9PL08jwO_bw1lAhlqSm5goN3tSzOCEReuUY9PAqmOrivIsZhVqizVofCZV-je0niFnrX50BtGZxDmRYsKlV6trrZ3d6f5yODqQiYae5JCiGQ2ETrgWOAO7GHBl2In1A18Yn1-UtdWqETISxvHqROL0lDEYRayLd1QbmbLz9X7p0iIctOZF4XdPewFXCvtWICPFI1fvIua1yJZcg1NcJqL4Q-KDMAyAEnjvdcM257QVYAZu_EwF-nUmnFSltNHsWg_DaC0JnvdeO4BiXnLkdeoDFqV43t2yFhob52vhVJeutrKN9RyIpWpzAd2D06Lv8jZbK4GsjD_ZYs8bpWPn85Zr9oP_4RtA7mihx7z5TUhJAl50sDcNXVIzBaWWX3jC_LiZD
2025-11-20 09:24:45,327 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:45,327 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:45,327 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:45,327 [INFO] seed_city - [SeedCity] Charger ch_d1aca54dacdc category 'gym': Found 10 places
2025-11-20 09:24:45,339 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:45,374 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088f55b0>
2025-11-20 09:24:45,375 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088d8350> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:45,455 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e6f40>
2025-11-20 09:24:45,456 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:45,456 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:45,456 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:45,456 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:45,456 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:45,588 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:45 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4036'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=91'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:45,589 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259201%2C-97.751695&destinations=30.2539864%2C-97.74764719999999%7C30.2628555%2C-97.7585568%7C30.2655709%2C-97.7479626%7C30.2666246%2C-97.7530981%7C30.2527893%2C-97.7470176%7C30.2569738%2C-97.7604266%7C30.260628%2C-97.741897%7C30.2552863%2C-97.7610763%7C30.2682716%2C-97.75482730000002%7C30.269586%2C-97.75380860000001&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:45,589 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:45,590 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:45,590 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:45,590 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:45,591 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:45,591 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:45,693 [WARNING] seed_city - No merchants found for charger PIE AE PALMER STATION2
2025-11-20 09:24:45,700 [INFO] seed_city - [SeedCity] Charger ch_722dd4b52585: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 09:24:45,701 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259236 lng=-97.751809 type=cafe radius=1000
2025-11-20 09:24:45,712 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:45,773 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088f5ca0>
2025-11-20 09:24:45,773 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088d8a50> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:45,884 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088f5c70>
2025-11-20 09:24:45,885 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:45,886 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:45,886 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:45,886 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:45,886 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:46,461 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:46 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:46 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50028'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=421'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:46,462 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259236%2C-97.751809&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 09:24:46,462 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:46,553 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:46,554 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:46,554 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:46,556 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259236,-97.751809', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 09:24:46,557 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4XsNNkx4gnhB-P7ngXrqE42h-psaecnm2xTJMWGkK5etmLtnNygvEAxRuPJFo-jXdqcDRCS2-605xEvyuHaEfEn-kN8VYDfyvEBobptNzl-zGt0dHHoPKUm0eRg6ndE6iaLiqNPeMZROjkejGGT0YOt7vxwfGj9yBG0PZSWhsZQPyU4yeZGxvVZK_GYPi8V5zsv6A8KrjCJqG7rx9HusJR0bGO77VT5yj8UhOVM-SHWRs_kODjbbvszESjON_R7gfC7TNr-Sz9UkDWqX4Vn8ddWyiZ9EMlzAa3s1wBX8YeqKCV8iHScQBxkZowjGAhZl6Zh9O9ATDK-GH6bAttB8be9wq8g5hUz0ARFErVkbkoVvNnXAP8I4dDnXcdgNMzXITZZUdXFhi3flioAqlfHSAaRr62MnN0UoGjhjEJNGvOLLt26MKQ2yCEAFPJdcc1ww
2025-11-20 09:24:46,557 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:46,557 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:46,558 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:46,558 [INFO] seed_city - [SeedCity] Charger ch_722dd4b52585 category 'coffee': Found 10 places
2025-11-20 09:24:46,569 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:46,611 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e6d90>
2025-11-20 09:24:46,611 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4120> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:46,686 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1074fbd60>
2025-11-20 09:24:46,687 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:46,687 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:46,687 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:46,687 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:46,688 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:46,808 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:46 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4008'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=78'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:46,810 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259236%2C-97.751809&destinations=30.2612339%2C-97.75786389999999%7C30.26587%2C-97.74643999999999%7C30.26447%2C-97.74377%7C30.26977999999999%2C-97.75390999999999%7C30.26546%2C-97.74043999999999%7C30.25224%2C-97.7636%7C30.26554%2C-97.73837999999999%7C30.2691051%2C-97.74037589999999%7C30.24218479999999%2C-97.7589562%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:46,810 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:46,811 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:46,811 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:46,812 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:46,812 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:46,813 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:46,815 [ERROR] seed_city - Error processing category coffee for charger ch_722dd4b52585: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:24:46,817 [INFO] seed_city - [SeedCity] Charger ch_722dd4b52585: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 09:24:46,817 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259236 lng=-97.751809 type=restaurant radius=1000
2025-11-20 09:24:46,828 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:46,864 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c4130>
2025-11-20 09:24:46,864 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8820> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:46,942 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c4d60>
2025-11-20 09:24:46,943 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:46,944 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:46,944 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:46,944 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:46,944 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:47,586 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:47 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:47 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49246'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=549'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:47,588 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259236%2C-97.751809&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 09:24:47,589 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:47,651 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:47,651 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:47,652 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:47,652 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259236,-97.751809', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 09:24:47,652 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU49DB7WzWPAqrnmEbFYKwewQZVsK6A6P97dfAHjsdysM3PuSBJvo9qoqSJTzNdmxLkRe_1mogCBgJsyNZO8OfG_ZaskqIGlf65Pnbp1kC3DJ9tBTRrwkBspxVVyFBojF4sD6RLTWwFwNwonpt881QNCqDtse51dUVw5lm9xZeIAWPAl6XpJWkiOes9nZJORJN_pqQlkXNkzs6KR-7y4RO5P6RzFHOv_bNPUGmS508oj4KQn11OlhndJ7vQnZm_740PWk4ObmOlV7Z2HzfZ94B36eEGuFl4a0wl6ws8cQ_Jtq1tVp4XopNzl0gOuUCZia3bSRxyS_JvXjH5sT9QD612yTF4ZbTSKZETtKVJUmTWiaLZyxRua4mikrLKjUxPWf7KhQoACo6pWFMO19nGf8vBop0Ld3amsQc78y3HDAF9Aqwgy3yLOwVsGpeGyzcseQP
2025-11-20 09:24:47,652 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:47,652 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:47,653 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:47,653 [INFO] seed_city - [SeedCity] Charger ch_722dd4b52585 category 'food': Found 10 places
2025-11-20 09:24:47,658 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:47,704 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c1a30>
2025-11-20 09:24:47,704 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x108876ba0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:47,809 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b6f40>
2025-11-20 09:24:47,810 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:47,811 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:47,811 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:47,812 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:47,812 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:47,902 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:47 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4076'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=36'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:47,903 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259236%2C-97.751809&destinations=30.2649201%2C-97.7492858%7C30.2638786%2C-97.75682049999999%7C30.2534769%2C-97.74788769999999%7C30.25331539999999%2C-97.74802439999999%7C30.2660503%2C-97.7501571%7C30.2656938%2C-97.7485706%7C30.2656068%2C-97.7483158%7C30.2526168%2C-97.7476959%7C30.266876%2C-97.7528456%7C30.2635186%2C-97.74358&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:47,904 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:47,904 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:47,905 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:47,905 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:47,906 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:47,906 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:48,008 [INFO] seed_city - [SeedCity] Charger ch_722dd4b52585: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 09:24:48,009 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259236 lng=-97.751809 type=supermarket radius=1000
2025-11-20 09:24:48,021 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:48,083 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e3130>
2025-11-20 09:24:48,083 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8c10> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:48,188 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1074fbd30>
2025-11-20 09:24:48,189 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:48,189 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:48,190 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:48,190 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:48,190 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:48,592 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:48 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:48 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=349'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:48,594 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259236%2C-97.751809&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 09:24:48,595 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:48,638 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:48,638 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:48,639 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:48,639 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259236,-97.751809', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 09:24:48,640 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 09:24:48,640 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 09:24:48,640 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:48,640 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:48,640 [INFO] seed_city - [SeedCity] Charger ch_722dd4b52585 category 'groceries': Found 7 places
2025-11-20 09:24:48,650 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:48,728 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2910>
2025-11-20 09:24:48,728 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8dd0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:48,812 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2af0>
2025-11-20 09:24:48,813 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:48,814 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:48,814 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:48,814 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:48,814 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:48,924 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:48 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3009'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=70'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:48,926 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259236%2C-97.751809&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:48,926 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:48,927 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:48,927 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:48,927 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:48,928 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:48,928 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:49,030 [INFO] seed_city - [SeedCity] Charger ch_722dd4b52585: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 09:24:49,030 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259236 lng=-97.751809 type=gym radius=1000
2025-11-20 09:24:49,043 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:49,094 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076de4f0>
2025-11-20 09:24:49,094 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8970> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:49,200 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088f5340>
2025-11-20 09:24:49,201 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:49,202 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:49,202 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:49,202 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:49,202 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:49,830 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:49 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:49 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47564'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=580'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:49,831 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259236%2C-97.751809&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 09:24:49,831 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:49,913 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:49,914 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:49,914 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:49,914 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259236,-97.751809', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 09:24:49,915 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7rCueVI1_M899JL32HjiCZV4vdn2WaEcSTSJrNC6W_NRBe0m_Y2EmIF9snu_ne2CUv8Ta8DOF2vfe8LuXnW-PfLlbmetBUlATe52Bae2m-ZGXXl5JjE2LI3jmgTduTOIrEklAagcRyvf9_bwnmnybp8NpiZ914bt9QF6krjqsJgNgAuOdSZ-iNc5wbGig1dK6iTX-drvX67cyvIAloE3XA4-fg-6JdmNNdSxK_5P-3tsbv7c6d5EUz3KrvK6gC6qHG0JWn0syQJwJcxZTXyVw7M1NHerUVhjrWheZBaKh5ulc8US6bNi94YjVUKbSjqMR4lyePnePZTG9k0CoKIzY4eyfTLfN_s0Yienrgxec3ksw9awUHTxnpM8TNEIVzlkqjK1JAZcWtEYEMAGz9QWhJqSQoYx7v-R7rSlqK2MT7HqR5bba0QBUPhA1yJnT_Wj
2025-11-20 09:24:49,915 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:49,915 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:49,915 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:49,915 [INFO] seed_city - [SeedCity] Charger ch_722dd4b52585 category 'gym': Found 10 places
2025-11-20 09:24:49,922 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:49,956 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e3cd0>
2025-11-20 09:24:49,956 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8c80> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:50,037 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c79a0>
2025-11-20 09:24:50,038 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:50,039 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:50,039 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:50,039 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:50,039 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:50,118 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:50 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4032'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=35'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:50,119 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259236%2C-97.751809&destinations=30.2539864%2C-97.74764719999999%7C30.2628555%2C-97.7585568%7C30.2655709%2C-97.7479626%7C30.2666246%2C-97.7530981%7C30.2527893%2C-97.7470176%7C30.2569738%2C-97.7604266%7C30.260628%2C-97.741897%7C30.2552863%2C-97.7610763%7C30.2682716%2C-97.75482730000002%7C30.269586%2C-97.75380860000001&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:50,120 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:50,121 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:50,121 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:50,121 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:50,122 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:50,122 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:50,223 [WARNING] seed_city - No merchants found for charger PIE AE PALMER STATION3
2025-11-20 09:24:50,240 [INFO] seed_city - [SeedCity] Charger ch_c34157a43d0c: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 09:24:50,240 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259705 lng=-97.752496 type=cafe radius=1000
2025-11-20 09:24:50,254 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:50,307 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10766cd30>
2025-11-20 09:24:50,308 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8cf0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:50,410 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076bc850>
2025-11-20 09:24:50,411 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:50,412 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:50,413 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:50,413 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:50,413 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:51,064 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:51 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:51 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50028'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=567'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:51,065 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259705%2C-97.752496&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 09:24:51,066 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:51,159 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:51,160 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:51,160 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:51,162 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259705,-97.752496', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 09:24:51,163 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7I6zgsDljWynNHfsWgcmAhxMiWC_qpDppzCKZ90AEEg7PW07cH-GzpiV-ZJFwOxgPr-7W1lJzSz5oKCPJggXnbWDwDMDpU2yIoe-Ta-qkcgR7rwXQEB8ZsVkiMSNRI3cpjtF1hNBJZWEflKoIjQ4htIgoyixgT95b27XktTMWlUWu2ypMLpwTTKAw-_jH0029mfpCrOLZ777QEjEuQISyrukrmXrfaV8gCxBrBQq40xYyD5ttluX47pMiTNFqYV9Re76tkyJWSJRtOcIwfGm1cIUHRkS3RexReIgPk6QsHuwJXMHLXO-o1CpfItZmBHtyO217Q2JEMyzhyObMfcDN23rScIGLyTJnkvMK6Zv7gKeoRNa7x0OYB7t73LCtWuunVZYlaqSEzFD3XpUvR9CkxUNrA-hmyXBd70zEIgaMKQf1-WyJ9yzsVUNeyga95Xb
2025-11-20 09:24:51,163 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:51,164 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:51,164 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:51,164 [INFO] seed_city - [SeedCity] Charger ch_c34157a43d0c category 'coffee': Found 10 places
2025-11-20 09:24:51,176 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:51,229 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c4f10>
2025-11-20 09:24:51,230 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4040> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:51,341 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b6d60>
2025-11-20 09:24:51,342 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:51,343 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:51,343 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:51,344 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:51,344 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:51,480 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:51 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4012'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=80'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:51,481 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259705%2C-97.752496&destinations=30.2612339%2C-97.75786389999999%7C30.26587%2C-97.74643999999999%7C30.26447%2C-97.74377%7C30.26977999999999%2C-97.75390999999999%7C30.26546%2C-97.74043999999999%7C30.25224%2C-97.7636%7C30.26554%2C-97.73837999999999%7C30.2691051%2C-97.74037589999999%7C30.24218479999999%2C-97.7589562%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:51,482 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:51,482 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:51,483 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:51,483 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:51,484 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:51,484 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:51,487 [ERROR] seed_city - Error processing category coffee for charger ch_c34157a43d0c: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:24:51,488 [INFO] seed_city - [SeedCity] Charger ch_c34157a43d0c: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 09:24:51,488 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259705 lng=-97.752496 type=restaurant radius=1000
2025-11-20 09:24:51,498 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:51,532 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e6310>
2025-11-20 09:24:51,532 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8e40> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:51,613 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c48e0>
2025-11-20 09:24:51,613 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:51,614 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:51,614 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:51,614 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:51,614 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:52,299 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:52 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:52 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49241'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=546'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:52,300 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259705%2C-97.752496&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 09:24:52,300 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:52,371 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:52,371 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:52,372 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:52,373 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259705,-97.752496', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 09:24:52,374 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7eyyWsF7hAs-zu9qjtOEAq8BIHpsWK_4T7yprUindBBxwM0oCjbxDp1IgZz-h0rtUGTDRww5TefNPq7iYxmUKgsTs_nCUGuX09MV3vXOboiRHS1v4kbv8g0LEvM3DspYxJK00Iakaxwg2Z7QL6mT22XRotURpyvttO5rxPko85S9uUMP_tJg-uL-70IgqdBt_eygXbo1kFk5yDjuF5YBOQpIMAwDJY2v6oFpUUyBROxx8YS_JFDPH5VPoRFhJYtITnOK2So_mE8qvH3LDMPadn_or_GYwV-02Rd_I94fx724umWUsm5TV1ATpi9uHTKMCoFe0sN7mSN7jA2QoYogTMjy7YOgma9Rem92TCu-MhhXsJeu9ni-iKNMmQZE6EUFaN7e4qNuUwiRXx9wwdSjIJ_0BOOScatLqv5SywPr-upAcYVZRHzS7RDpwajeHBBY
2025-11-20 09:24:52,374 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:52,375 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:52,375 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:52,375 [INFO] seed_city - [SeedCity] Charger ch_c34157a43d0c category 'food': Found 10 places
2025-11-20 09:24:52,386 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:52,434 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2340>
2025-11-20 09:24:52,435 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8890> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:52,545 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c10d0>
2025-11-20 09:24:52,547 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:52,549 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:52,549 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:52,549 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:52,549 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:52,636 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:52 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4082'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=37'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:52,638 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259705%2C-97.752496&destinations=30.2638786%2C-97.75682049999999%7C30.2649201%2C-97.7492858%7C30.2660503%2C-97.7501571%7C30.2656938%2C-97.7485706%7C30.2656068%2C-97.7483158%7C30.266876%2C-97.7528456%7C30.2534769%2C-97.74788769999999%7C30.25331539999999%2C-97.74802439999999%7C30.2526168%2C-97.7476959%7C30.2635186%2C-97.74358&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:52,638 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:52,639 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:52,639 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:52,639 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:52,640 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:52,641 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:52,742 [INFO] seed_city - [SeedCity] Charger ch_c34157a43d0c: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 09:24:52,743 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259705 lng=-97.752496 type=supermarket radius=1000
2025-11-20 09:24:52,756 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:52,813 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088f5100>
2025-11-20 09:24:52,814 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8dd0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:52,921 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088f5df0>
2025-11-20 09:24:52,922 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:52,923 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:52,923 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:52,924 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:52,924 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:53,424 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:53 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:53 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=375'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:53,426 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259705%2C-97.752496&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 09:24:53,426 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:53,468 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:53,468 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:53,469 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:53,469 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259705,-97.752496', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 09:24:53,470 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 09:24:53,470 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 09:24:53,470 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:53,470 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:53,471 [INFO] seed_city - [SeedCity] Charger ch_c34157a43d0c category 'groceries': Found 7 places
2025-11-20 09:24:53,481 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:53,515 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2e50>
2025-11-20 09:24:53,515 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x10778af90> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:53,595 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2ac0>
2025-11-20 09:24:53,596 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:53,597 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:53,597 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:53,597 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:53,598 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:53,699 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:53 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3013'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=65'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:53,701 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259705%2C-97.752496&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:53,701 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:53,701 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:53,702 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:53,702 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:53,702 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:53,703 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:53,804 [INFO] seed_city - [SeedCity] Charger ch_c34157a43d0c: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 09:24:53,805 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259705 lng=-97.752496 type=gym radius=1000
2025-11-20 09:24:53,818 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:53,866 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1074b47f0>
2025-11-20 09:24:53,866 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x108876ba0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:53,964 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10767e7f0>
2025-11-20 09:24:53,965 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:53,965 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:53,965 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:53,966 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:53,966 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:54,491 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:54 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:54 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47200'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=415'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:54,492 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259705%2C-97.752496&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 09:24:54,492 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:54,576 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:54,576 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:54,576 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:54,577 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259705,-97.752496', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 09:24:54,577 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7xlsrmA6OuKEPVJm79VWB9Qk5CN_kNy87oOX1IBa7JCQHH_u1w5UDAFhd4KMYxjCkVg3Ekee4_gwg0BzJv4CcFRvv5007L6b9kAvPx4ZN0WbMYvv-vGjbFVpbeMFrs1sutgfH-NhJK-bsJ-5WRd9wrr1qaBlC05FSsZuuHF-XiGcZtHDQp3hdcLHADvyaQucSgsyD7SOyOv5Rlqj1TaVkkJVXt-WhS0N2oLR2BhkZAwvZT46Fh-IWxu5TegwbtYI35AFwlPB_aXf8gaW_uslVwgdsBKafczGSazfcQbjDLkUJjpMaWaGcH9N5f1PYClR_yKVM8j0SXU5isE1Iwnx6SVDpEPqGAqm5tUn-NVPXJ5Trwe0Tuaqp0ikG5Uz7xsSQPAAcIdk5F3eLlpjv1JxX66iEkVg1IMLF6Wy1gaQ4PR2VVVDTz3xNu9GXl1fmtSr
2025-11-20 09:24:54,577 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:54,578 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:54,578 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:54,578 [INFO] seed_city - [SeedCity] Charger ch_c34157a43d0c category 'gym': Found 10 places
2025-11-20 09:24:54,586 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:54,620 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b6640>
2025-11-20 09:24:54,620 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8a50> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:54,690 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c4ca0>
2025-11-20 09:24:54,690 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:54,690 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:54,690 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:54,691 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:54,691 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:54,766 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:54 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4041'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=34'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:54,767 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259705%2C-97.752496&destinations=30.2628555%2C-97.7585568%7C30.2666246%2C-97.7530981%7C30.2655709%2C-97.7479626%7C30.2539864%2C-97.74764719999999%7C30.2569738%2C-97.7604266%7C30.2527893%2C-97.7470176%7C30.2552863%2C-97.7610763%7C30.2682716%2C-97.75482730000002%7C30.269586%2C-97.75380860000001%7C30.267153%2C-97.7430608&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:54,767 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:54,768 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:54,768 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:54,768 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:54,769 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:54,769 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:54,870 [WARNING] seed_city - No merchants found for charger PIE AE PALMER STATION5
2025-11-20 09:24:54,876 [INFO] seed_city - [SeedCity] Charger ch_4cbae8d71bbd: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 09:24:54,876 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259769 lng=-97.752509 type=cafe radius=1000
2025-11-20 09:24:54,888 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:54,922 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c7910>
2025-11-20 09:24:54,923 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a87b0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:55,001 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e6a00>
2025-11-20 09:24:55,001 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:55,002 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:55,002 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:55,002 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:55,002 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:55,573 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:55 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:55 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50028'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=440'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:55,574 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259769%2C-97.752509&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 09:24:55,575 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:55,636 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:55,637 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:55,637 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:55,638 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259769,-97.752509', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 09:24:55,638 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU6_og-C0wowxDkVkzgYFcevmLfmR2632u8GX8Nbqi-yrN5o0oSEBwr4xli79G7myF1SrRK8hfrtUH79AuC4CWk8KSP7n8TBCxXqXOmbvA0D1Pgb-32_fxvag5EurL6C9JRBHFDGiGm0nvOSTmFFu6ra2c6buLK3RPOsVpGxkIuKFNdVGLcvVf9qlX_dKw-umAAvsKCPG20kIH0heqT918PtV6dH82GJmwdRzlCbHTYcugaUYoY9DB9FCk11h7ccp1DO24arHzW4nakWoDrVPIPH4tQH_VrzYv65Bm60YQiWQIVRsMnrW7Zv5oBgBFCFTy70JqLvMdBTUKkAcpiSIMyxkQlUh6hEeOWFHD2XphQBnIOCNFHJWYPcmDPjGWEbwUVi5HtFuOhdWaMAbdLnxak22svbY0jB9c_bJMwh7c9OlNy1vigsIFiEo-AgXVen6N
2025-11-20 09:24:55,639 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:55,639 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:55,639 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:55,639 [INFO] seed_city - [SeedCity] Charger ch_4cbae8d71bbd category 'coffee': Found 10 places
2025-11-20 09:24:55,649 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:55,697 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10766cf40>
2025-11-20 09:24:55,698 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8e40> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:55,799 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e3910>
2025-11-20 09:24:55,800 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:55,801 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:55,801 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:55,802 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:55,802 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:55,929 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:55 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4012'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=79'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:55,929 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259769%2C-97.752509&destinations=30.2612339%2C-97.75786389999999%7C30.26587%2C-97.74643999999999%7C30.26447%2C-97.74377%7C30.26977999999999%2C-97.75390999999999%7C30.26546%2C-97.74043999999999%7C30.25224%2C-97.7636%7C30.26554%2C-97.73837999999999%7C30.2691051%2C-97.74037589999999%7C30.24218479999999%2C-97.7589562%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:55,929 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:55,930 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:55,930 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:55,930 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:55,931 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:55,931 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:55,932 [ERROR] seed_city - Error processing category coffee for charger ch_4cbae8d71bbd: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:24:55,933 [INFO] seed_city - [SeedCity] Charger ch_4cbae8d71bbd: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 09:24:55,933 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259769 lng=-97.752509 type=restaurant radius=1000
2025-11-20 09:24:55,943 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:55,989 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088db070>
2025-11-20 09:24:55,989 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8820> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:56,102 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088db250>
2025-11-20 09:24:56,103 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:56,103 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:56,103 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:56,104 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:56,104 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:56,906 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:56 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:56 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'48613'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=595'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:56,907 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259769%2C-97.752509&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 09:24:56,907 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:56,992 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:56,993 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:56,993 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:56,996 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259769,-97.752509', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 09:24:56,997 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7m5wWnll0B7RK3K8CiePSrJv0Q9AcPgshRo9S-6ELLdGpPEwxsfmiD1kc9s_PDG6DCGmbqIShWTzaoL4rGNVuVkqJa9HyfXXFoBkM1zPeqVTvfMC_q1Zq8RM_zXlV8NrKcae0CBFZCyDoHhZdZFDeZGfu_j2LNdNWJhQD-pGOy8ibgZLSWDz3gTevfAp73q9BKEbHBkZ8GK5kN_js-v2wwBiVpv9-4yP8Wehf9TqAnA7wr7mqlfD4UcOojjoLgiuG0-eLIA6YVy1gvfBumIUJ9_dknBj7kO16VmLTgGzHREEpSm7Vz-t-ervW6R--AYcwC2BTb8vq0GtxKaAUToKEfEQLk23IQHeYrAc6jr08IK56Go31shj9D7_dM1fSc_ZyWQ8CLOWpD_dc3AxDQAiWZ_9SfvHlWtBlyBYhbByeqnBigePW-YhZQhC3o261nhi
2025-11-20 09:24:56,998 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:56,998 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:56,998 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:56,998 [INFO] seed_city - [SeedCity] Charger ch_4cbae8d71bbd category 'food': Found 10 places
2025-11-20 09:24:57,009 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:57,072 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e3e80>
2025-11-20 09:24:57,073 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x10778af90> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:57,156 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10766cb80>
2025-11-20 09:24:57,158 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:57,159 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:57,159 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:57,159 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:57,159 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:57,317 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:57 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4068'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=124'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:57,318 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259769%2C-97.752509&destinations=30.2609861%2C-97.7572247%7C30.259938%2C-97.75832779999999%7C30.2638786%2C-97.75682049999999%7C30.2660503%2C-97.7501571%7C30.2656068%2C-97.7483158%7C30.266876%2C-97.7528456%7C30.2534769%2C-97.74788769999999%7C30.2656989%2C-97.74684789999999%7C30.2526168%2C-97.7476959%7C30.2616228%2C-97.742539&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:57,318 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:57,319 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:57,319 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:57,319 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:57,320 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:57,320 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:57,322 [ERROR] seed_city - Error processing category food for charger ch_4cbae8d71bbd: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJ6SY7uda0RIYR__R0hhXj5YI', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJ6SY7uda0RIYR__R0hhXj5YI', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:24:57,323 [INFO] seed_city - [SeedCity] Charger ch_4cbae8d71bbd: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 09:24:57,323 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259769 lng=-97.752509 type=supermarket radius=1000
2025-11-20 09:24:57,332 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:57,464 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b3580>
2025-11-20 09:24:57,464 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8dd0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:57,653 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x107625610>
2025-11-20 09:24:57,654 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:57,655 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:57,655 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:57,656 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:57,656 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:58,055 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:58 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:58 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=340'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:58,057 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259769%2C-97.752509&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 09:24:58,057 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:58,181 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:58,181 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:58,181 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:58,182 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259769,-97.752509', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 09:24:58,182 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 09:24:58,182 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 09:24:58,183 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:58,183 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:58,183 [INFO] seed_city - [SeedCity] Charger ch_4cbae8d71bbd category 'groceries': Found 7 places
2025-11-20 09:24:58,191 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:58,232 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088cefa0>
2025-11-20 09:24:58,232 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4120> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:58,336 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c4d00>
2025-11-20 09:24:58,337 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:58,337 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:58,337 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:58,338 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:58,338 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:58,517 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:58 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3013'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=62'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:58,518 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259769%2C-97.752509&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:58,519 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:58,519 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:58,520 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:58,520 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:58,521 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:58,521 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:58,623 [INFO] seed_city - [SeedCity] Charger ch_4cbae8d71bbd: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 09:24:58,623 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259769 lng=-97.752509 type=gym radius=1000
2025-11-20 09:24:58,637 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:58,753 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e6a30>
2025-11-20 09:24:58,753 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8ac0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:24:58,829 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c4dc0>
2025-11-20 09:24:58,830 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:58,831 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:58,831 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:58,831 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:58,831 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:59,350 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:59 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:29:59 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47564'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=472'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:59,351 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259769%2C-97.752509&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 09:24:59,352 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:59,418 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:59,419 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:59,419 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:59,420 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259769,-97.752509', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 09:24:59,422 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4qzSiyCDm0eLxAAr7QyC6I6Vvc3aie8bou1fm__eknuNOzU8KUOwbRRrI3nXB5YRkweptMHiXsiHUjAj0vi6bDRbYezOZ_lu7KotyIYWyXGLuCx529XTBQ-Ln6vC7oiZ0xJ2pg06XlPsFRLdDwzWSgfLRRM1m2-_JruaqNFTlA2IKahSPjhbRKBM4OwaIS2hQqb6v62Crl7bhn5OUtzbaMEsIOnj3C-2NhlVpCA1H-MyTVTVW_90Ntxs7_Qb_Xfq4ibhbq3Js_DyTP3oOn69OJYAuJYmMzdsaiC8PSspiNKI7kYNwzbTX8aeowNqYHWHETWzH6TjKM-fiIkFmWnvLQRAqYGQaSJLmxihPj_EHezDP6qufZPi9UNFY9D-rmPvIrOkS0dtia2PCe2igDS9qJVj0QtHgf3voiOJragBD4lPITksZRZJCv4A7RDUhknH
2025-11-20 09:24:59,422 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:24:59,422 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:59,422 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:59,422 [INFO] seed_city - [SeedCity] Charger ch_4cbae8d71bbd category 'gym': Found 10 places
2025-11-20 09:24:59,433 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:24:59,558 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b67f0>
2025-11-20 09:24:59,558 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8890> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:24:59,636 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b6c70>
2025-11-20 09:24:59,637 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:24:59,638 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:24:59,638 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:24:59,639 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:24:59,639 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:24:59,753 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:24:59 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4037'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=40'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:24:59,755 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259769%2C-97.752509&destinations=30.2628555%2C-97.7585568%7C30.2666246%2C-97.7530981%7C30.2655709%2C-97.7479626%7C30.2539864%2C-97.74764719999999%7C30.2569738%2C-97.7604266%7C30.2527893%2C-97.7470176%7C30.2552863%2C-97.7610763%7C30.2682716%2C-97.75482730000002%7C30.260628%2C-97.741897%7C30.269586%2C-97.75380860000001&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:24:59,755 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:24:59,756 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:24:59,756 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:24:59,756 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:24:59,757 [DEBUG] httpcore.connection - close.started
2025-11-20 09:24:59,758 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:24:59,859 [WARNING] seed_city - No merchants found for charger PIE AE PALMER STATION4
2025-11-20 09:24:59,864 [INFO] seed_city - [SeedCity] Charger ch_05adc443b19f: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 09:24:59,864 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259864 lng=-97.752661 type=cafe radius=1000
2025-11-20 09:24:59,875 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:24:59,918 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1074fbd30>
2025-11-20 09:24:59,918 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4040> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:00,083 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b6c70>
2025-11-20 09:25:00,085 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:00,085 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:00,085 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:00,086 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:00,086 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:00,897 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:00 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:00 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47148'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=566'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:00,898 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259864%2C-97.752661&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 09:25:00,898 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:00,961 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:00,961 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:00,962 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:00,963 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259864,-97.752661', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 09:25:00,964 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5NMJujXJQu7eNM4vZJIjInGF5QBHjH6fMuDuqzkJCbVo--LvsaoUi79sGCQ6K_WHqQSKMaCCQKo7SR3M5d0huUwtLarlx6hYKthZsnGZ4g5wU0TsPioWoMt_9AMDdKrInplU70RPgI2n0_7BLnzt8X4oL9TdmVVyDl2D6Iqq9PDILry0EmolrFkASrXkKTFBLxra84KyER7ic2w3bGyZUsLfH8Nc-DkcIXrKgRSoM8mX9Pf3-uw01CLR3S95ooz-VpsGXjxba-Az6tFmKWMf7oB8eVjVIuOUluSCjTKA_EdmLrbhO6aNmHNTa46xaVXIthAmHjHg0yh3NCMYE3B77Hgm-BNtEbzy4T6mM6dl8YCqtuJoE8DWHtqA3ZZAHGvF4Bw6M7_gOzspfRezCFJ2Inf8XU6rqO_4CIkH9AFtX6yOgV8b2pl-EjzSnnLN0cID
2025-11-20 09:25:00,964 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:00,965 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:00,965 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:00,965 [INFO] seed_city - [SeedCity] Charger ch_05adc443b19f category 'coffee': Found 10 places
2025-11-20 09:25:00,977 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:01,008 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2250>
2025-11-20 09:25:01,008 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x108876ba0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:01,177 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b6970>
2025-11-20 09:25:01,178 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:01,179 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:01,179 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:01,179 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:01,179 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:01,329 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:01 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4011'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=81'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:01,330 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259864%2C-97.752661&destinations=30.2612339%2C-97.75786389999999%7C30.26587%2C-97.74643999999999%7C30.26447%2C-97.74377%7C30.26977999999999%2C-97.75390999999999%7C30.26546%2C-97.74043999999999%7C30.25224%2C-97.7636%7C30.26554%2C-97.73837999999999%7C30.2691051%2C-97.74037589999999%7C30.24218479999999%2C-97.7589562%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:01,331 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:01,332 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:01,332 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:01,332 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:01,333 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:01,333 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:01,334 [ERROR] seed_city - Error processing category coffee for charger ch_05adc443b19f: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:25:01,335 [INFO] seed_city - [SeedCity] Charger ch_05adc443b19f: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 09:25:01,335 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259864 lng=-97.752661 type=restaurant radius=1000
2025-11-20 09:25:01,341 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:01,389 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088ce550>
2025-11-20 09:25:01,389 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8cf0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:01,465 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e69a0>
2025-11-20 09:25:01,465 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:01,466 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:01,466 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:01,466 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:01,466 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:02,227 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:02 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:02 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49241'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=513'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:02,228 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259864%2C-97.752661&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 09:25:02,228 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:02,285 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:02,286 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:02,286 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:02,287 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259864,-97.752661', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 09:25:02,288 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5IOTF-zJnGYiEq0qzo3dyBGIDVj-BluAmtNI0I-rWRRLmz8tANxkIxAtn_AgwgtR0gBYsoq13xRTk_XKQSEd3oXYkx3SB7k0_wiXIFhoiBNzh5pDq0hCrEylGbv30XwKwvs2Ak2Hz9uDE-5evOR3msg0imAbCnPMb7cR31IPR8NRvBsmahUqBAiQyOiq0UMrWyK6QGfutT1vpK71x8FcE3VyIRjdWqKeewZwVtIN1jZgMuW51o8UX0--Dd8D49R7qsyXqoPkEBt9-oRUvxKg13nKlRjFdzCDLZMyPXDpF_0nKbfXKk7WyNuWLejt2VfiuDTE9980uPwQB6eTirWwP4ecpxOfkQnBAxvQUoLHEVf1P3jZnN01avgy2yzT1QHnKK3esLIE1J0XZ34m8OX_09FGwTbGuNdgT7iOsdwK33e1A77WnoMCj1clWD5_n_5C
2025-11-20 09:25:02,288 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:02,289 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:02,289 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:02,289 [INFO] seed_city - [SeedCity] Charger ch_05adc443b19f category 'food': Found 10 places
2025-11-20 09:25:02,301 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:02,423 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e3220>
2025-11-20 09:25:02,424 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8e40> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:02,529 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e3d30>
2025-11-20 09:25:02,530 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:02,531 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:02,531 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:02,531 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:02,531 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:02,712 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:02 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4082'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=37'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:02,713 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259864%2C-97.752661&destinations=30.2638786%2C-97.75682049999999%7C30.2649201%2C-97.7492858%7C30.2660503%2C-97.7501571%7C30.2656938%2C-97.7485706%7C30.2656068%2C-97.7483158%7C30.266876%2C-97.7528456%7C30.2534769%2C-97.74788769999999%7C30.25331539999999%2C-97.74802439999999%7C30.2526168%2C-97.7476959%7C30.2635186%2C-97.74358&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:02,713 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:02,714 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:02,714 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:02,715 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:02,715 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:02,716 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:02,817 [INFO] seed_city - [SeedCity] Charger ch_05adc443b19f: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 09:25:02,818 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259864 lng=-97.752661 type=supermarket radius=1000
2025-11-20 09:25:02,830 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:02,942 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c4eb0>
2025-11-20 09:25:02,943 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a87b0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:03,047 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10766b760>
2025-11-20 09:25:03,047 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:03,048 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:03,049 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:03,049 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:03,049 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:03,499 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:03 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:03 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=397'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:03,500 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259864%2C-97.752661&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 09:25:03,500 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:03,547 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:03,548 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:03,548 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:03,549 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259864,-97.752661', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 09:25:03,549 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 09:25:03,549 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 09:25:03,549 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:03,550 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:03,550 [INFO] seed_city - [SeedCity] Charger ch_05adc443b19f category 'groceries': Found 7 places
2025-11-20 09:25:03,560 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:03,611 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088f5790>
2025-11-20 09:25:03,611 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8c80> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:03,803 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088f5c70>
2025-11-20 09:25:03,804 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:03,804 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:03,804 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:03,804 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:03,804 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:03,952 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:03 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3012'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=69'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:03,953 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259864%2C-97.752661&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:03,954 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:03,955 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:03,955 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:03,955 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:03,956 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:03,956 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:04,057 [INFO] seed_city - [SeedCity] Charger ch_05adc443b19f: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 09:25:04,058 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259864 lng=-97.752661 type=gym radius=1000
2025-11-20 09:25:04,071 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:04,120 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088bb520>
2025-11-20 09:25:04,121 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8890> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:04,322 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088cec10>
2025-11-20 09:25:04,324 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:04,325 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:04,325 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:04,325 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:04,325 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:05,093 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:04 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:04 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47564'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=553'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:05,094 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259864%2C-97.752661&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 09:25:05,094 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:05,181 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:05,182 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:05,182 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:05,183 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259864,-97.752661', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 09:25:05,184 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4hQ9jxM2-8eI8jao8mx5k4pkrgcmg09Mf0REhZOSF-6wdMTNwl7y3FJx3OVVOpoxsQ1_3LzHUfJrHsPa6rc25u21W6lnbCmECRy_J-Wodx_OdDzklHJT7lnRRu2cMFD0KpMGsQjtcrrG-HDMzHTXhA2sXh9Jh0OWwqurPtrFuTu8gahXqtSOG6ycRCwJT0G8XBpnrPckKfTKxqTRAFOMefQZ-3NU6b_Hrl4AESrHEzxYWyILnjvtVehpG8tUJTw8kYmZ5AwGy27BcHpvaZU4bXfy8GTQl9JwBxXjF3JqIbsLqkuEQePm1SR9hHqmleEWi3sSeCyRjNjBdf748WJw5HD_c97vmL4x1b2RsuZ6kxTYssVRDwWuW9NAz34k3c392Y6bC4LVCKc8yokPUPKo8gSRf_R0vnbmz3tWlLa0KRutLpJVkVbzGXy7HJzMhl_4
2025-11-20 09:25:05,184 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:05,185 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:05,185 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:05,185 [INFO] seed_city - [SeedCity] Charger ch_05adc443b19f category 'gym': Found 10 places
2025-11-20 09:25:05,196 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:05,236 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c4880>
2025-11-20 09:25:05,236 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4120> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:05,402 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088dbdc0>
2025-11-20 09:25:05,403 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:05,404 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:05,404 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:05,405 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:05,405 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:05,544 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:05 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4036'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=32'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:05,545 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259864%2C-97.752661&destinations=30.2628555%2C-97.7585568%7C30.2666246%2C-97.7530981%7C30.2655709%2C-97.7479626%7C30.2539864%2C-97.74764719999999%7C30.2569738%2C-97.7604266%7C30.2552863%2C-97.7610763%7C30.2527893%2C-97.7470176%7C30.2682716%2C-97.75482730000002%7C30.260628%2C-97.741897%7C30.269586%2C-97.75380860000001&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:05,546 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:05,548 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:05,548 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:05,549 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:05,549 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:05,550 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:05,651 [WARNING] seed_city - No merchants found for charger PIE AE PALMER STATION8
2025-11-20 09:25:05,660 [INFO] seed_city - [SeedCity] Charger ch_ac12d2ef75f9: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 09:25:05,660 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259966 lng=-97.752658 type=cafe radius=1000
2025-11-20 09:25:05,670 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:05,708 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10767ec40>
2025-11-20 09:25:05,708 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x108876ba0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:05,889 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10767e760>
2025-11-20 09:25:05,890 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:05,891 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:05,892 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:05,892 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:05,892 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:06,401 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:06 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:06 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50028'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=468'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:06,402 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259966%2C-97.752658&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 09:25:06,403 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:06,468 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:06,468 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:06,469 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:06,470 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259966,-97.752658', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 09:25:06,471 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4i-Q0h45n_aUv7k5nZh7w-XASD_JAVx3cxGbf4Plcw5MgY1vPZqexQOtldfP-uYKuOFCnISGKzDWI4Qc2OiSc2N1ouA4tuq3EQst5SDDbDJv5p89HZIlEruRjjbRi_-QO97_WnUmpDPsYlbQV6ZX5dIlOwdWJNZBs5hnLUzr4_1OP9xkSoKuT-BtXnwaJkJ0_-zy-KVU1ZxHt3MPaokeNeIXwvsby0PF0F2LU1ZT3g8YWzgkQ9ocw9skYvF3ONWGasakGLtusv8MBIkSLSrWqLE0MFyfSl5ZvWtObd2Goyrz8bwjTwhY9XPaA0e3cDpKVAWOge-V1AbPtI8DdrmPcn6qkxenBlV4hkUs6pmH2_Es3QQKSA_tdPQMkRDga4RYBZ4ICWdWNbO4A6KjH5rfwBS013_SFsDmgfsH1cgwIZf40JE3Krc8oUWpiWntPm69
2025-11-20 09:25:06,471 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:06,471 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:06,472 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:06,472 [INFO] seed_city - [SeedCity] Charger ch_ac12d2ef75f9 category 'coffee': Found 10 places
2025-11-20 09:25:06,483 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:06,604 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10766cb80>
2025-11-20 09:25:06,605 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4040> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:06,682 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2bb0>
2025-11-20 09:25:06,683 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:06,684 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:06,684 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:06,685 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:06,685 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:06,908 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:06 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4011'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=87'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:06,908 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259966%2C-97.752658&destinations=30.2612339%2C-97.75786389999999%7C30.26587%2C-97.74643999999999%7C30.26447%2C-97.74377%7C30.26977999999999%2C-97.75390999999999%7C30.26546%2C-97.74043999999999%7C30.25224%2C-97.7636%7C30.26554%2C-97.73837999999999%7C30.2691051%2C-97.74037589999999%7C30.24218479999999%2C-97.7589562%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:06,908 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:06,909 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:06,909 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:06,909 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:06,910 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:06,910 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:06,912 [ERROR] seed_city - Error processing category coffee for charger ch_ac12d2ef75f9: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJGwiZsuC1RIYRNULt39HWypo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:25:06,913 [INFO] seed_city - [SeedCity] Charger ch_ac12d2ef75f9: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 09:25:06,913 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259966 lng=-97.752658 type=restaurant radius=1000
2025-11-20 09:25:06,922 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:06,969 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e3430>
2025-11-20 09:25:06,969 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8ac0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:07,152 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d5c70>
2025-11-20 09:25:07,154 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:07,155 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:07,155 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:07,155 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:07,155 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:07,683 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:07 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:07 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49241'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=477'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:07,684 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259966%2C-97.752658&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 09:25:07,685 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:07,772 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:07,773 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:07,773 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:07,774 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259966,-97.752658', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 09:25:07,775 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4HlOw6gwu-2veytklGcpCjxbmHxhOn5ApGeuVNBOiP6dqRpo5mSRFgGphkk0gv_VxiKAgGQQhdPdfrzx4rv3NRJ-eR7Mf-9tCJYW_lk50ezWERORtpHERPeKp_za0DICScMcOuvtzFag9admpazGmqlOxL0SRWOXRgaJW7247uEUyT7dGXkpFZppRoPQDq9M7PI8vC1p0OJOhGPF6Kp3tDp3GKtDWUnt25DAQYw3lpAPSHIpx-SbqiEleMBoTOVFbEHh4UgKLmrhia7Oug-XuDCGWXHwJsnTtHqnEXksZlEUNudHc8WNPwVjSasLNH0qDJRa8Vt7E0UiXJsHlAiBcTL5PGjAV1C51cMZB_FqAnPj_QLLXzvjaFq_FqSn6JUai9PVi71wSGBYXR0t4oEP3YSSDPXlioPC2F77CA7kSJiD1AVSixEEvDLnoWLKy0H8
2025-11-20 09:25:07,776 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:07,776 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:07,776 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:07,777 [INFO] seed_city - [SeedCity] Charger ch_ac12d2ef75f9 category 'food': Found 10 places
2025-11-20 09:25:07,788 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:07,847 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e6be0>
2025-11-20 09:25:07,848 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8c10> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:08,014 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e6280>
2025-11-20 09:25:08,015 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:08,016 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:08,016 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:08,016 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:08,017 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:08,145 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:08 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4082'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=37'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:08,146 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259966%2C-97.752658&destinations=30.2638786%2C-97.75682049999999%7C30.2649201%2C-97.7492858%7C30.2660503%2C-97.7501571%7C30.2656938%2C-97.7485706%7C30.2656068%2C-97.7483158%7C30.266876%2C-97.7528456%7C30.2534769%2C-97.74788769999999%7C30.25331539999999%2C-97.74802439999999%7C30.2526168%2C-97.7476959%7C30.2635186%2C-97.74358&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:08,146 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:08,147 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:08,147 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:08,148 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:08,148 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:08,148 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:08,250 [INFO] seed_city - [SeedCity] Charger ch_ac12d2ef75f9: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 09:25:08,250 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259966 lng=-97.752658 type=supermarket radius=1000
2025-11-20 09:25:08,263 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:08,319 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088f5df0>
2025-11-20 09:25:08,320 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8dd0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:08,525 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088f5e50>
2025-11-20 09:25:08,527 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:08,528 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:08,528 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:08,528 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:08,528 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:09,081 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:09 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:09 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'21518'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=449'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:09,081 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259966%2C-97.752658&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 09:25:09,081 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:09,194 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:09,195 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:09,195 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:09,196 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259966,-97.752658', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 09:25:09,196 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 09:25:09,197 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=8
2025-11-20 09:25:09,197 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:09,197 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:09,197 [INFO] seed_city - [SeedCity] Charger ch_ac12d2ef75f9 category 'groceries': Found 8 places
2025-11-20 09:25:09,209 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:09,262 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e3d60>
2025-11-20 09:25:09,262 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x108876ba0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:09,363 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1074fb8e0>
2025-11-20 09:25:09,364 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:09,364 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:09,365 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:09,365 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:09,365 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:09,526 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:09 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3398'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=97'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:09,527 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259966%2C-97.752658&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2975583%2C-97.7410694%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:09,528 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:09,529 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:09,529 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:09,530 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:09,530 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:09,531 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:09,632 [INFO] seed_city - [SeedCity] Charger ch_ac12d2ef75f9: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 09:25:09,633 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.259966 lng=-97.752658 type=gym radius=1000
2025-11-20 09:25:09,645 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:09,766 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b38b0>
2025-11-20 09:25:09,766 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4120> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:09,873 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e6df0>
2025-11-20 09:25:09,875 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:09,876 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:09,876 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:09,876 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:09,877 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:10,418 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:10 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:10 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47200'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=435'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:10,419 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.259966%2C-97.752658&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 09:25:10,419 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:10,580 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:10,580 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:10,580 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:10,581 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.259966,-97.752658', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 09:25:10,582 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4D_08sht19m-ZT8C8eMUs5jqY3St6I1IgLnn0d_587wljJhyRUv1zL8bD2iPbIi5-rurQOXN8FtxJDzM_zl1yCcswriwR7UHGuZSkd3e7hGhPDCNxZgPjPeIwc_96NSPSRy35covzHvvMnVuJg2FTr-dysaD7BPzrlV4NSHWcRySXoxWesoEhAkfnSteOa10E0qIB2CicexikmGfFrr-S9n2EUTmlz0dOZC7ajEEsayuy7bx6qBqgXYZ1TnY1HPV-HDP3J2RSBMmLYLHgfKRHhcVxVuGDlIx3t8ILvIuAmeYZevRi3conltGFsdQbfwK40TT--VYZdRn2O7nH2HA-VkgeSRIUA9xSRL_xmRGySIF9QrmFzNwk0fEBiBksYoOWBEHDyg6tpoLA_3_QgvNu7ULpknGK9mheinXe--FnSMJ9OemNsryoNqODsIIfZ2-
2025-11-20 09:25:10,582 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:10,582 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:10,583 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:10,583 [INFO] seed_city - [SeedCity] Charger ch_ac12d2ef75f9 category 'gym': Found 10 places
2025-11-20 09:25:10,595 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:10,628 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2e50>
2025-11-20 09:25:10,628 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8a50> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:10,765 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2fd0>
2025-11-20 09:25:10,765 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:10,766 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:10,766 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:10,766 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:10,766 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:10,844 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:10 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4040'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=37'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:10,846 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.259966%2C-97.752658&destinations=30.2628555%2C-97.7585568%7C30.2666246%2C-97.7530981%7C30.2655709%2C-97.7479626%7C30.2569738%2C-97.7604266%7C30.2539864%2C-97.74764719999999%7C30.2682716%2C-97.75482730000002%7C30.2552863%2C-97.7610763%7C30.2527893%2C-97.7470176%7C30.269586%2C-97.75380860000001%7C30.267153%2C-97.7430608&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:10,846 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:10,847 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:10,847 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:10,847 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:10,848 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:10,848 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:10,950 [WARNING] seed_city - No merchants found for charger PIE AE PALMER STATION7
2025-11-20 09:25:10,953 [INFO] seed_city - [SeedCity] Charger ch_dd2c73fa134e: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 09:25:10,953 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.248932 lng=-97.762283 type=cafe radius=1000
2025-11-20 09:25:10,965 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:11,012 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c4eb0>
2025-11-20 09:25:11,012 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8cf0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:11,173 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2e80>
2025-11-20 09:25:11,174 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:11,175 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:11,175 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:11,175 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:11,176 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:11,709 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:11 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:11 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49802'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=492'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:11,710 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.248932%2C-97.762283&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 09:25:11,710 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:11,803 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:11,804 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:11,804 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:11,805 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.248932,-97.762283', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 09:25:11,806 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU72hm3XDrHLskEgOOS2Umu1Sk1txkoYR0Phh762OGXplNEN75-eL7Ax0skT2h8lV5OODlXZHQh9pPSlahnuaxVSDyDhUu5Atd0_2HaRUKWqAzYQQNZWTmGkbPet3vY_WTTDFhDlyv0CwGueuPWihbCNSkVh6v8mxMNLTVB756UfaBjXxysUZN9iVDIVUk_hwjgSHJhsQ92vXRhOvzheoNIajs8dvJpYD9Pw2bZF1WDx-JDmG0MlrXDXamzPBMbTT2RJhiqOOZHI7L2dMlvzuNDRFh-UCl26OGBUzTNgeZ9z41EQBkbMkkt-uVOojaud6QCkQGI22kEZf1p9Yzu9OJFmTAolFB_jLEvuqEquJb0yfHueeZi58ZqqSl0gY5gLiZ7YWOnecd5KnoBzGITHEndp6gWYZogrNlo5pqzcNb16lrA-gWSl2qJxzr2uTHG3aj
2025-11-20 09:25:11,806 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:11,807 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:11,807 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:11,807 [INFO] seed_city - [SeedCity] Charger ch_dd2c73fa134e category 'coffee': Found 10 places
2025-11-20 09:25:11,819 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:11,869 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088dbfd0>
2025-11-20 09:25:11,869 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4040> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:11,979 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088dbbe0>
2025-11-20 09:25:11,980 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:11,980 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:11,980 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:11,981 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:11,981 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:12,147 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:12 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4011'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=114'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:12,148 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.248932%2C-97.762283&destinations=30.25224%2C-97.7636%7C30.24218479999999%2C-97.7589562%7C30.2612339%2C-97.75786389999999%7C30.26587%2C-97.74643999999999%7C30.26977999999999%2C-97.75390999999999%7C30.26447%2C-97.74377%7C30.23371%2C-97.74239999999999%7C30.26546%2C-97.74043999999999%7C30.26554%2C-97.73837999999999%7C30.2691051%2C-97.74037589999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:12,148 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:12,149 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:12,149 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:12,149 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:12,150 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:12,150 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:12,251 [INFO] seed_city - [SeedCity] Charger ch_dd2c73fa134e: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 09:25:12,252 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.248932 lng=-97.762283 type=restaurant radius=1000
2025-11-20 09:25:12,264 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:12,302 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088beee0>
2025-11-20 09:25:12,302 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8c10> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:12,386 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088db6a0>
2025-11-20 09:25:12,387 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:12,388 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:12,388 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:12,388 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:12,389 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:12,979 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:12 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:12 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50507'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=452'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:12,980 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.248932%2C-97.762283&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 09:25:12,981 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:13,043 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:13,043 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:13,044 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:13,045 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.248932,-97.762283', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 09:25:13,046 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU42sZRX47GkZ0SD_5l7OxgBi5537GMvmXXr0svEwhPtGVH3GAmWz98mcFvSU7kXCdVjlZDczfRHmbEglZLFcd0kPasTzQNcd_actSkGDFXdYoDv1IWEkeRBPnoWx9LjYsvEZm3Wd06SwgsyrsAmRSqjJaTpzHSLvIPCj_9ncJcuSU6PYjU7eJNRepd9m-zHi6ZU8yAdK8jwL2lDcfRRVVJ_WyFb_6AQA2i_y9Z64yFosGZclkvO9f7HaqzIOsZu8dNXNrqBPspZMwsy9tR_jiwiC6s0ImswfBSsz4wr2kgVdoi-143BaDgZCaABSw50GCDPOYujgkTPdB4zF4JfOipVTlIeRX-6afx3xW_sRcykdO2IxJOPCorTSOtgM1-Nro_dEroXKYRvPRzXEsMe90ztNVw4uA68d2oZvMTqi2KIjxBgW9t80beD9N0QAtZAv-
2025-11-20 09:25:13,046 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:13,046 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:13,047 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:13,047 [INFO] seed_city - [SeedCity] Charger ch_dd2c73fa134e category 'food': Found 10 places
2025-11-20 09:25:13,057 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:13,195 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076bc850>
2025-11-20 09:25:13,196 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4040> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:13,295 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088dbe80>
2025-11-20 09:25:13,297 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:13,297 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:13,298 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:13,298 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:13,298 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:13,444 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:13 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4048'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=92'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:13,445 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.248932%2C-97.762283&destinations=30.2508795%2C-97.7659164%7C30.2465449%2C-97.7567582%7C30.2546975%2C-97.7626693%7C30.2494868%2C-97.7555656%7C30.24445649999999%2C-97.7519537%7C30.247111%2C-97.750424%7C30.2410896%2C-97.7529007%7C30.2392655%2C-97.7537141%7C30.25331539999999%2C-97.74802439999999%7C30.2526168%2C-97.7476959&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:13,445 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:13,447 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:13,447 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:13,447 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:13,448 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:13,448 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:13,450 [ERROR] seed_city - Error processing category food for charger ch_dd2c73fa134e: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJH-Sj5OK0RIYRjC-_RrNEotk', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJH-Sj5OK0RIYRjC-_RrNEotk', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:25:13,451 [INFO] seed_city - [SeedCity] Charger ch_dd2c73fa134e: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 09:25:13,451 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.248932 lng=-97.762283 type=supermarket radius=1000
2025-11-20 09:25:13,463 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:13,497 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c11f0>
2025-11-20 09:25:13,497 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8e40> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:13,574 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c7af0>
2025-11-20 09:25:13,575 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:13,576 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:13,576 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:13,576 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:13,577 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:14,105 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:14 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:14 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=443'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:14,106 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.248932%2C-97.762283&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 09:25:14,107 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:14,132 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:14,133 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:14,133 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:14,134 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.248932,-97.762283', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 09:25:14,134 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 09:25:14,135 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 09:25:14,135 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:14,135 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:14,135 [INFO] seed_city - [SeedCity] Charger ch_dd2c73fa134e category 'groceries': Found 7 places
2025-11-20 09:25:14,148 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:14,271 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1074fb910>
2025-11-20 09:25:14,272 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8c80> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:14,352 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b3e80>
2025-11-20 09:25:14,353 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:14,354 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:14,354 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:14,354 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:14,354 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:14,450 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:14 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3000'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=57'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:14,451 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.248932%2C-97.762283&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:14,452 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:14,452 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:14,452 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:14,453 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:14,453 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:14,454 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:14,555 [INFO] seed_city - [SeedCity] Charger ch_dd2c73fa134e: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 09:25:14,556 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.248932 lng=-97.762283 type=gym radius=1000
2025-11-20 09:25:14,570 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:14,606 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e6ac0>
2025-11-20 09:25:14,606 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8ac0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:14,769 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d56d0>
2025-11-20 09:25:14,770 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:14,771 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:14,771 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:14,771 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:14,771 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:15,295 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:15 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:15 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47052'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=394'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:15,297 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.248932%2C-97.762283&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 09:25:15,298 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:15,354 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:15,354 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:15,354 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:15,355 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.248932,-97.762283', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 09:25:15,356 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5vCarDHboq9kM_RCjSYUpIUI3F-g37yAv683KyZiVg83U3dmKNFVRhxcrTgO4xQzUa38JuYgG5lCMaRyO6Q5qZcGaw0VSmSTCSpqjd04eNqIGsMMg63XYjrl8-CBpkZbDQP3IEhlYVrJVLYgUiJAKFHMiopE4kdR72XBuSjXBpH2VVFH_bOAKysxkHtYI6G1lV0vCTA2dY0oWYR6mv3-mcqkxARcEI7gbPfKJ7aHVVXO5Jpa6StlaMR7I8PrxONofXcDvoNh1JdFizRb3k_w4Blnc12f8Zygswnlw7Lpuo5ge54Wa31t-27R8J17JLTGqW669b9WvGC_3xQYU2C1gHmGNXvQvR1KCg6czBZL8dQ8EmP8elro-JM1s4dAYIftH62sIiSJFOVd_hgcQelPBF1YtQG0SZO8c-BE7yqHlpHAIcnTgPLxXICx6RSIUy-J
2025-11-20 09:25:15,356 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:15,357 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:15,357 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:15,357 [INFO] seed_city - [SeedCity] Charger ch_dd2c73fa134e category 'gym': Found 10 places
2025-11-20 09:25:15,368 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:15,410 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b6640>
2025-11-20 09:25:15,411 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8dd0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:15,490 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b63d0>
2025-11-20 09:25:15,491 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:15,492 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:15,492 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:15,493 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:15,493 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:15,629 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:15 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4059'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=95'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:15,630 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.248932%2C-97.762283&destinations=30.2531154%2C-97.76364720000001%7C30.2488772%2C-97.755692%7C30.243991%2C-97.758557%7C30.2549179%2C-97.7608004%7C30.2491111%2C-97.754976%7C30.2552863%2C-97.7610763%7C30.2569738%2C-97.7604266%7C30.24861799999999%2C-97.7729454%7C30.2474922%2C-97.7762869%7C30.2539864%2C-97.74764719999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:15,630 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:15,631 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:15,631 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:15,631 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:15,632 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:15,632 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:15,734 [WARNING] seed_city - No merchants found for charger COA TWIN OAKS #1
2025-11-20 09:25:15,737 [INFO] seed_city - [SeedCity] Charger ch_ca6bab9770d8: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 09:25:15,737 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.254126 lng=-97.76156 type=cafe radius=1000
2025-11-20 09:25:15,750 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:15,861 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e25e0>
2025-11-20 09:25:15,862 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x10778af90> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:15,964 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2730>
2025-11-20 09:25:15,965 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:15,966 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:15,966 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:15,966 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:15,966 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:16,767 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:16 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:16 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50039'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=713'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:16,767 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.254126%2C-97.76156&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 09:25:16,768 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:16,910 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:16,911 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:16,911 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:16,913 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.254126,-97.76156', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 09:25:16,914 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5KAZd1xboPnEuuM9YvN7vTrMwkxMN9oUbJK27OgRcMOELeVjgidc0MSoxiQto88HO3DSFwLWEC9kzD_f3avE9x-SeKdOnmCvOK-wjz3544bD78YPIGjiJaKsbvZiZs9-w-V4xkIFhmXVzBhhTAyWAdbvkXdu3dJnGjcTFhDsfVqf0FbGDiB8qf9zKeGIViGx894JeVwKGVaiIFRG5OHD65rSWTrks7bwLqPi00Ok3qHUdxOOpU-LhNK5CKkF05OB-899mre12aNYasN9pUUQb79pe-yEBYIC_sxIw4ZlnY0HMXffgonemkpi5F2o1120KZbz552AGUwuvfK46wvDflQ7UpAINEe1wbQOH0oPYyPQWfwKWkmZRePQsnkDFon8-MS05D7Zfkd1UsaAzqJrM4XO6bkRgbnLucP1OtFxjby9IJ4_jHKZQGqMAFR3wIyD
2025-11-20 09:25:16,915 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:16,915 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:16,915 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:16,916 [INFO] seed_city - [SeedCity] Charger ch_ca6bab9770d8 category 'coffee': Found 10 places
2025-11-20 09:25:16,927 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:16,961 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d54c0>
2025-11-20 09:25:16,961 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8eb0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:17,033 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b6910>
2025-11-20 09:25:17,034 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:17,035 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:17,035 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:17,036 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:17,036 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:17,157 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:17 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3997'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=81'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:17,158 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.254126%2C-97.76156&destinations=30.25224%2C-97.7636%7C30.2612339%2C-97.75786389999999%7C30.24218479999999%2C-97.7589562%7C30.26977999999999%2C-97.75390999999999%7C30.26587%2C-97.74643999999999%7C30.26447%2C-97.74377%7C30.26546%2C-97.74043999999999%7C30.26554%2C-97.73837999999999%7C30.23371%2C-97.74239999999999%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:17,159 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:17,160 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:17,160 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:17,160 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:17,161 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:17,161 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:17,163 [ERROR] seed_city - Error processing category coffee for charger ch_ca6bab9770d8: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJAz-oAyC1RIYRJVI8s7gkfTM', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJAz-oAyC1RIYRJVI8s7gkfTM', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:25:17,164 [INFO] seed_city - [SeedCity] Charger ch_ca6bab9770d8: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 09:25:17,165 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.254126 lng=-97.76156 type=restaurant radius=1000
2025-11-20 09:25:17,175 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:17,223 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e3280>
2025-11-20 09:25:17,224 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4120> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:17,387 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e6d60>
2025-11-20 09:25:17,388 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:17,388 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:17,388 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:17,389 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:17,389 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:18,122 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:18 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:18 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49835'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=677'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:18,123 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.254126%2C-97.76156&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 09:25:18,124 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:18,214 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:18,214 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:18,215 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:18,216 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.254126,-97.76156', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 09:25:18,216 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4mKgm7BsQqbY6GX3FWq7cYfo-RQh3hVFrwXvVjsLwFqxRPMdurcYr_W6YmpAe7ZXxHz7qxxvDsi5Nc6u48mQ71si6RDoUTnDdbxaWoz0gMmEPxZSiUtaIn0OhP6_oGfRmUEGXTLWSEcTcEomUgXjs2Cq9Xq4oKlzDFhC-19d9eLC4tc4_Ch8HCtMOu7_TDWFlXNEurw7q4oqHWjNfbddQeOc5jO68bRdjnIJcByqFfJ6UzwIIgwPeA_vGFtn2oOOz0VV1XKPJ1Mfk_rSSWY3Hoy3PvT0YmC350lIswZ0QPo63HxyJXW8dNQaWCJOJwoxXxf5nF_VciJo4-wyr8y_31ul0gMSzqSIpT0bvJzex5VzfWpjlKG25x34-h0a4RIiCVxMJnS0u-aWIvzh-4wFruxQE2mD8ocAmGzl7Re64JeRF1KaOJKMatqIYvekjqno
2025-11-20 09:25:18,217 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:18,217 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:18,217 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:18,217 [INFO] seed_city - [SeedCity] Charger ch_ca6bab9770d8 category 'food': Found 10 places
2025-11-20 09:25:18,229 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:18,278 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088cee50>
2025-11-20 09:25:18,278 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8dd0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:18,383 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10766ca30>
2025-11-20 09:25:18,384 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:18,385 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:18,385 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:18,385 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:18,385 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:18,528 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:18 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4040'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=93'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:18,530 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.254126%2C-97.76156&destinations=30.254672%2C-97.762051%7C30.2546975%2C-97.7626693%7C30.2536504%2C-97.7628601%7C30.2508795%2C-97.7659164%7C30.2494868%2C-97.7555656%7C30.2465449%2C-97.7567582%7C30.2641631%2C-97.7617126%7C30.2638786%2C-97.75682049999999%7C30.2534769%2C-97.74788769999999%7C30.2526168%2C-97.7476959&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:18,530 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:18,531 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:18,531 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:18,531 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:18,532 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:18,533 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:18,536 [ERROR] seed_city - Error processing category food for charger ch_ca6bab9770d8: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJi8__nx-1RIYR56djED9FLLE', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJi8__nx-1RIYR56djED9FLLE', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:25:18,537 [INFO] seed_city - [SeedCity] Charger ch_ca6bab9770d8: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 09:25:18,537 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.254126 lng=-97.76156 type=supermarket radius=1000
2025-11-20 09:25:18,548 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:18,581 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c45e0>
2025-11-20 09:25:18,581 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8c80> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:18,651 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c4e50>
2025-11-20 09:25:18,652 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:18,653 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:18,653 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:18,653 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:18,653 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:19,229 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:19 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:19 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=457'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:19,230 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.254126%2C-97.76156&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 09:25:19,230 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:19,260 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:19,261 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:19,261 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:19,262 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.254126,-97.76156', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 09:25:19,262 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 09:25:19,263 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 09:25:19,263 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:19,263 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:19,263 [INFO] seed_city - [SeedCity] Charger ch_ca6bab9770d8 category 'groceries': Found 7 places
2025-11-20 09:25:19,275 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:19,309 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088f5190>
2025-11-20 09:25:19,310 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8820> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:19,397 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088db4f0>
2025-11-20 09:25:19,398 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:19,399 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:19,399 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:19,399 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:19,399 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:19,500 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:19 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3003'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=55'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:19,502 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.254126%2C-97.76156&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:19,502 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:19,503 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:19,503 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:19,503 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:19,504 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:19,504 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:19,606 [INFO] seed_city - [SeedCity] Charger ch_ca6bab9770d8: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 09:25:19,607 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.254126 lng=-97.76156 type=gym radius=1000
2025-11-20 09:25:19,620 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:19,662 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d7eb0>
2025-11-20 09:25:19,663 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8ac0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:19,742 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d7ca0>
2025-11-20 09:25:19,743 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:19,744 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:19,745 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:19,745 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:19,745 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:20,272 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:20 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:20 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47192'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=484'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:20,273 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.254126%2C-97.76156&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 09:25:20,274 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:20,327 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:20,327 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:20,327 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:20,328 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.254126,-97.76156', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 09:25:20,328 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7sAockPEGrquExlHs5GoyKbfn8dCfErgHnPmCjnNI40d83qmUFNc7XmlLDKLaFD3z-j93ZywjP73gxFYfEtJvTjED6G2vW6DvM6PcI43FlJwI2ifhLcuQqTqwZTLsSmEl2_pEfh8cytU-Dfdb7L6DjRTAld0dO7HeEcmoFxXYIeYl_lXpCgN-FPd7udItCGSKd4xDJ-TKqJtZrO4JpXkBGHrsYpJOJCNdiMcfphOX_ZcvYgTNL04BXnVY1pgd80Wwv41ZlX8cDiwVFFx-G2xFiMBKuXx0GXPgAj9lqVqIPdKkGIc4dqLUMVBvo27ktl6mvtXWvNHn00RoldxY5j-Hf8WVIWlgxDgsRoCSChqhna2UQFAXLXuruu6abgHXKCLDTm08nhyOov83uZprRjKq_o-lmUP3oSfMp7svJSADDxrz9im26K780oGSCxAgSn2
2025-11-20 09:25:20,329 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:20,329 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:20,329 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:20,329 [INFO] seed_city - [SeedCity] Charger ch_ca6bab9770d8 category 'gym': Found 10 places
2025-11-20 09:25:20,338 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:20,375 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c4fa0>
2025-11-20 09:25:20,375 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4120> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:20,456 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088db1c0>
2025-11-20 09:25:20,457 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:20,458 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:20,458 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:20,458 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:20,458 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:20,538 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:20 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4043'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=38'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:20,540 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.254126%2C-97.76156&destinations=30.2549179%2C-97.7608004%7C30.2552863%2C-97.7610763%7C30.2531154%2C-97.76364720000001%7C30.2569738%2C-97.7604266%7C30.2491111%2C-97.754976%7C30.2628555%2C-97.7585568%7C30.243991%2C-97.758557%7C30.24861799999999%2C-97.7729454%7C30.2539864%2C-97.74764719999999%7C30.2527893%2C-97.7470176&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:20,540 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:20,541 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:20,541 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:20,542 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:20,542 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:20,543 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:20,545 [ERROR] seed_city - Error processing category gym for charger ch_ca6bab9770d8: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJmXE1EUW1RIYRemcfe-qbQtw', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJmXE1EUW1RIYRemcfe-qbQtw', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:25:20,546 [WARNING] seed_city - No merchants found for charger GIBSON FLATS STATION1
2025-11-20 09:25:20,548 [INFO] seed_city - [SeedCity] Charger ch_3b2aabfceccc: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 09:25:20,548 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.260466 lng=-97.746417 type=cafe radius=1000
2025-11-20 09:25:20,559 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:20,609 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10766c400>
2025-11-20 09:25:20,609 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8eb0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:20,718 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c17f0>
2025-11-20 09:25:20,720 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:20,721 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:20,721 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:20,721 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:20,721 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:21,333 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:21 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:21 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50379'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=561'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:21,334 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.260466%2C-97.746417&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 09:25:21,334 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:21,421 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:21,422 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:21,423 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:21,424 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.260466,-97.746417', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 09:25:21,425 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4SuLzSfC-eX6BzEXJGb00FTDun-oAmB8F3zUo6jtQO5Mbcw0-dS_ldGgez3xoVQ-Oe7KML5hitPccRPD_6eT_sX0DQzbU1sPNFEWyJskMJjncMwwDMiRAPhp5p9V1hwUEUQNn1nepJgH0JRyi9XSqFrsTbTfYAgL2loU5pPl3I8tgnC7AgoeqJrVZA9qX65hwt6P5XLJpw5qJrOu8cLnI9DIrDB-phKEfpo-Zvga_tRq0UJtKeGuu5EkeoL11jKO7LXavYgqGf2D5P6DIo9GKcb6m5uNMtIqRZGvyWI3aHCY58BhpxXJInKGsun_2YorVKSd6C3WbroSJSasdmJ5Wf6t914bEU-X014rlKSIvQMquw4RppFhtvvkbINjbjxe_Ib_7gJ_0QHEiKiQj8VFxzr5AlcSTR3-HA-Z35RRw9A2FkkxsvCd2BNvLfeQRKwv
2025-11-20 09:25:21,425 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:21,426 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:21,426 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:21,426 [INFO] seed_city - [SeedCity] Charger ch_3b2aabfceccc category 'coffee': Found 10 places
2025-11-20 09:25:21,438 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:21,489 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b6970>
2025-11-20 09:25:21,489 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4040> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:21,603 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d5eb0>
2025-11-20 09:25:21,604 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:21,605 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:21,605 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:21,605 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:21,606 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:21,756 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:21 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4012'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=100'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:21,757 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.260466%2C-97.746417&destinations=30.26447%2C-97.74377%7C30.26587%2C-97.74643999999999%7C30.26546%2C-97.74043999999999%7C30.26554%2C-97.73837999999999%7C30.2686222%2C-97.74239070000002%7C30.2510458%2C-97.74937170000001%7C30.2612339%2C-97.75786389999999%7C30.2691051%2C-97.74037589999999%7C30.26977999999999%2C-97.75390999999999%7C30.25224%2C-97.7636&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:21,757 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:21,759 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:21,759 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:21,759 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:21,760 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:21,760 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:21,862 [INFO] seed_city - [SeedCity] Charger ch_3b2aabfceccc: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 09:25:21,862 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.260466 lng=-97.746417 type=restaurant radius=1000
2025-11-20 09:25:21,871 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:21,905 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e3190>
2025-11-20 09:25:21,905 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a87b0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:21,990 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088be640>
2025-11-20 09:25:21,991 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:21,992 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:21,992 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:21,992 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:21,993 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:22,611 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:22 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:22 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49796'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=506'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:22,612 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.260466%2C-97.746417&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 09:25:22,613 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:22,678 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:22,678 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:22,678 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:22,680 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.260466,-97.746417', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 09:25:22,681 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5AXxG4sAK3Vu24EWFrMHyfh6VNUO-QzB6ZqiIXGb5sUTj59DEvfnFhkejtWHS2jQ18g0SQo0QBLcdJw4MjHnevHQPst_OeZ9U-DjqYsHR_C0pjMh3k40lo34oVedXKrrUdWvQXtrIziDEvp70BQavvMvCe91qydKnDb0JBYBy1bRyJMu8ja1Ho0O2DG3qLoKvelBVKYp-bdVe82YRq756r_fFNgbUtmeUJylPggIIDGhMqadrxIge-5MUanqh18UYYrA-YGkuxt3JZ9vCoVunkaUP5EvbKvRgdBzvYzSVrhJC9ux6wBTIbvwc6u2Dnia0KTfOlbAa4Yrx9Jm_eghecCcdzHjCQOxKFrOE3BqzVuLzYsFfgQuC0f2o4C6nq5twcX-8l2Vzi-LEbUTHKNwtva00WJSgArd_SBr35AwGk5gqsLWDOA5BY93YcNdRr2k
2025-11-20 09:25:22,681 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:22,681 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:22,682 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:22,682 [INFO] seed_city - [SeedCity] Charger ch_3b2aabfceccc category 'food': Found 10 places
2025-11-20 09:25:22,693 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:22,743 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088f5b50>
2025-11-20 09:25:22,744 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8e40> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:22,849 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b36d0>
2025-11-20 09:25:22,850 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:22,851 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:22,851 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:22,851 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:22,851 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:23,014 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:23 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4020'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=107'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:23,015 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.260466%2C-97.746417&destinations=30.2635186%2C-97.74358%7C30.2645913%2C-97.74389%7C30.2627059%2C-97.7415901%7C30.2627011%2C-97.74157629999999%7C30.263486%2C-97.74173479999999%7C30.2649201%2C-97.7492858%7C30.2656068%2C-97.7483158%7C30.2656938%2C-97.7485706%7C30.265525%2C-97.742819%7C30.26005739999999%2C-97.7392578&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:23,016 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:23,016 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:23,017 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:23,017 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:23,017 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:23,018 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:23,119 [INFO] seed_city - [SeedCity] Charger ch_3b2aabfceccc: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 09:25:23,120 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.260466 lng=-97.746417 type=supermarket radius=1000
2025-11-20 09:25:23,133 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:23,166 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e29d0>
2025-11-20 09:25:23,166 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x108876ba0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:23,255 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088ce670>
2025-11-20 09:25:23,256 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:23,257 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:23,257 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:23,257 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:23,257 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:23,835 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:23 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:23 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'21518'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=506'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:23,837 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.260466%2C-97.746417&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 09:25:23,837 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:23,873 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:23,874 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:23,874 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:23,875 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.260466,-97.746417', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 09:25:23,876 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2643126, "lng": -97.7340971}, "viewport": {"northeast": {"lat": 30.26576902989272, "lng": -97.73269037010728}, "southwest": {"lat": 30.26306937010727, "lng": -97.73539002989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcar
2025-11-20 09:25:23,876 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=8
2025-11-20 09:25:23,876 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:23,877 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:23,877 [INFO] seed_city - [SeedCity] Charger ch_3b2aabfceccc category 'groceries': Found 8 places
2025-11-20 09:25:23,888 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:23,940 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b3eb0>
2025-11-20 09:25:23,940 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4040> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:24,049 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088f5a00>
2025-11-20 09:25:24,050 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:24,051 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:24,051 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:24,051 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:24,051 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:24,170 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:24 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3393'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=68'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:24,171 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.260466%2C-97.746417&destinations=30.2643126%2C-97.7340971%7C30.2706339%2C-97.753587%7C30.2975583%2C-97.7410694%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:24,172 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:24,173 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:24,173 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:24,173 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:24,174 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:24,174 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:24,276 [INFO] seed_city - [SeedCity] Charger ch_3b2aabfceccc: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 09:25:24,276 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.260466 lng=-97.746417 type=gym radius=1000
2025-11-20 09:25:24,289 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:24,326 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b6070>
2025-11-20 09:25:24,326 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x10778af90> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:24,400 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b30a0>
2025-11-20 09:25:24,400 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:24,401 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:24,401 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:24,401 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:24,401 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:24,964 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:24 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:24 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'46572'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=474'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:24,965 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.260466%2C-97.746417&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 09:25:24,965 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:25,019 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:25,020 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:25,020 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:25,021 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.260466,-97.746417', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 09:25:25,022 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU4mCIOtPqcmS9_M120EfhVLiSqV4YypMYN_Zivi9LmJBo91WCv_9ZFNl5zB4krNtJZNr7vwnG6b75qKiiUjwkLVt1xkDTOrPrXbkS1CLmmU5fx6S1K_rIdIQBXYBHXwvLXwN_z3Y2_OoCT1MBDDIKhvs9LepBRx9i5hq4iVyegGWIhA_F86_PDrsjvgWBBCSUqwR9d5Ck0cZIMIxkwfvO9RQb2sx7DDgtWrd8t1rnjeASUOqV_7MVadjEAAUagePeNGz9mxIZ2bNqSb8IM9inggYJxcq2S8EVAfawViZQ9dO8qoBfTBZLNjZHPScwWh4okFFYKXqZCQZD9UrYKXN8EzlshUwOdqVb6ULmtx0kCIBKaLFO90xxO_PZ-fxtifyvAcjB4oYKEsJJpNxTPndXh5hvLOEohbtzddbpjc2qOcTdErA7zloxwgr9CRsOJcHx
2025-11-20 09:25:25,022 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:25,022 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:25,023 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:25,023 [INFO] seed_city - [SeedCity] Charger ch_3b2aabfceccc category 'gym': Found 10 places
2025-11-20 09:25:25,034 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:25,087 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e6b50>
2025-11-20 09:25:25,087 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8eb0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:25,195 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e6e50>
2025-11-20 09:25:25,196 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:25,197 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:25,197 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:25,197 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:25,198 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:25,278 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:25 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4006'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=33'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:25,279 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.260466%2C-97.746417&destinations=30.260628%2C-97.741897%7C30.2655709%2C-97.7479626%7C30.2539864%2C-97.74764719999999%7C30.267153%2C-97.7430608%7C30.2527893%2C-97.7470176%7C30.267006%2C-97.7416592%7C30.2692988%2C-97.7440922%7C30.2682716%2C-97.75482730000002%7C30.2628555%2C-97.7585568%7C30.269586%2C-97.75380860000001&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:25,280 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:25,281 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:25,281 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:25,281 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:25,282 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:25,282 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:25,384 [WARNING] seed_city - No merchants found for charger HYATT AUSTIN STATION1
2025-11-20 09:25:25,387 [INFO] seed_city - [SeedCity] Charger ch_dfed1bf5eecd: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 09:25:25,388 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256224 lng=-97.73954 type=cafe radius=1000
2025-11-20 09:25:25,399 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:25,449 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088f5310>
2025-11-20 09:25:25,449 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8820> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:25,559 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b6970>
2025-11-20 09:25:25,559 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:25,560 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:25,560 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:25,561 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:25,561 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:26,420 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:26 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:26 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50534'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=713'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:26,421 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256224%2C-97.73954&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 09:25:26,422 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:26,571 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:26,571 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:26,572 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:26,573 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256224,-97.73954', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 09:25:26,574 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5AbSPCqAnb_MKEhH4qjZmobG-d1hdYzo6S8Hn-w8hjS2JfG0xnqNsMk3UuqnGulRRmE2JgS8nTZoRnDPoolbIZzX5o2NLjabRuOS3vncFyfeiMhkYia2FrPxDfTM91byjfGn6MBlP8cRu_NMS7tdw1Nh-4oMpfxgnPAUTjD-wnf03hh-DA8erUY4nfMsmTIDJ79D-GZ4p2XCEDB219B1C5Yjbhn1F4kb0XlhRR4zh9__x-Daq-o8p7JxeXNZEg_gOv-1oBeaGeaqtpVvx-SERqsi2-p9RCvQRRXxdRWB5ie75kdQrmszuwFZKt963xO7dXlUCUCDDvegNcKCCG9BIgHAX08cORbqY4GFVve6vPJExvFljKTcHQIuOlCJVigpSfQFsI0zi7H-i25VsYHRA6riRq8Gfb1LUARwhqv0tQYItW9MmzzQSjpke9CW9DCZ
2025-11-20 09:25:26,574 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:26,574 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:26,575 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:26,575 [INFO] seed_city - [SeedCity] Charger ch_dfed1bf5eecd category 'coffee': Found 10 places
2025-11-20 09:25:26,586 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:26,621 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c47f0>
2025-11-20 09:25:26,621 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8ac0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:26,792 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c4880>
2025-11-20 09:25:26,793 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:26,794 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:26,799 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:26,799 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:26,800 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:26,933 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:26 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4007'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=100'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:26,934 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256224%2C-97.73954&destinations=30.2601152%2C-97.7389381%7C30.26447%2C-97.74377%7C30.26546%2C-97.74043999999999%7C30.26554%2C-97.73837999999999%7C30.26587%2C-97.74643999999999%7C30.2691051%2C-97.74037589999999%7C30.2612339%2C-97.75786389999999%7C30.2424%2C-97.72740999999999%7C30.26977999999999%2C-97.75390999999999%7C30.24322%2C-97.72099999999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:26,935 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:26,935 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:26,936 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:26,936 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:26,937 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:26,937 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:26,941 [ERROR] seed_city - Error processing category coffee for charger ch_dfed1bf5eecd: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJVW6Dnqm1RIYRWC4YsJFJAog', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJVW6Dnqm1RIYRWC4YsJFJAog', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:25:26,942 [INFO] seed_city - [SeedCity] Charger ch_dfed1bf5eecd: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 09:25:26,942 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256224 lng=-97.73954 type=restaurant radius=1000
2025-11-20 09:25:26,953 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:27,090 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d7be0>
2025-11-20 09:25:27,091 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088ecba0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:27,169 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d7100>
2025-11-20 09:25:27,171 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:27,171 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:27,172 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:27,172 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:27,172 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:27,645 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:27 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:27 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49846'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=433'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:27,646 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256224%2C-97.73954&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 09:25:27,647 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:27,808 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:27,808 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:27,808 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:27,810 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256224,-97.73954', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 09:25:27,819 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU7DSnl_76vfFMRdAKASHHMtKtG2MnroSm8aIuE5E5OdHictBnJefMy8ymIYw9wTuuXxw28ydHemYItgm-uQPhGJKL6CRK0ewcA-avnIzUDSXckskRnQay4ZdpI032KCeOPTYdVEL1MIp9kAjHqAiYV8M5aNtaOA2dxdPYfjgLdScv9lwojq3GWpR5UeFqYsdiwAuOebqP-f_lVemkh7x0GoXDzdqvym64TVC91pG6PilxPCmWFZFJyJOcRmKEBTdg5ROUtTIZF4ItX19C13BVpfT8VlT9pH6VAWMWn4bKjv3RCyVGhbsUJEq0rtuaN-GhevSnPqXYyKveW74wbgVkrk6k2pqxaibFsGQRukuUd53OVeBWtonk13o9Qs2LCdLxEydvqLw_Fhk20pliFs4zVwEMNBpOwr8bm9ml2-1ns3u1Wn_NZJ-C-WWaVpr190GJ
2025-11-20 09:25:27,819 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:27,820 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:27,820 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:27,820 [INFO] seed_city - [SeedCity] Charger ch_dfed1bf5eecd category 'food': Found 10 places
2025-11-20 09:25:27,828 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:27,864 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088dbac0>
2025-11-20 09:25:27,865 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4040> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:27,937 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c48b0>
2025-11-20 09:25:27,938 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:27,938 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:27,938 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:27,939 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:27,939 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:28,138 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:28 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4029'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=97'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:28,139 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256224%2C-97.73954&destinations=30.26005739999999%2C-97.7392578%7C30.2627011%2C-97.74157629999999%7C30.263486%2C-97.74173479999999%7C30.2637557%2C-97.7380262%7C30.2526168%2C-97.7476959%7C30.2635186%2C-97.74358%7C30.2645913%2C-97.74389%7C30.265525%2C-97.742819%7C30.2629956%2C-97.7301213%7C30.2667947%2C-97.74098740000001&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:28,139 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:28,140 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:28,140 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:28,140 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:28,140 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:28,141 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:28,142 [ERROR] seed_city - Error processing category food for charger ch_dfed1bf5eecd: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJe0EXdam1RIYR2BNXxxVItLg', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJe0EXdam1RIYR2BNXxxVItLg', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:25:28,144 [INFO] seed_city - [SeedCity] Charger ch_dfed1bf5eecd: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 09:25:28,144 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256224 lng=-97.73954 type=supermarket radius=1000
2025-11-20 09:25:28,154 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:28,186 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d5970>
2025-11-20 09:25:28,186 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8cf0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:28,329 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10766b760>
2025-11-20 09:25:28,330 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:28,330 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:28,330 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:28,331 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:28,331 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:28,876 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:28 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:28 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'21518'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=497'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:28,876 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256224%2C-97.73954&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 09:25:28,876 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:28,908 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:28,908 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:28,908 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:28,909 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256224,-97.73954', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 09:25:28,910 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2643126, "lng": -97.7340971}, "viewport": {"northeast": {"lat": 30.26576902989272, "lng": -97.73269037010728}, "southwest": {"lat": 30.26306937010727, "lng": -97.73539002989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcar
2025-11-20 09:25:28,910 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=8
2025-11-20 09:25:28,910 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:28,910 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:28,910 [INFO] seed_city - [SeedCity] Charger ch_dfed1bf5eecd category 'groceries': Found 8 places
2025-11-20 09:25:28,922 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:28,956 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e3490>
2025-11-20 09:25:28,956 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8820> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:29,035 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b61c0>
2025-11-20 09:25:29,035 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:29,036 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:29,036 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:29,037 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:29,037 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:29,189 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:29 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3397'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=63'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:29,191 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256224%2C-97.73954&destinations=30.2643126%2C-97.7340971%7C30.2706339%2C-97.753587%7C30.2975583%2C-97.7410694%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:29,191 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:29,192 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:29,193 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:29,193 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:29,194 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:29,194 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:29,297 [INFO] seed_city - [SeedCity] Charger ch_dfed1bf5eecd: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 09:25:29,297 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.256224 lng=-97.73954 type=gym radius=1000
2025-11-20 09:25:29,310 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:29,407 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c15b0>
2025-11-20 09:25:29,408 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8a50> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:29,487 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088b6ac0>
2025-11-20 09:25:29,489 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:29,490 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:29,490 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:29,490 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:29,491 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:30,060 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:30 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:30 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'46639'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=494'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:30,061 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.256224%2C-97.73954&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 09:25:30,061 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:30,121 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:30,122 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:30,122 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:30,124 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.256224,-97.73954', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 09:25:30,125 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU42gLLGYJik51c7j6ekNPcvv8VHjy55fag-UheqnNzWn1JGg18IlzuMTLXFYNIb3xD4qBxFaCeO_aMnl27i01XMQDw4-WEmxrMJTOUr70X53G-6c7yKPOTBHecnQPoW8JwV04o6kDA_iwXI9Ndx8AGTNKi1WkSs9-mgKBsOZKo-vb99eWQiPX0rgEMug4KQdoveNSUOJd1W-6EbAQAxNJ-v7gePAkLlnVyRY-qhF4X18dIsI0odVHZLhxYG5bkGComga-VTyKbbTZ-C35KjtIZgMRV4d-QtKdQ23MOzKiLAbtGaZ00XU7LpC4tPSsLDdj7g6u0Fmz3tm37ei5IoaVgpoCiadB0u3r7iOoJ5Gy7JLRy4yJPNzjf9noJfhIlqaR3LSki1kMaPU6DlrAPENIkDFTL8Ktf93WR4b0Scj4JBHGNPB_H444g7B1pfpqZIkZ
2025-11-20 09:25:30,125 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:30,125 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:30,125 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:30,126 [INFO] seed_city - [SeedCity] Charger ch_dfed1bf5eecd category 'gym': Found 10 places
2025-11-20 09:25:30,136 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:30,261 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1076e2df0>
2025-11-20 09:25:30,261 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8ac0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:30,424 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e6070>
2025-11-20 09:25:30,424 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:30,425 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:30,425 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:30,425 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:30,425 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:30,608 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:30 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4029'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=140'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:30,609 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.256224%2C-97.73954&destinations=30.260628%2C-97.741897%7C30.2527893%2C-97.7470176%7C30.2539864%2C-97.74764719999999%7C30.2523341%2C-97.73199509999999%7C30.2646668%2C-97.73346769999999%7C30.2645313%2C-97.7313798%7C30.267006%2C-97.7416592%7C30.2655709%2C-97.7479626%7C30.2632263%2C-97.7277546%7C30.2619075%2C-97.72578680000001&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:30,610 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:30,611 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:30,611 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:30,612 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:30,612 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:30,613 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:30,617 [ERROR] seed_city - Error processing category gym for charger ch_dfed1bf5eecd: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJQ7j2YQe1RIYRuurPrEGJdWM', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJQ7j2YQe1RIYRuurPrEGJdWM', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:25:30,618 [WARNING] seed_city - No merchants found for charger WOTL SMART CHAR WINDSORONLAKE 1
2025-11-20 09:25:30,620 [INFO] seed_city - [SeedCity] Charger ch_fc8ec6587840: Searching category 'coffee' -> types ['cafe', 'coffee_shop'] keyword='coffee espresso cafe coffeeshop starbucks'
2025-11-20 09:25:30,620 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.254054 lng=-97.761958 type=cafe radius=1000
2025-11-20 09:25:30,630 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:30,759 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1074fb9d0>
2025-11-20 09:25:30,760 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088ec660> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:30,837 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1074fb910>
2025-11-20 09:25:30,838 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:30,839 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:30,840 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:30,840 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:30,840 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:31,514 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:31 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:31 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'50039'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=516'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:31,514 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.254054%2C-97.761958&rankby=distance&type=cafe&keyword=coffee+espresso+cafe+coffeeshop+starbucks "HTTP/1.1 200 OK"
2025-11-20 09:25:31,514 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:31,619 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:31,619 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:31,620 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:31,621 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.254054,-97.761958', 'rankby': 'distance', 'type': 'cafe', 'keyword': 'coffee espresso cafe coffeeshop starbucks'}
2025-11-20 09:25:31,622 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU50RukLb3ezzGvsXT0KIkEDV3GnaiBbb7N91aXYFRHZpPF5_RFg5h-D13GZY4TuC4vBEyNVrUXT9kKaf9-zEqfAQHWgS-AdNHZ-REyGbkjdj3zU0SEJ2eJEK2lDJort9j84n6XxtuKpMefzyZNSZFoIMzKo06E53sOJFlH-wmOJ_ifmKAOC0KoeaQlARYUVHbkho6UDy9cIHCRrAf-umURvMHFlp5OthLRQ77b7lw_JqsK5NMQcPi_Ce7UYwzMzw-NK5B-Cwi-5lNxKljHEgV0nifBhS3Vv5ZaorB6YkaVZzaG7oOuFAEeG4RrAQ15OXoP04TA267CcGpCSBGlYN-YvzYhehCLkdw_E510FGbxkdu6R7Ox3ZfUXl2Xpp_FVX9rCUajczvMLweIRyptzjWTIs9ZVlzox2XI_Bre4WNGFM0GlXvtGuGXyE11lG46TFl
2025-11-20 09:25:31,622 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:31,623 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:31,623 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:31,624 [INFO] seed_city - [SeedCity] Charger ch_fc8ec6587840 category 'coffee': Found 10 places
2025-11-20 09:25:31,635 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:31,676 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c47c0>
2025-11-20 09:25:31,676 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1076e4120> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:31,854 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088c4820>
2025-11-20 09:25:31,855 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:31,856 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:31,856 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:31,856 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:31,857 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:32,006 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:32 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3998'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=88'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:32,007 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.254054%2C-97.761958&destinations=30.25224%2C-97.7636%7C30.2612339%2C-97.75786389999999%7C30.24218479999999%2C-97.7589562%7C30.26977999999999%2C-97.75390999999999%7C30.26587%2C-97.74643999999999%7C30.26447%2C-97.74377%7C30.26546%2C-97.74043999999999%7C30.26554%2C-97.73837999999999%7C30.23371%2C-97.74239999999999%7C30.2781%2C-97.74434&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:32,008 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:32,008 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:32,009 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:32,009 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:32,010 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:32,010 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:32,012 [ERROR] seed_city - Error processing category coffee for charger ch_fc8ec6587840: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJAz-oAyC1RIYRJVI8s7gkfTM', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJAz-oAyC1RIYRJVI8s7gkfTM', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:25:32,013 [INFO] seed_city - [SeedCity] Charger ch_fc8ec6587840: Searching category 'food' -> types ['restaurant', 'meal_takeaway', 'food'] keyword='lunch dinner restaurant food'
2025-11-20 09:25:32,013 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.254054 lng=-97.761958 type=restaurant radius=1000
2025-11-20 09:25:32,018 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:32,066 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088beb80>
2025-11-20 09:25:32,066 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8eb0> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:32,172 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x107671c40>
2025-11-20 09:25:32,173 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:32,174 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:32,174 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:32,175 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:32,175 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:32,949 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:32 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:32 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'49815'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=535'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:32,950 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.254054%2C-97.761958&rankby=distance&type=restaurant&keyword=lunch+dinner+restaurant+food "HTTP/1.1 200 OK"
2025-11-20 09:25:32,950 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:33,091 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:33,091 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:33,091 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:33,093 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.254054,-97.761958', 'rankby': 'distance', 'type': 'restaurant', 'keyword': 'lunch dinner restaurant food'}
2025-11-20 09:25:33,094 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5LMfu2yGsIm2YST4CPCbvsNhgBqgbqk0ftHih7IgHM7-KbKKTk9iSRAgvNwCQI65TwBo1Q1y3qd06ewtS9lnPaDw6O_95CIujDGZGJgFYMnOAdHCJdUS637Np-bRpkvUQpap4EL8eHukH1oyO_DxFkCr5Ie6Rw_9qBFJdDRFzghrVfnMPT70fsSnRpr10k0X5AJPhaWbmn_sNEG7p9Fu1lA5q959VUF-ybjH7hv_aSb-sH2yqILI-Nui6p2uaKnH9ftUtWRGp69R75VBBq_RtgaDkShmCrxXLwOCD724UEPY34fyh7SJB8kKuONL4_-O-bQGWVy8-JC8H06XQji4fMLKACqNULLTIcztKBs6iNdEZnMk-30yplQFQhNNtzG365d1gA-dqN7m7lo-1Q8qh6Enul-pAV6mTE_laX8OJh7Ja5h9_Ps5Ls3ShGYitpSO
2025-11-20 09:25:33,094 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:33,095 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:33,095 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:33,095 [INFO] seed_city - [SeedCity] Charger ch_fc8ec6587840 category 'food': Found 10 places
2025-11-20 09:25:33,106 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:33,157 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e37f0>
2025-11-20 09:25:33,158 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8c80> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:33,260 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e3400>
2025-11-20 09:25:33,261 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:33,262 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:33,262 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:33,263 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:33,263 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:33,418 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:33 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4044'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=103'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:33,420 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.254054%2C-97.761958&destinations=30.254672%2C-97.762051%7C30.2536504%2C-97.7628601%7C30.2546975%2C-97.7626693%7C30.2508795%2C-97.7659164%7C30.2494868%2C-97.7555656%7C30.2465449%2C-97.7567582%7C30.2641631%2C-97.7617126%7C30.2477396%2C-97.7713502%7C30.2638786%2C-97.75682049999999%7C30.2534769%2C-97.74788769999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:33,420 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:33,421 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:33,421 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:33,421 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:33,422 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:33,423 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:33,425 [ERROR] seed_city - Error processing category food for charger ch_fc8ec6587840: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJi8__nx-1RIYR56djED9FLLE', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJi8__nx-1RIYR56djED9FLLE', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:25:33,426 [INFO] seed_city - [SeedCity] Charger ch_fc8ec6587840: Searching category 'groceries' -> types ['supermarket', 'grocery_or_supermarket', 'convenience_store'] keyword='groceries grocery store supermarket whole foods'
2025-11-20 09:25:33,426 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.254054 lng=-97.761958 type=supermarket radius=1000
2025-11-20 09:25:33,437 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:33,571 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d5430>
2025-11-20 09:25:33,571 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8820> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:33,674 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088dbbb0>
2025-11-20 09:25:33,675 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:33,676 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:33,676 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:33,677 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:33,677 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:34,128 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:34 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:34 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'18851'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=392'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:34,129 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.254054%2C-97.761958&rankby=distance&type=supermarket&keyword=groceries+grocery+store+supermarket+whole+foods "HTTP/1.1 200 OK"
2025-11-20 09:25:34,129 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:34,174 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:34,174 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:34,174 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:34,175 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.254054,-97.761958', 'rankby': 'distance', 'type': 'supermarket', 'keyword': 'groceries grocery store supermarket whole foods'}
2025-11-20 09:25:34,175 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "results": [{"business_status": "OPERATIONAL", "geometry": {"location": {"lat": 30.2706339, "lng": -97.753587}, "viewport": {"northeast": {"lat": 30.27219627989272, "lng": -97.75194632010728}, "southwest": {"lat": 30.26949662010727, "lng": -97.75464597989273}}}, "icon": "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/shopping-71.png", "icon_background_color": "#4B96F3", "icon_mask_base_uri": "https://maps.gstatic.com/mapfiles/place_api/icons/v2/shoppingcart
2025-11-20 09:25:34,175 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=7
2025-11-20 09:25:34,176 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:34,176 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:34,176 [INFO] seed_city - [SeedCity] Charger ch_fc8ec6587840 category 'groceries': Found 7 places
2025-11-20 09:25:34,187 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:34,223 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088f5be0>
2025-11-20 09:25:34,223 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8e40> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:34,302 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088f56d0>
2025-11-20 09:25:34,303 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:34,304 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:34,304 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:34,305 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:34,305 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:34,433 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:34 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'3004'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=54'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:34,434 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.254054%2C-97.761958&destinations=30.2706339%2C-97.753587%7C30.2643126%2C-97.7340971%7C30.2202799%2C-97.841751%7C30.3893422%2C-97.7416415%7C30.4063209%2C-97.7201151%7C30.3076183%2C-97.9377502%7C30.5356858%2C-97.81766089999999&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:34,434 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:34,435 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:34,435 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:34,435 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:34,436 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:34,436 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:34,538 [INFO] seed_city - [SeedCity] Charger ch_fc8ec6587840: Searching category 'gym' -> types ['gym', 'health', 'fitness_center'] keyword='gym fitness workout yoga'
2025-11-20 09:25:34,538 [WARNING] app.integrations.google_places_client - [GooglePlaces][Nearby] lat=30.254054 lng=-97.761958 type=gym radius=1000
2025-11-20 09:25:34,551 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-20 09:25:34,647 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10766b820>
2025-11-20 09:25:34,648 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8a50> server_hostname='maps.googleapis.com' timeout=10.0
2025-11-20 09:25:34,727 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10766b760>
2025-11-20 09:25:34,728 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:34,729 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:34,730 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:34,730 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:34,730 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:35,190 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:35 GMT'), (b'Expires', b'Thu, 20 Nov 2025 15:30:35 GMT'), (b'Cache-Control', b'public, max-age=300'), (b'Vary', b'Accept-Language'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaipomnpc:830:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaipomnpc:830:0'), (b'Report-To', b'{"group":"msaipomnpc:830:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaipomnpc:830:0"}],}'), (b'Server', b'scaffolding on HTTPServer2'), (b'Content-Length', b'47038'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=420'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:35,190 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&location=30.254054%2C-97.761958&rankby=distance&type=gym&keyword=gym+fitness+workout+yoga "HTTP/1.1 200 OK"
2025-11-20 09:25:35,191 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:35,257 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:35,258 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:35,258 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:35,258 [WARNING] app.integrations.google_places_client - [PLACES] Request params: {'key': 'AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg', 'location': '30.254054,-97.761958', 'rankby': 'distance', 'type': 'gym', 'keyword': 'gym fitness workout yoga'}
2025-11-20 09:25:35,258 [WARNING] app.integrations.google_places_client - [PLACES] Response: {"html_attributions": [], "next_page_token": "AWn5SU5E-l4kmPA4E720vD0mjGx7vkwkdovkfQHhMpBhk0Ndmn3Np2UaUagcQPFwupl4EZPD-9B8vQ0KgF7iRCLIKnDX5nJuMwkHm9vYxylj2Rtnou4YJoa-GCvcAR9ljjuFx5UYmRwsVI1GCmh0E24dYAaX7TesclHD6EOklSciZYU0LNT1c_SMutcbsLrJShw1Ap5CBlMvUEQxVFBzDyLaeUtA1H3_iwTWarBBS4hKKx8j1jAJSKKSTWeJDIqTySXxOdSIw6U3sdViysujHfb9fQbREi_TpAZQZ2ekXnpun6mV7k3y84w_uusRxVsqHXcv4UzqpohI4c7HQszsrnjw5KGUZGESNIM2g3wfHOMBfoPRryOMs6TdIvcpbonMViJrZXjhVfZE65IThLXe_BoTN8pECCf20ZbrkXWYKJ9pazT0xCm4lIo2icsc_eohBv7Mp1
2025-11-20 09:25:35,258 [INFO] app.integrations.google_places_client - [GooglePlaces][Nearby] status=OK results=20
2025-11-20 09:25:35,258 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:35,259 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:35,259 [INFO] seed_city - [SeedCity] Charger ch_fc8ec6587840 category 'gym': Found 10 places
2025-11-20 09:25:35,262 [DEBUG] httpcore.connection - connect_tcp.started host='maps.googleapis.com' port=443 local_address=None timeout=15.0 socket_options=None
2025-11-20 09:25:35,296 [DEBUG] httpcore.connection - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088e3220>
2025-11-20 09:25:35,297 [DEBUG] httpcore.connection - start_tls.started ssl_context=<ssl.SSLContext object at 0x1088a8cf0> server_hostname='maps.googleapis.com' timeout=15.0
2025-11-20 09:25:35,380 [DEBUG] httpcore.connection - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d5430>
2025-11-20 09:25:35,380 [DEBUG] httpcore.http11 - send_request_headers.started request=<Request [b'GET']>
2025-11-20 09:25:35,381 [DEBUG] httpcore.http11 - send_request_headers.complete
2025-11-20 09:25:35,381 [DEBUG] httpcore.http11 - send_request_body.started request=<Request [b'GET']>
2025-11-20 09:25:35,381 [DEBUG] httpcore.http11 - send_request_body.complete
2025-11-20 09:25:35,382 [DEBUG] httpcore.http11 - receive_response_headers.started request=<Request [b'GET']>
2025-11-20 09:25:35,547 [DEBUG] httpcore.http11 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Date', b'Thu, 20 Nov 2025 15:25:35 GMT'), (b'Pragma', b'no-cache'), (b'Expires', b'Fri, 01 Jan 1990 00:00:00 GMT'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'Vary', b'Accept-Language'), (b'X-Goog-Maps-Metro-Area', b'Austin, TX'), (b'Content-Security-Policy-Report-Only', b"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/scaffolding/msaifddsmnwc:353:0"), (b'Cross-Origin-Opener-Policy-Report-Only', b'same-origin; report-to=msaifddsmnwc:353:0'), (b'Report-To', b'{"group":"msaifddsmnwc:353:0","max_age":2592000,"endpoints":[{"url":"https://csp.withgoogle.com/csp/report-to/scaffolding/msaifddsmnwc:353:0"}],}'), (b'Server', b'mafe'), (b'Content-Length', b'4047'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Server-Timing', b'gfet4t7; dur=37'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000')])
2025-11-20 09:25:35,549 [INFO] httpx - HTTP Request: GET https://maps.googleapis.com/maps/api/distancematrix/json?key=AIzaSyAs0PVYXj3-ztRXCjdd0ztUGUSjQR73FFg&origins=30.254054%2C-97.761958&destinations=30.2549179%2C-97.7608004%7C30.2552863%2C-97.7610763%7C30.2531154%2C-97.76364720000001%7C30.2569738%2C-97.7604266%7C30.2491111%2C-97.754976%7C30.2628555%2C-97.7585568%7C30.243991%2C-97.758557%7C30.24861799999999%2C-97.7729454%7C30.2539864%2C-97.74764719999999%7C30.2527893%2C-97.7470176&mode=walking&units=metric "HTTP/1.1 200 OK"
2025-11-20 09:25:35,549 [DEBUG] httpcore.http11 - receive_response_body.started request=<Request [b'GET']>
2025-11-20 09:25:35,550 [DEBUG] httpcore.http11 - receive_response_body.complete
2025-11-20 09:25:35,550 [DEBUG] httpcore.http11 - response_closed.started
2025-11-20 09:25:35,550 [DEBUG] httpcore.http11 - response_closed.complete
2025-11-20 09:25:35,551 [DEBUG] httpcore.connection - close.started
2025-11-20 09:25:35,551 [DEBUG] httpcore.connection - close.complete
2025-11-20 09:25:35,553 [ERROR] seed_city - Error processing category gym for charger ch_fc8ec6587840: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJmXE1EUW1RIYRemcfe-qbQtw', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: merchants.external_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jameskirk/Desktop/Nerava/nerava-backend-v9/app/jobs/seed_city.py", line 187, in seed_city
    merchant = db.query(Merchant).filter(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/jameskirk/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: merchants.external_id
[SQL: SELECT merchants.id AS merchants_id, merchants.external_id AS merchants_external_id, merchants.name AS merchants_name, merchants.category AS merchants_category, merchants.lat AS merchants_lat, merchants.lng AS merchants_lng, merchants.address AS merchants_address, merchants.city AS merchants_city, merchants.state AS merchants_state, merchants.zip_code AS merchants_zip_code, merchants.logo_url AS merchants_logo_url, merchants.photo_url AS merchants_photo_url, merchants.rating AS merchants_rating, merchants.price_level AS merchants_price_level, merchants.phone AS merchants_phone, merchants.website AS merchants_website, merchants.place_types AS merchants_place_types, merchants.created_at AS merchants_created_at, merchants.updated_at AS merchants_updated_at 
FROM merchants 
WHERE merchants.external_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('ChIJmXE1EUW1RIYRemcfe-qbQtw', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-20 09:25:35,555 [WARNING] seed_city - No merchants found for charger GIBSON FLATS STATION 2
2025-11-20 09:25:35,556 [INFO] seed_city - Seed complete: 0 merchants, 0 charger-merchant links
