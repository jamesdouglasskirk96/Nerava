:root{
  --navy:#0c1c2a;
  --panel:#0f2335;
  --text:#e7eef6;
  --muted:#b8c6d4;
  --green:#79d98c;
  --pill:#173247;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
}

/* SSO Overlay Styles */
.sso-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
  padding: 12px 16px;
  margin: 8px 0;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  background: #fff;
  color: #1e293b;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
}
.sso-btn:hover { background: #f8fafc; border-color: #cbd5e1; }
.sso-btn.btn-apple { background: #000; color: #fff; border-color: #000; }
.sso-btn.btn-google { background: #4285f4; color: #fff; border-color: #4285f4; }
.sso-row { display: flex; flex-direction: column; gap: 4px; }

/* Demo Push Banner */
.demo-push {
  position: fixed;
  bottom: 100px;
  left: 16px;
  right: 16px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 12px 16px;
  border-radius: 12px;
  font-weight: 600;
  cursor: pointer;
  z-index: 1000;
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  animation: slideUp 0.3s ease-out;
}
@keyframes slideUp {
  from { transform: translateY(100px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

*{box-sizing:border-box}
html,body,#app{height:100%;margin:0}
body{
font-family: -apple-system, system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
-webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
background:var(--bg);color:var(--text);
}

#map{position:absolute; inset:0; z-index:1; min-height:100%}
.ui-layer{position:relative; z-index:2}

.full-height{ height: calc(100vh - 56px - 36px); }

/* Top */
.app-top{position:fixed; top:0; left:0; right:0; z-index:3}
.brandbar{display:flex; align-items:center; justify-content:center; gap:.75rem; height:56px; background:var(--surface); border-bottom:1px solid rgba(0,0,0,.06)}
.brand-word{letter-spacing:.35rem;font-weight:800}
.brand-bolt{width:20px;height:20px;filter:invert(1)}
.deal-banner{background:var(--green); color:#0b1a26; font-weight:800; text-align:center; padding:.6rem 1rem}

.main-layer{padding-top:108px; padding-bottom:100px}

/* Pages */
.page{display:none}
.page.active{display:block}

/* Cards */
.card{background:var(--surface); color:var(--text); border-radius:28px; box-shadow: 0 10px 30px rgba(2, 8, 20, .06); padding:22px}
.hub-card{width:92%; margin:0 auto; position:fixed; left:50%; transform:translateX(-50%); bottom:88px}
.content-card{width:92%; margin:100px auto 0}

/* Hub */
.hub-name{font-size:32px; line-height:1.1; margin:0 0 .25rem}
.hub-subtitle{color:var(--muted); font-weight:800; margin-bottom:.75rem}

.pill-row{display:flex; gap:.6rem; margin-bottom:.8rem}
.pill{background:var(--pill); color:var(--text); padding:.4rem .7rem; border-radius:18px; font-weight:700; font-size:.9rem}

.logo-row{display:flex; gap:.7rem; margin:.4rem 0 1rem}
.merchant-logo{width:48px;height:48px;border-radius:50%;object-fit:cover;display:block;box-shadow:0 2px 8px rgba(0,0,0,.35)}

.meta-line{display:flex; gap:.5rem; align-items:center; color:var(--muted); margin-bottom:1rem}
.dot{opacity:.6}

/* Buttons */
.btn{border:0; cursor:pointer; font-weight:800; border-radius:18px}
.btn-primary{background:var(--green); color:#0a1a26; padding:1rem 1.2rem}
.btn-wide{width:100%}
.pill-btn{background:#102e41; color:var(--text); padding:.7rem 1rem}

/* Charge/Wallet/Profile */
.section-title{margin:0 0 .5rem; font-size:28px}
.balance{font-size:36px; font-weight:900; margin:.25rem 0 .75rem}
.list{list-style:none; padding:0; margin:.75rem 0 0}
.list li{display:flex; justify-content:space-between; padding:.6rem 0; border-bottom:1px solid rgba(255,255,255,.06)}
.row{display:flex}
.gap{gap:.75rem}
.muted{color:var(--muted)}
.prefs{display:grid; grid-template-columns:1fr 1fr; gap:.5rem 1rem; margin:.5rem 0 1rem}

/* Bottom Nav */
.bottom-nav{position:fixed; left:0; right:0; bottom:0; height:72px; display:flex; justify-content:space-around; align-items:center; background:var(--nav-bg); backdrop-filter: saturate(180%) blur(10px); z-index:3; border-top:1px solid rgba(0,0,0,.06)}
.bottom-nav .tab{background:transparent; border:0; color:var(--nav-label); display:flex; flex-direction:column; gap:.25rem; align-items:center; font-weight:700}
.bottom-nav .tab.active{color:var(--nav-label-active); font-weight:800}
.bottom-nav img{width:22px;height:22px;color:var(--nav-icon); filter: none; opacity: 0.95;}
.bottom-nav .tab.active img{color:var(--nav-icon-active); opacity: 1;}

.card{background:var(--card); border:1px solid #e2e8f0; border-radius:var(--radius-2); padding:var(--space-4); box-shadow:var(--shadow-1);}
.grid{display:grid; gap:16px; grid-template-columns:1fr; }
@media(min-width:980px){ .grid{grid-template-columns:1fr 1fr 1fr;} }
.text-quiet{color:var(--text-quiet)}
.h2{font-size:18px; font-weight:700; margin:0 0 8px}
.h3{font-size:16px; font-weight:700; margin:0 0 6px}

/* Walking Route Styles */
.route-badge{
  position:absolute;
  left:16px;
  top:12px;
  background:#fff;
  border-radius:12px;
  padding:6px 10px;
  font-weight:700;
  box-shadow:0 4px 16px rgba(0,0,0,.12);
}

.walk-cta{
  position:relative;
  margin:8px 16px 0;
  padding:10px 12px;
  border-radius:12px;
  background:color-mix(in srgb, var(--brand) 14%, #fff);
  font-weight:600;
}

.walk-cta button{
  background:var(--brand);
  color:#fff;
  border:0;
  border-radius:10px;
  padding:8px 12px;
  margin-left:8px;
}

/* Deprecate QR scanning UI (kept in DOM for safety, hidden visually) */
.scan-panel, #scan-panel {
  display: none !important;
}

/* Charge tab: simple verify-by-location button */
.verify-card{
  margin:16px; padding:16px; border-radius:14px;
  background:#fff; box-shadow:0 6px 20px rgba(0,0,0,.08);
}

.verify-card h3{ margin:0 0 8px; font-size:16px; }

.verify-btn{
  display:inline-block; background:var(--brand); color:#fff;
  border:0; border-radius:10px; padding:10px 14px; font-weight:700;
}
