:root{
  /* Light theme (Apple-ish) */
  --bg: #f6f7fb;
  --surface: #ffffff;
  --surface-2: #f3f5f8;
  --text: #0c1b2a;
  --text-subtle:#5a6b7a;
  --brand: #2a6bf2;            /* lighter blue */
  --brand-600:#1f57c7;
  --brand-100:#e8f0ff;
  --accent: #ffd43b;           /* lightning bolt yellow */
  --success:#22c55e;
  --warning:#f59e0b;
  --danger:#ef4444;

  --border: #e5e9f0;
  --shadow: 0 8px 24px rgba(13, 31, 54, .12);

  --radius-xl: 24px;
  --radius-lg: 16px;
  --radius-md: 12px;

  /* Layout metrics */
  --header-h: calc(56px + env(safe-area-inset-top, 0px));
  --nav-h:    calc(72px + env(safe-area-inset-bottom, 0px));
  --page-pad: 16px;
}

/* Typography */
body{ color:var(--text); background:var(--bg); -webkit-font-smoothing:antialiased; }

/* Bright header */
.app-header{
  position:fixed; top:0; left:0; right:0; z-index:1000;
  height:var(--header-h);
  padding: calc(env(safe-area-inset-top,0px) + 8px) 20px 8px 20px;
  display:flex; align-items:flex-end; gap:8px;
  background:var(--surface); border-bottom:1px solid var(--border);
}
.app-title{ font-size:20px; letter-spacing:0.22em; font-weight:800; }
.app-bolt{
  width:16px; height:16px; margin-left:6px; display:inline-block;
  background: conic-gradient(from 180deg, var(--accent), #ffe781);
  -webkit-mask: url('/icons/bolt.svg') no-repeat center / contain;
          mask: url('/icons/bolt.svg') no-repeat center / contain;
}

/* Map fills viewport behind everything */
#map{
  position:fixed; inset:0;
  top:var(--header-h); 
  bottom:var(--nav-h);
  z-index:100; /* behind sheets/nav */
}

/* Bottom navigation (brighter) */
#bottom-nav{
  position:fixed; left:0; right:0; bottom:0; z-index:1000;
  height:var(--nav-h);
  padding-bottom: env(safe-area-inset-bottom, 0px);
  background: var(--surface);
  border-top: 1px solid var(--border);
  display:flex; align-items:center; justify-content:space-around;
}
#bottom-nav .tab{
  color: var(--text-subtle);
  font-weight:700;
}
#bottom-nav .tab.active{ color: var(--brand); }
#bottom-nav .tab .icon{
  filter: brightness(1.2) saturate(1.2); opacity: 0.95; /* brighter icons */
}

/* Sheet over map */
.sheet{
  position:fixed; left:var(--page-pad); right:var(--page-pad);
  top: calc(var(--header-h) + 12px);
  bottom: calc(var(--nav-h) + 12px);
  z-index: 900;
  background: var(--surface);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow);
  overflow: hidden;
  display:flex; flex-direction:column;
}
.sheet-header{
  padding: 18px 18px 8px 18px;
  border-bottom: 1px solid var(--border);
}
.sheet-body{
  overflow:auto; -webkit-overflow-scrolling:touch;
  padding: 12px 14px 20px 14px;
  gap:12px; display:flex; flex-direction:column;
}

/* Explore cards inside sheet */
.card{
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:var(--radius-lg);
  padding:14px;
  box-shadow: none;
}
.badge{ background:var(--brand-100); color:var(--brand); border-radius:999px; padding:6px 10px; font-weight:700; }

/* Buttons */
.btn{ border-radius:999px; padding:12px 16px; font-weight:800; }
.btn-primary{ background:var(--brand); color:#fff; }
.btn-primary:active{ background:var(--brand-600); }
.btn-ghost{ background:#fff; border:1px solid var(--border); color:var(--text); }

/* Hide old banner container unless Explore is active (kept for compat) */
#dealBanner, #incentive-banner{ z-index: 1200; }

/* Pages container (only Explore uses sheet layout; others stay content) */
.page{ display:none; }
.page.active{ display:block; }

/* Charge/Wallet/Profile spacing so they sit above map safely */
.page-padded{
  position:relative; z-index: 900;
  padding: calc(var(--header-h) + 16px) var(--page-pad) calc(var(--nav-h) + 16px) var(--page-pad);
}